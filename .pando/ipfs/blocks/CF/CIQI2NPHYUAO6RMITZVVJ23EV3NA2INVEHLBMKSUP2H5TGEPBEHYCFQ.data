
Š€€€kein512-40\"]=Buffer.from(\"b325\",\"hex\"),t[\"skein512-48\"]=Buffer.from(\"b326\",\"hex\"),t[\"skein512-56\"]=Buffer.from(\"b327\",\"hex\"),t[\"skein512-64\"]=Buffer.from(\"b328\",\"hex\"),t[\"skein512-72\"]=Buffer.from(\"b329\",\"hex\"),t[\"skein512-80\"]=Buffer.from(\"b32a\",\"hex\"),t[\"skein512-88\"]=Buffer.from(\"b32b\",\"hex\"),t[\"skein512-96\"]=Buffer.from(\"b32c\",\"hex\"),t[\"skein512-104\"]=Buffer.from(\"b32d\",\"hex\"),t[\"skein512-112\"]=Buffer.from(\"b32e\",\"hex\"),t[\"skein512-120\"]=Buffer.from(\"b32f\",\"hex\"),t[\"skein512-128\"]=Buffer.from(\"b330\",\"hex\"),t[\"skein512-136\"]=Buffer.from(\"b331\",\"hex\"),t[\"skein512-144\"]=Buffer.from(\"b332\",\"hex\"),t[\"skein512-152\"]=Buffer.from(\"b333\",\"hex\"),t[\"skein512-160\"]=Buffer.from(\"b334\",\"hex\"),t[\"skein512-168\"]=Buffer.from(\"b335\",\"hex\"),t[\"skein512-176\"]=Buffer.from(\"b336\",\"hex\"),t[\"skein512-184\"]=Buffer.from(\"b337\",\"hex\"),t[\"skein512-192\"]=Buffer.from(\"b338\",\"hex\"),t[\"skein512-200\"]=Buffer.from(\"b339\",\"hex\"),t[\"skein512-208\"]=Buffer.from(\"b33a\",\"hex\"),t[\"skein512-216\"]=Buffer.from(\"b33b\",\"hex\"),t[\"skein512-224\"]=Buffer.from(\"b33c\",\"hex\"),t[\"skein512-232\"]=Buffer.from(\"b33d\",\"hex\"),t[\"skein512-240\"]=Buffer.from(\"b33e\",\"hex\"),t[\"skein512-248\"]=Buffer.from(\"b33f\",\"hex\"),t[\"skein512-256\"]=Buffer.from(\"b340\",\"hex\"),t[\"skein512-264\"]=Buffer.from(\"b341\",\"hex\"),t[\"skein512-272\"]=Buffer.from(\"b342\",\"hex\"),t[\"skein512-280\"]=Buffer.from(\"b343\",\"hex\"),t[\"skein512-288\"]=Buffer.from(\"b344\",\"hex\"),t[\"skein512-296\"]=Buffer.from(\"b345\",\"hex\"),t[\"skein512-304\"]=Buffer.from(\"b346\",\"hex\"),t[\"skein512-312\"]=Buffer.from(\"b347\",\"hex\"),t[\"skein512-320\"]=Buffer.from(\"b348\",\"hex\"),t[\"skein512-328\"]=Buffer.from(\"b349\",\"hex\"),t[\"skein512-336\"]=Buffer.from(\"b34a\",\"hex\"),t[\"skein512-344\"]=Buffer.from(\"b34b\",\"hex\"),t[\"skein512-352\"]=Buffer.from(\"b34c\",\"hex\"),t[\"skein512-360\"]=Buffer.from(\"b34d\",\"hex\"),t[\"skein512-368\"]=Buffer.from(\"b34e\",\"hex\"),t[\"skein512-376\"]=Buffer.from(\"b34f\",\"hex\"),t[\"skein512-384\"]=Buffer.from(\"b350\",\"hex\"),t[\"skein512-392\"]=Buffer.from(\"b351\",\"hex\"),t[\"skein512-400\"]=Buffer.from(\"b352\",\"hex\"),t[\"skein512-408\"]=Buffer.from(\"b353\",\"hex\"),t[\"skein512-416\"]=Buffer.from(\"b354\",\"hex\"),t[\"skein512-424\"]=Buffer.from(\"b355\",\"hex\"),t[\"skein512-432\"]=Buffer.from(\"b356\",\"hex\"),t[\"skein512-440\"]=Buffer.from(\"b357\",\"hex\"),t[\"skein512-448\"]=Buffer.from(\"b358\",\"hex\"),t[\"skein512-456\"]=Buffer.from(\"b359\",\"hex\"),t[\"skein512-464\"]=Buffer.from(\"b35a\",\"hex\"),t[\"skein512-472\"]=Buffer.from(\"b35b\",\"hex\"),t[\"skein512-480\"]=Buffer.from(\"b35c\",\"hex\"),t[\"skein512-488\"]=Buffer.from(\"b35d\",\"hex\"),t[\"skein512-496\"]=Buffer.from(\"b35e\",\"hex\"),t[\"skein512-504\"]=Buffer.from(\"b35f\",\"hex\"),t[\"skein512-512\"]=Buffer.from(\"b360\",\"hex\"),t[\"skein1024-8\"]=Buffer.from(\"b361\",\"hex\"),t[\"skein1024-16\"]=Buffer.from(\"b362\",\"hex\"),t[\"skein1024-24\"]=Buffer.from(\"b363\",\"hex\"),t[\"skein1024-32\"]=Buffer.from(\"b364\",\"hex\"),t[\"skein1024-40\"]=Buffer.from(\"b365\",\"hex\"),t[\"skein1024-48\"]=Buffer.from(\"b366\",\"hex\"),t[\"skein1024-56\"]=Buffer.from(\"b367\",\"hex\"),t[\"skein1024-64\"]=Buffer.from(\"b368\",\"hex\"),t[\"skein1024-72\"]=Buffer.from(\"b369\",\"hex\"),t[\"skein1024-80\"]=Buffer.from(\"b36a\",\"hex\"),t[\"skein1024-88\"]=Buffer.from(\"b36b\",\"hex\"),t[\"skein1024-96\"]=Buffer.from(\"b36c\",\"hex\"),t[\"skein1024-104\"]=Buffer.from(\"b36d\",\"hex\"),t[\"skein1024-112\"]=Buffer.from(\"b36e\",\"hex\"),t[\"skein1024-120\"]=Buffer.from(\"b36f\",\"hex\"),t[\"skein1024-128\"]=Buffer.from(\"b370\",\"hex\"),t[\"skein1024-136\"]=Buffer.from(\"b371\",\"hex\"),t[\"skein1024-144\"]=Buffer.from(\"b372\",\"hex\"),t[\"skein1024-152\"]=Buffer.from(\"b373\",\"hex\"),t[\"skein1024-160\"]=Buffer.from(\"b374\",\"hex\"),t[\"skein1024-168\"]=Buffer.from(\"b375\",\"hex\"),t[\"skein1024-176\"]=Buffer.from(\"b376\",\"hex\"),t[\"skein1024-184\"]=Buffer.from(\"b377\",\"hex\"),t[\"skein1024-192\"]=Buffer.from(\"b378\",\"hex\"),t[\"skein1024-200\"]=Buffer.from(\"b379\",\"hex\"),t[\"skein1024-208\"]=Buffer.from(\"b37a\",\"hex\"),t[\"skein1024-216\"]=Buffer.from(\"b37b\",\"hex\"),t[\"skein1024-224\"]=Buffer.from(\"b37c\",\"hex\"),t[\"skein1024-232\"]=Buffer.from(\"b37d\",\"hex\"),t[\"skein1024-240\"]=Buffer.from(\"b37e\",\"hex\"),t[\"skein1024-248\"]=Buffer.from(\"b37f\",\"hex\"),t[\"skein1024-256\"]=Buffer.from(\"b380\",\"hex\"),t[\"skein1024-264\"]=Buffer.from(\"b381\",\"hex\"),t[\"skein1024-272\"]=Buffer.from(\"b382\",\"hex\"),t[\"skein1024-280\"]=Buffer.from(\"b383\",\"hex\"),t[\"skein1024-288\"]=Buffer.from(\"b384\",\"hex\"),t[\"skein1024-296\"]=Buffer.from(\"b385\",\"hex\"),t[\"skein1024-304\"]=Buffer.from(\"b386\",\"hex\"),t[\"skein1024-312\"]=Buffer.from(\"b387\",\"hex\"),t[\"skein1024-320\"]=Buffer.from(\"b388\",\"hex\"),t[\"skein1024-328\"]=Buffer.from(\"b389\",\"hex\"),t[\"skein1024-336\"]=Buffer.from(\"b38a\",\"hex\"),t[\"skein1024-344\"]=Buffer.from(\"b38b\",\"hex\"),t[\"skein1024-352\"]=Buffer.from(\"b38c\",\"hex\"),t[\"skein1024-360\"]=Buffer.from(\"b38d\",\"hex\"),t[\"skein1024-368\"]=Buffer.from(\"b38e\",\"hex\"),t[\"skein1024-376\"]=Buffer.from(\"b38f\",\"hex\"),t[\"skein1024-384\"]=Buffer.from(\"b390\",\"hex\"),t[\"skein1024-392\"]=Buffer.from(\"b391\",\"hex\"),t[\"skein1024-400\"]=Buffer.from(\"b392\",\"hex\"),t[\"skein1024-408\"]=Buffer.from(\"b393\",\"hex\"),t[\"skein1024-416\"]=Buffer.from(\"b394\",\"hex\"),t[\"skein1024-424\"]=Buffer.from(\"b395\",\"hex\"),t[\"skein1024-432\"]=Buffer.from(\"b396\",\"hex\"),t[\"skein1024-440\"]=Buffer.from(\"b397\",\"hex\"),t[\"skein1024-448\"]=Buffer.from(\"b398\",\"hex\"),t[\"skein1024-456\"]=Buffer.from(\"b399\",\"hex\"),t[\"skein1024-464\"]=Buffer.from(\"b39a\",\"hex\"),t[\"skein1024-472\"]=Buffer.from(\"b39b\",\"hex\"),t[\"skein1024-480\"]=Buffer.from(\"b39c\",\"hex\"),t[\"skein1024-488\"]=Buffer.from(\"b39d\",\"hex\"),t[\"skein1024-496\"]=Buffer.from(\"b39e\",\"hex\"),t[\"skein1024-504\"]=Buffer.from(\"b39f\",\"hex\"),t[\"skein1024-512\"]=Buffer.from(\"b3a0\",\"hex\"),t[\"skein1024-520\"]=Buffer.from(\"b3a1\",\"hex\"),t[\"skein1024-528\"]=Buffer.from(\"b3a2\",\"hex\"),t[\"skein1024-536\"]=Buffer.from(\"b3a3\",\"hex\"),t[\"skein1024-544\"]=Buffer.from(\"b3a4\",\"hex\"),t[\"skein1024-552\"]=Buffer.from(\"b3a5\",\"hex\"),t[\"skein1024-560\"]=Buffer.from(\"b3a6\",\"hex\"),t[\"skein1024-568\"]=Buffer.from(\"b3a7\",\"hex\"),t[\"skein1024-576\"]=Buffer.from(\"b3a8\",\"hex\"),t[\"skein1024-584\"]=Buffer.from(\"b3a9\",\"hex\"),t[\"skein1024-592\"]=Buffer.from(\"b3aa\",\"hex\"),t[\"skein1024-600\"]=Buffer.from(\"b3ab\",\"hex\"),t[\"skein1024-608\"]=Buffer.from(\"b3ac\",\"hex\"),t[\"skein1024-616\"]=Buffer.from(\"b3ad\",\"hex\"),t[\"skein1024-624\"]=Buffer.from(\"b3ae\",\"hex\"),t[\"skein1024-632\"]=Buffer.from(\"b3af\",\"hex\"),t[\"skein1024-640\"]=Buffer.from(\"b3b0\",\"hex\"),t[\"skein1024-648\"]=Buffer.from(\"b3b1\",\"hex\"),t[\"skein1024-656\"]=Buffer.from(\"b3b2\",\"hex\"),t[\"skein1024-664\"]=Buffer.from(\"b3b3\",\"hex\"),t[\"skein1024-672\"]=Buffer.from(\"b3b4\",\"hex\"),t[\"skein1024-680\"]=Buffer.from(\"b3b5\",\"hex\"),t[\"skein1024-688\"]=Buffer.from(\"b3b6\",\"hex\"),t[\"skein1024-696\"]=Buffer.from(\"b3b7\",\"hex\"),t[\"skein1024-704\"]=Buffer.from(\"b3b8\",\"hex\"),t[\"skein1024-712\"]=Buffer.from(\"b3b9\",\"hex\"),t[\"skein1024-720\"]=Buffer.from(\"b3ba\",\"hex\"),t[\"skein1024-728\"]=Buffer.from(\"b3bb\",\"hex\"),t[\"skein1024-736\"]=Buffer.from(\"b3bc\",\"hex\"),t[\"skein1024-744\"]=Buffer.from(\"b3bd\",\"hex\"),t[\"skein1024-752\"]=Buffer.from(\"b3be\",\"hex\"),t[\"skein1024-760\"]=Buffer.from(\"b3bf\",\"hex\"),t[\"skein1024-768\"]=Buffer.from(\"b3c0\",\"hex\"),t[\"skein1024-776\"]=Buffer.from(\"b3c1\",\"hex\"),t[\"skein1024-784\"]=Buffer.from(\"b3c2\",\"hex\"),t[\"skein1024-792\"]=Buffer.from(\"b3c3\",\"hex\"),t[\"skein1024-800\"]=Buffer.from(\"b3c4\",\"hex\"),t[\"skein1024-808\"]=Buffer.from(\"b3c5\",\"hex\"),t[\"skein1024-816\"]=Buffer.from(\"b3c6\",\"hex\"),t[\"skein1024-824\"]=Buffer.from(\"b3c7\",\"hex\"),t[\"skein1024-832\"]=Buffer.from(\"b3c8\",\"hex\"),t[\"skein1024-840\"]=Buffer.from(\"b3c9\",\"hex\"),t[\"skein1024-848\"]=Buffer.from(\"b3ca\",\"hex\"),t[\"skein1024-856\"]=Buffer.from(\"b3cb\",\"hex\"),t[\"skein1024-864\"]=Buffer.from(\"b3cc\",\"hex\"),t[\"skein1024-872\"]=Buffer.from(\"b3cd\",\"hex\"),t[\"skein1024-880\"]=Buffer.from(\"b3ce\",\"hex\"),t[\"skein1024-888\"]=Buffer.from(\"b3cf\",\"hex\"),t[\"skein1024-896\"]=Buffer.from(\"b3d0\",\"hex\"),t[\"skein1024-904\"]=Buffer.from(\"b3d1\",\"hex\"),t[\"skein1024-912\"]=Buffer.from(\"b3d2\",\"hex\"),t[\"skein1024-920\"]=Buffer.from(\"b3d3\",\"hex\"),t[\"skein1024-928\"]=Buffer.from(\"b3d4\",\"hex\"),t[\"skein1024-936\"]=Buffer.from(\"b3d5\",\"hex\"),t[\"skein1024-944\"]=Buffer.from(\"b3d6\",\"hex\"),t[\"skein1024-952\"]=Buffer.from(\"b3d7\",\"hex\"),t[\"skein1024-960\"]=Buffer.from(\"b3d8\",\"hex\"),t[\"skein1024-968\"]=Buffer.from(\"b3d9\",\"hex\"),t[\"skein1024-976\"]=Buffer.from(\"b3da\",\"hex\"),t[\"skein1024-984\"]=Buffer.from(\"b3db\",\"hex\"),t[\"skein1024-992\"]=Buffer.from(\"b3dc\",\"hex\"),t[\"skein1024-1000\"]=Buffer.from(\"b3dd\",\"hex\"),t[\"skein1024-1008\"]=Buffer.from(\"b3de\",\"hex\"),t[\"skein1024-1016\"]=Buffer.from(\"b3df\",\"hex\"),t[\"skein1024-1024\"]=Buffer.from(\"b3e0\",\"hex\"),t.ip4=Buffer.from(\"04\",\"hex\"),t.ip6=Buffer.from(\"29\",\"hex\"),t.tcp=Buffer.from(\"06\",\"hex\"),t.udp=Buffer.from(\"0111\",\"hex\"),t.dccp=Buffer.from(\"21\",\"hex\"),t.sctp=Buffer.from(\"84\",\"hex\"),t.udt=Buffer.from(\"012d\",\"hex\"),t.utp=Buffer.from(\"012e\",\"hex\"),t.ipfs=Buffer.from(\"01a5\",\"hex\"),t.http=Buffer.from(\"01e0\",\"hex\"),t.https=Buffer.from(\"01bb\",\"hex\"),t.quic=Buffer.from(\"01cc\",\"hex\"),t.ws=Buffer.from(\"01dd\",\"hex\"),t.onion=Buffer.from(\"01bc\",\"hex\"),t[\"p2p-circuit\"]=Buffer.from(\"0122\",\"hex\"),t[\"git-raw\"]=Buffer.from(\"78\",\"hex\"),t[\"dag-pb\"]=Buffer.from(\"70\",\"hex\"),t[\"dag-cbor\"]=Buffer.from(\"71\",\"hex\"),t[\"git-raw\"]=Buffer.from(\"78\",\"hex\"),t[\"eth-block\"]=Buffer.from(\"90\",\"hex\"),t[\"eth-block-list\"]=Buffer.from(\"91\",\"hex\"),t[\"eth-tx-trie\"]=Buffer.from(\"92\",\"hex\"),t[\"eth-tx\"]=Buffer.from(\"93\",\"hex\"),t[\"eth-tx-receipt-trie\"]=Buffer.from(\"94\",\"hex\"),t[\"eth-tx-receipt\"]=Buffer.from(\"95\",\"hex\"),t[\"eth-state-trie\"]=Buffer.from(\"96\",\"hex\"),t[\"eth-account-snapshot\"]=Buffer.from(\"97\",\"hex\"),t[\"eth-storage-trie\"]=Buffer.from(\"98\",\"hex\"),t[\"bitcoin-block\"]=Buffer.from(\"b0\",\"hex\"),t[\"bitcoin-tx\"]=Buffer.from(\"b1\",\"hex\"),t[\"zcash-block\"]=Buffer.from(\"c0\",\"hex\"),t[\"zcash-tx\"]=Buffer.from(\"c1\",\"hex\"),t[\"stellar-block\"]=Buffer.from(\"d0\",\"hex\"),t[\"stellar-tx\"]=Buffer.from(\"d1\",\"hex\"),t[\"torrent-info\"]=Buffer.from(\"7b\",\"hex\"),t[\"torrent-file\"]=Buffer.from(\"7c\",\"hex\"),t[\"ed25519-pub\"]=Buffer.from(\"ed\",\"hex\")},function(e,t){e.exports=require(\"bn.js\")},function(e,t,r){\"use strict\";const n=r(56),i=r(970);t.names=i.names,t.codes=i.codes,t.defaultLengths=i.defaultLengths;const s=r(228);function o(e){t.decode(e)}t.toHexString=function(e){if(!Buffer.isBuffer(e))throw new Error(\"must be passed a buffer\");return e.toString(\"hex\")},t.fromHexString=function(e){return Buffer.from(e,\"hex\")},t.toB58String=function(e){if(!Buffer.isBuffer(e))throw new Error(\"must be passed a buffer\");return n.encode(e)},t.fromB58String=function(e){let t=e;return Buffer.isBuffer(e)&&(t=e.toString()),Buffer.from(n.decode(t))},t.decode=function(e){if(!Buffer.isBuffer(e))throw new Error(\"multihash must be a Buffer\");if(e.length<3)throw new Error(\"multihash too short. must be > 3 bytes.\");let r=s.decode(e);if(!t.isValidCode(r))throw new Error(`multihash unknown function code: 0x${r.toString(16)}`);e=e.slice(s.decode.bytes);let n=s.decode(e);if(n<1)throw new Error(`multihash invalid length: 0x${n.toString(16)}`);if((e=e.slice(s.decode.bytes)).length!==n)throw new Error(`multihash length inconsistent: 0x${e.toString(\"hex\")}`);return{code:r,name:i.codes[r],length:n,digest:e}},t.encode=function(e,r,n){if(!e||!r)throw new Error(\"multihash encode requires at least two args: digest, code\");const i=t.coerceCode(r);if(!Buffer.isBuffer(e))throw new Error(\"digest should be a Buffer\");if(null==n&&(n=e.length),n&&e.length!==n)throw new Error(\"digest length should be equal to specified length.\");return Buffer.concat([Buffer.from(s.encode(i)),Buffer.from(s.encode(n)),e])},t.coerceCode=function(e){let r=e;if(\"string\"==typeof e){if(!i.names[e])throw new Error(`Unrecognized hash function named: ${e}`);r=i.names[e]}if(\"number\"!=typeof r)throw new Error(`Hash function code should be a number. Got: ${r}`);if(!i.codes[r]&&!t.isAppCode(r))throw new Error(`Unrecognized function code: ${r}`);return r},t.isAppCode=function(e){return e>0&&e<16},t.isValidCode=function(e){return!!t.isAppCode(e)||!!i.codes[e]},t.validate=o,t.prefix=function(e){return o(e),e.slice(0,2)}},function(e,t,r){\"use strict\";var n=r(76);e.exports=new n({explicit:[r(427),r(426),r(425)]})},function(e,t,r){\"use strict\";e.exports={PROTOCOL:\"/ipfs/ping/1.0.0\",PING_LENGTH:32}},function(e,t,r){\"use strict\";e.exports={relay:\"/libp2p/circuit/relay/0.1.0\"}},function(e,t,r){\"use strict\";const n=r(1),i=r(33),s=r(64),o=r(0),a=o(\"libp2p:circuit:stream-handler\");a.err=o(\"libp2p:circuit:error:stream-handler\");e.exports=class{constructor(e,t,r,i){this.conn=e,this.stream=null,this.shake=null,this.timeout=t||6e4,this.maxLength=i||4096,\"function\"==typeof t&&(this.timeout=r||6e4),this.stream=s({timeout:this.timeout},t),this.shake=this.stream.handshake,n(this.stream,e,this.stream)}isValid(){return this.conn&&this.shake&&this.stream}read(e){this.isValid()||e(new Error(\"handler is not in a valid state\")),i.decodeFromReader(this.shake,{maxLength:this.maxLength},(t,r)=>t?(a.err(t),e(t)):e(null,r))}write(e,t){t=t||(()=>{}),this.isValid()||t(new Error(\"handler is not in a valid state\")),n(n.values([e]),i.encode(),n.collect((e,r)=>{if(e)return a.err(e),this.shake.abort(e),t(e);r.forEach(e=>this.shake.write(e)),t()}))}getRawConn(){return this.conn}rest(){const e=this.shake.rest();return this.conn=null,this.stream=null,this.shake=null,e}}},function(e,t,r){\"use strict\";t.Listener=t.listener=r(488),t.Dialer=t.dialer=r(484),t.matchSemver=r(483),t.matchExact=r(239)},function(e,t,r){\"use strict\";const n=r(40),i=r(14),s=r(49),o=r(54),a=r(3),u=r(0),c=u(\"libp2p:secio\");c.error=u(\"libp2p:secio:error\");const f=n(r(496)),l=r(159);t.createProposal=(e=>(e.proposal.out={rand:s.randomBytes(16),pubkey:e.key.local.public.bytes,exchanges:l.exchanges.join(\",\"),ciphers:l.ciphers.join(\",\"),hashes:l.hashes.join(\",\")},e.proposalEncoded.out=f.Propose.encode(e.proposal.out),e.proposalEncoded.out)),t.createExchange=((e,t)=>{s.keys.generateEphemeralKeyPair(e.protocols.local.curveT,(r,n)=>{if(r)return t(r);e.ephemeralKey.local=n.key,e.shared.generate=n.genSharedKey;const i=Buffer.concat([e.proposalEncoded.out,e.proposalEncoded.in,e.ephemeralKey.local]);e.key.local.sign(i,(r,n)=>{if(r)return t(r);e.exchange.out={epubkey:e.ephemeralKey.local,signature:n},t(null,f.Exchange.encode(e.exchange.out))})})}),t.identify=((e,t,r)=>{c(\"1.1 identify\"),e.proposalEncoded.in=t,e.proposal.in=f.Propose.decode(t);const n=e.proposal.in.pubkey;e.key.remote=s.keys.unmarshalPublicKey(n),i.createFromPubKey(n.toString(\"base64\"),(t,n)=>{if(t)return r(t);if(e.id.remote){if(e.id.remote.toB58String()!==n.toB58String())return r(new Error(\"dialed to the wrong peer, Ids do not match\"))}else e.id.remote=n;c(\"1.1 identify - %s - identified remote peer as %s\",e.id.local.toB58String(),e.id.remote.toB58String()),r()})}),t.selectProtocols=((e,t)=>{c(\"1.2 selection\");const r={pubKeyBytes:e.key.local.public.bytes,exchanges:l.exchanges,hashes:l.hashes,ciphers:l.ciphers,nonce:e.proposal.out.rand},n={pubKeyBytes:e.proposal.in.pubkey,exchanges:e.proposal.in.exchanges.split(\",\"),hashes:e.proposal.in.hashes.split(\",\"),ciphers:e.proposal.in.ciphers.split(\",\"),nonce:e.proposal.in.rand};l.selectBest(r,n,(r,n)=>{if(r)return t(r);e.protocols.remote={order:n.order,curveT:n.curveT,cipherT:n.cipherT,hashT:n.hashT},e.protocols.local={order:n.order,curveT:n.curveT,cipherT:n.cipherT,hashT:n.hashT},t()})}),t.verify=((e,t,r)=>{c(\"2.1. verify\"),e.exchange.in=f.Exchange.decode(t),e.ephemeralKey.remote=e.exchange.in.epubkey;const n=Buffer.concat([e.proposalEncoded.in,e.proposalEncoded.out,e.ephemeralKey.remote]);e.key.remote.verify(n,e.exchange.in.signature,(e,t)=>e?r(e):t?(c(\"2.1. verify - signature verified\"),void r()):r(new Error(\"Bad signature\")))}),t.generateKeys=((e,t)=>{c(\"2.2. keys\"),a([t=>e.shared.generate(e.exchange.in.epubkey,t),(t,r)=>{e.shared.secret=t,s.keys.keyStretcher(e.protocols.local.cipherT,e.protocols.local.hashT,e.shared.secret,r)},(t,r)=>{if(e.protocols.local.order>0)e.protocols.local.keys=t.k1,e.protocols.remote.keys=t.k2;else{if(!(e.protocols.local.order<0))return r(new Error(\"you are trying to talk to yourself\"));e.protocols.local.keys=t.k2,e.protocols.remote.keys=t.k1}c(\"2.3. mac + cipher\"),o([t=>l.makeMacAndCipher(e.protocols.local,t),t=>l.makeMacAndCipher(e.protocols.remote,t)],r)}],t)}),t.verifyNonce=((e,t)=>{const r=e.proposal.out.rand;if(!r.equals(t))throw new Error(`Failed to read our encrypted nonce: ${r.toString(\"hex\")} != ${t.toString(\"hex\")}`)})},function(e,t,r){\"use strict\";const n=r(31),i=r(33),s=r(1),o=r(49),a=r(54);var u,c,f;t.exchanges=[\"P-256\",\"P-384\",\"P-521\"],t.ciphers=[\"AES-256\",\"AES-128\"],t.hashes=[\"SHA256\",\"SHA512\"],t.theBest=((e,t,r)=>{let n,i;if(e<0)n=r,i=t;else{if(!(e>0))return t[0];n=t,i=r}for(let e of n)for(let t of i)if(e===t)return e;throw new Error(\"No algorithms in common!\")}),t.makeMacAndCipher=((e,t)=>{a([r=>(u=e.hashT,c=e.keys.macKey,t=r,void o.hmac.create(u,c,t)),t=>(function(e,t,r,n){if(\"AES-128\"===e||\"AES-256\"===e)return o.aes.create(r,t,n);n(new Error(`unrecognized cipher type: ${e}`))})(e.cipherT,e.keys.iv,e.keys.cipherKey,t)],(r,n)=>{if(r)return t(r);e.mac=n[0],e.cipher=n[1],t()})}),t.selectBest=((e,r,n)=>{t.digest(Buffer.concat([r.pubKeyBytes,e.nonce]),(i,s)=>{if(i)return n(i);t.digest(Buffer.concat([e.pubKeyBytes,r.nonce]),(i,o)=>{if(i)return n(i);const a=Buffer.compare(s,o);if(0===a)return n(new Error(\"you are trying to talk to yourself\"));n(null,{curveT:t.theBest(a,e.exchanges,r.exchanges),cipherT:t.theBest(a,e.ciphers,r.ciphers),hashT:t.theBest(a,e.hashes,r.hashes),order:a})})})}),t.digest=((e,t)=>{n.digest(e,\"sha2-256\",e.length,t)}),t.write=function(e,t,r){r=r||(()=>{}),s(s.values([t]),i.encode({fixed:!0,bytes:4}),s.collect((t,n)=>{if(t)return r(t);e.shake.write(n[0]),r()}))},t.read=function(e,t){i.decodeFromReader(e,{fixed:!0,bytes:4},t)}},function(e,t){e.exports=require(\"readable-stream\")},function(e,t,r){\"use strict\";\n/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */const n=r(8).Buffer,i=(e,t)=>{const r=n.allocUnsafe(t);for(var i=0,s=0;s<e.length;s++){const t=e[s];t.copy(r,i),i+=t.length}return r};try{const t=r(!function(){var e=new Error(\"Cannot find module 'bufferutil'\");throw e.code=\"MODULE_NOT_FOUND\",e}());e.exports=Object.assign({concat:i},t.BufferUtil||t)}catch(t){const r=(e,t,r,n,i)=>{for(var s=0;s<i;s++)r[n+s]=e[s]^t[3&s]},n=(e,t)=>{const r=e.length;for(var n=0;n<r;n++)e[n]^=t[3&n]};e.exports={concat:i,mask:r,unmask:n}}},function(e,t,r){var n=r(79),i=r(80);function s(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState=\"\",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=s,i(s.prototype),s.prototype.onError=function(e,t){var r=new Error(e);return r.type=\"TransportError\",r.description=t,this.emit(\"error\",r),this},s.prototype.open=function(){return\"closed\"!==this.readyState&&\"\"!==this.readyState||(this.readyState=\"opening\",this.doOpen()),this},s.prototype.close=function(){return\"opening\"!==this.readyState&&\"open\"!==this.readyState||(this.doClose(),this.onClose()),this},s.prototype.send=function(e){if(\"open\"!==this.readyState)throw new Error(\"Transport not open\");this.write(e)},s.prototype.onOpen=function(){this.readyState=\"open\",this.writable=!0,this.emit(\"open\")},s.prototype.onData=function(e){var t=n.decodePacket(e,this.socket.binaryType);this.onPacket(t)},s.prototype.onPacket=function(e){this.emit(\"packet\",e)},s.prototype.onClose=function(){this.readyState=\"closed\",this.emit(\"close\")}},function(e,t,r){\n/**\n * Wrapper for built-in http.js to emulate the browser XMLHttpRequest object.\n *\n * This can be used with JS designed for browsers to improve reuse of code and\n * allow the use of existing libraries.\n *\n * Usage: include(\"XMLHttpRequest.js\") and use XMLHttpRequest per W3C specs.\n *\n * @author Dan DeFelippi <dan@driverdan.com>\n * @contributor David Ellis <d.f.ellis@ieee.org>\n * @license MIT\n */\nvar n=r(52),i=r(51),s=r(377).spawn;function o(e){\"use strict\";e=e||{};var t,o,a=this,u=r(81),c=r(117),f={},l=!1,h={\"User-Agent\":\"node-XMLHttpRequest\",Accept:\"*/*\"},p=Object.assign({},h),d=[\"accept-charset\",\"accept-encoding\",\"access-control-request-headers\",\"access-control-request-method\",\"connection\",\"content-length\",\"content-transfer-encoding\",\"cookie\",\"cookie2\",\"date\",\"expect\",\"host\",\"keep-alive\",\"origin\",\"referer\",\"te\",\"trailer\",\"transfer-encoding\",\"upgrade\",\"via\"],y=[\"TRACE\",\"TRACK\",\"CONNECT\"],m=!1,g=!1,v={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText=\"\",this.responseXML=\"\",this.status=null,this.statusText=null;this.open=function(e,t,r,n,i){if(this.abort(),g=!1,!function(e){return e&&-1===y.indexOf(e)}(e))throw\"SecurityError: Request method not allowed\";f={method:e,url:t.toString(),async:\"boolean\"!=typeof r||r,user:n||null,password:i||null},b(this.OPENED)},this.setDisableHeaderCheck=function(e){l=e},this.setRequestHeader=function(e,t){if(this.readyState!=this.OPENED)throw\"INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN\";if(!function(e){return l||e&&-1===d.indexOf(e.toLowerCase())}(e))return console.warn('Refused to set unsafe header \"'+e+'\"'),!1;if(m)throw\"INVALID_STATE_ERR: send flag is true\";return p[e]=t,!0},this.getResponseHeader=function(e){return\"string\"==typeof e&&this.readyState>this.OPENED&&o.headers[e.toLowerCase()]&&!g?o.headers[e.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||g)return\"\";var e=\"\";for(var t in o.headers)\"set-cookie\"!==t&&\"set-cookie2\"!==t&&(e+=t+\": \"+o.headers[t]+\"\\r\\n\");return e.substr(0,e.length-2)},this.getRequestHeader=function(e){return\"string\"==typeof e&&p[e]?p[e]:\"\"},this.send=function(r){if(this.readyState!=this.OPENED)throw\"INVALID_STATE_ERR: connection must be opened before send() is called\";if(m)throw\"INVALID_STATE_ERR: send has already been called\";var l,h=!1,d=!1,y=i.parse(f.url);switch(y.protocol){case\"https:\":h=!0;case\"http:\":l=y.hostname;break;case\"file:\":d=!0;break;case void 0:case\"\":l=\"localhost\";break;default:throw\"Protocol not supported.\"}if(d){if(\"GET\"!==f.method)throw\"XMLHttpRequest: Only GET method is supported\";if(f.async)n.readFile(y.pathname,\"utf8\",function(e,t){e?a.handleError(e):(a.status=200,a.responseText=t,b(a.DONE))});else try{this.responseText=n.readFileSync(y.pathname,\"utf8\"),this.status=200,b(a.DONE)}catch(e){this.handleError(e)}}else{var v=y.port||(h?443:80),w=y.pathname+(y.search?y.search:\"\");if(p.Host=l,h&&443===v||80===v||(p.Host+=\":\"+y.port),f.user){void 0===f.password&&(f.password=\"\");var _=new Buffer(f.user+\":\"+f.password);p.Authorization=\"Basic \"+_.toString(\"base64\")}\"GET\"===f.method||\"HEAD\"===f.method?r=null:r?(p[\"Content-Length\"]=Buffer.isBuffer(r)?r.length:Buffer.byteLength(r),p[\"Content-Type\"]||(p[\"Content-Type\"]=\"text/plain;charset=UTF-8\")):\"POST\"===f.method&&(p[\"Content-Length\"]=0);var k=e.agent||!1,S={host:l,port:v,path:w,method:f.method,headers:p,agent:k};if(h&&(S.pfx=e.pfx,S.key=e.key,S.passphrase=e.passphrase,S.cert=e.cert,S.ca=e.ca,S.ciphers=e.ciphers,S.rejectUnauthorized=e.rejectUnauthorized),g=!1,f.async){var E=h?c.request:u.request;m=!0,a.dispatchEvent(\"readystatechange\");var x=function(r){if(302===(o=r).statusCode||303===o.statusCode||307===o.statusCode){f.url=o.headers.location;var n=i.parse(f.url);l=n.hostname;var s={hostname:n.hostname,port:n.port,path:n.path,method:303===o.statusCode?\"GET\":f.method,headers:p};return h&&(s.pfx=e.pfx,s.key=e.key,s.passphrase=e.passphrase,s.cert=e.cert,s.ca=e.ca,s.ciphers=e.ciphers,s.rejectUnauthorized=e.rejectUnauthorized),void(t=E(s,x).on(\"error\",A)).end()}o&&o.setEncoding&&o.setEncoding(\"utf8\"),b(a.HEADERS_RECEIVED),a.status=o.statusCode,o.on(\"data\",function(e){e&&(a.responseText+=e),m&&b(a.LOADING)}),o.on(\"end\",function(){m&&(m=!1,b(a.DONE))}),o.on(\"error\",function(e){a.handleError(e)})},A=function(e){a.handleError(e)};t=E(S,x).on(\"error\",A),r&&t.write(r),t.end(),a.dispatchEvent(\"loadstart\")}else{var B=\".node-xmlhttprequest-content-\"+process.pid,C=\".node-xmlhttprequest-sync-\"+process.pid;n.writeFileSync(C,\"\",\"utf8\");for(var I=\"var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http\"+(h?\"s\":\"\")+\".request;var options = \"+JSON.stringify(S)+\";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('\"+B+\"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');fs.unlinkSync('\"+C+\"');});response.on('error', function(error) {fs.writeFileSync('\"+B+\"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('\"+C+\"');});}).on('error', function(error) {fs.writeFileSync('\"+B+\"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('\"+C+\"');});\"+(r?\"req.write('\"+r.replace(/'/g,\"\\\\'\")+\"');\":\"\")+\"req.end();\",T=s(process.argv[0],[\"-e\",I]);n.existsSync(C););if(a.responseText=n.readFileSync(B,\"utf8\"),T.stdin.end(),n.unlinkSync(B),a.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)){var D=a.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/,\"\");a.handleError(D)}else a.status=a.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/,\"$1\"),a.responseText=a.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/,\"$1\"),b(a.DONE)}}},this.handleError=function(e){this.status=503,this.statusText=e,this.responseText=e.stack,g=!0,b(this.DONE)},this.abort=function(){t&&(t.abort(),t=null),p=Object.assign({},h),this.responseText=\"\",this.responseXML=\"\",g=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!m||this.readyState===this.DONE||(m=!1,b(this.DONE)),this.readyState=this.UNSENT},this.addEventListener=function(e,t){e in v||(v[e]=[]),v[e].push(t)},this.removeEventListener=function(e,t){e in v&&(v[e]=v[e].filter(function(e){return e!==t}))},this.dispatchEvent=function(e){if(\"function\"==typeof a[\"on\"+e]&&a[\"on\"+e](),e in v)for(var t=0,r=v[e].length;t<r;t++)v[e][t].call(a)};var b=function(e){a.readyState!==e&&(a.readyState=e,(f.async||a.readyState<a.OPENED||a.readyState===a.DONE)&&a.dispatchEvent(\"readystatechange\"),a.readyState!==a.DONE||g||(a.dispatchEvent(\"load\"),a.dispatchEvent(\"loadend\")))}}e.exports=o,o.XMLHttpRequest=o},function(e,t){e.exports=require(\"isarray\")},function(e,t,r){var n=r(0)(\"socket.io-parser\"),i=r(80),s=r(562),o=r(164),a=r(263);function u(){}t.protocol=4,t.types=[\"CONNECT\",\"DISCONNECT\",\"EVENT\",\"ACK\",\"ERROR\",\"BINARY_EVENT\",\"BINARY_ACK\"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=u,t.Decoder=l;var c=t.ERROR+'\"encode error\"';function f(e){var r=\"\"+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(r+=e.attachments+\"-\"),e.nsp&&\"/\"!==e.nsp&&(r+=e.nsp+\",\"),null!=e.id&&(r+=e.id),null!=e.data){var i=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===i)return c;r+=i}return n(\"encoded %j as %s\",e,r),r}function l(){this.reconstructor=null}function h(e){this.reconPack=e,this.buffers=[]}function p(e){return{type:t.ERROR,data:\"parser error: \"+e}}u.prototype.encode=function(e,r){(n(\"encoding packet %j\",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){s.removeBlobs(e,function(e){var r=s.deconstructPacket(e),n=f(r.packet),i=r.buffers;i.unshift(n),t(i)})}(e,r):r([f(e)])},i(l.prototype),l.prototype.add=function(e){var r;if(\"string\"==typeof e)r=function(e){var r=0,i={type:Number(e.charAt(0))};if(null==t.types[i.type])return p(\"unknown packet type \"+i.type);if(t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type){for(var s=\"\";\"-\"!==e.charAt(++r)&&(s+=e.charAt(r),r!=e.length););if(s!=Number(s)||\"-\"!==e.charAt(r))throw new Error(\"Illegal attachments\");i.attachments=Number(s)}if(\"/\"===e.charAt(r+1))for(i.nsp=\"\";++r;){var a=e.charAt(r);if(\",\"===a)break;if(i.nsp+=a,r===e.length)break}else i.nsp=\"/\";var u=e.charAt(r+1);if(\"\"!==u&&Number(u)==u){for(i.id=\"\";++r;){var a=e.charAt(r);if(null==a||Number(a)!=a){--r;break}if(i.id+=e.charAt(r),r===e.length)break}i.id=Number(i.id)}if(e.charAt(++r)){var c=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(r)),f=!1!==c&&(i.type===t.ERROR||o(c));if(!f)return p(\"invalid payload\");i.data=c}return n(\"decoded %s as %j\",e,i),i}(e),t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type?(this.reconstructor=new h(r),0===this.reconstructor.reconPack.attachments&&this.emit(\"decoded\",r)):this.emit(\"decoded\",r);else{if(!a(e)&&!e.base64)throw new Error(\"Unknown type: \"+e);if(!this.reconstructor)throw new Error(\"got binary data when not reconstructing a packet\");(r=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit(\"decoded\",r))}},l.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},h.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=s.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},h.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t){t.BITS=128,t.GROUPS=8,t.SCOPES={0:\"Reserved\",1:\"Interface local\",2:\"Link local\",4:\"Admin local\",5:\"Site local\",8:\"Organization local\",14:\"Global\",15:\"Reserved\"},t.TYPES={\"ff01::1/128\":\"Multicast (All nodes on this interface)\",\"ff01::2/128\":\"Multicast (All routers on this interface)\",\"ff02::1/128\":\"Multicast (All nodes on this link)\",\"ff02::2/128\":\"Multicast (All routers on this link)\",\"ff05::2/128\":\"Multicast (All routers in this site)\",\"ff02::5/128\":\"Multicast (OSPFv3 AllSPF routers)\",\"ff02::6/128\":\"Multicast (OSPFv3 AllDR routers)\",\"ff02::9/128\":\"Multicast (RIP routers)\",\"ff02::a/128\":\"Multicast (EIGRP routers)\",\"ff02::d/128\":\"Multicast (PIM routers)\",\"ff02::16/128\":\"Multicast (MLDv2 reports)\",\"ff01::fb/128\":\"Multicast (mDNSv6)\",\"ff02::fb/128\":\"Multicast (mDNSv6)\",\"ff05::fb/128\":\"Multicast (mDNSv6)\",\"ff02::1:2/128\":\"Multicast (All DHCP servers and relay agents on this link)\",\"ff05::1:2/128\":\"Multicast (All DHCP servers and relay agents in this site)\",\"ff02::1:3/128\":\"Multicast (All DHCP servers on this link)\",\"ff05::1:3/128\":\"Multicast (All DHCP servers in this site)\",\"::/128\":\"Unspecified\",\"::1/128\":\"Loopback\",\"ff00::/8\":\"Multicast\",\"fe80::/10\":\"Link-local unicast\"},t.RE_BAD_CHARACTERS=/([^0-9a-f:\\/%])/gi,t.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\\/$)/gi,t.RE_SUBNET_STRING=/\\/\\d{1,3}(?=%|$)/,t.RE_ZONE_STRING=/%.*$/,t.RE_URL=new RegExp(/^\\[{0,1}([0-9a-f:]+)\\]{0,1}/),t.RE_URL_WITH_PORT=new RegExp(/\\[([0-9a-f:]+)\\]:([0-9]{1,5})/)},function(e,t){t.BITS=32,t.GROUPS=4,t.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g,t.RE_SUBNET_STRING=/\\/\\d{1,2}$/},function(e,t){var r=\"[object AsyncFunction]\",n=\"[object Function]\",i=\"[object GeneratorFunction]\",s=\"[object Null]\",o=\"[object Proxy]\",a=\"[object Undefined]\",u=\"object\"==typeof global&&global&&global.Object===Object&&global,c=\"object\"==typeof self&&self&&self.Object===Object&&self,f=u||c||Function(\"return this\")(),l=Object.prototype,h=l.hasOwnProperty,p=l.toString,d=f.Symbol,y=d?d.toStringTag:void 0;function m(e){return null==e?void 0===e?a:s:y&&y in Object(e)?function(e){var t=h.call(e,y),r=e[y];try{e[y]=void 0;var n=!0}catch(e){}var i=p.call(e);n&&(t?e[y]=r:delete e[y]);return i}(e):function(e){return p.call(e)}(e)}e.exports=function(e){if(!function(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}(e))return!1;var t=m(e);return t==n||t==i||t==r||t==o}},function(e,t){function r(e,t,r){var n=e.length;if(!n)return r(t);function i(){--n||r(t)}e.forEach(function(e){e?e(t,i):i()}),n||i()}e.exports=function(e){return function(t,n){!function i(){t?r(e,t,n):e.length?e[0]?e[0](null,function(t,s){t?(e.shift(),!0===t?i():r(e,t,n)):n(null,s)}):(e.shift(),i()):n(!0)}()}}},function(e,t,r){\"use strict\";e.exports=class{constructor(e,t){this._options=t||{},Object.assign(this,e)}}},function(e,t,r){\"use strict\";const n=r(121);e.exports=function(e){const t=e||100;var r=[];return n(function(e){for(r=r.concat(e);r.length>=t;){const e=t,n=r.slice(0,e);r=r.slice(e),this.queue(n)}},function(e){r.length&&(this.queue(r),r=[]),this.queue(null)})}},function(e,t){var r=9007199254740991,n=\"[object Arguments]\",i=\"[object Function]\",s=\"[object GeneratorFunction]\",o=/^(?:0|[1-9]\\d*)$/;function a(e,t){return function(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}(t,function(t){return e[t]})}var u,c,f=Object.prototype,l=f.hasOwnProperty,h=f.toString,p=f.propertyIsEnumerable,d=(u=Object.keys,c=Object,function(e){return u(c(e))});function y(e,t){var r=v(e)||function(e){return function(e){return function(e){return!!e&&\"object\"==typeof e}(e)&&b(e)}(e)&&l.call(e,\"callee\")&&(!p.call(e,\"callee\")||h.call(e)==n)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],i=r.length,s=!!i;for(var o in e)!t&&!l.call(e,o)||s&&(\"length\"==o||g(o,i))||r.push(o);return r}function m(e){if(r=(t=e)&&t.constructor,n=\"function\"==typeof r&&r.prototype||f,t!==n)return d(e);var t,r,n,i=[];for(var s in Object(e))l.call(e,s)&&\"constructor\"!=s&&i.push(s);return i}function g(e,t){return!!(t=null==t?r:t)&&(\"number\"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<t}var v=Array.isArray;function b(e){return null!=e&&function(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}(e)?h.call(e):\"\";return t==i||t==s}(e)}e.exports=function(e){return e?a(e,function(e){return b(e)?y(e):m(e)}(e)):[]}},function(e,t,r){\"use strict\";e.exports={maxProvidersPerRequest:3,providerRequestTimeout:1e4,hasBlockTimeout:15e3,provideTimeout:15e3,kMaxPriority:Math.pow(2,31)-1,rebroadcastDelay:1e4,maxListeners:1e3}},function(e,t){e.exports=require(\"net\")},function(e,t,r){\"use strict\";const n=r(26),i=r(700),s={annotations:Symbol(\"joi-annotations\"),stringify:function(e,r){const n=typeof e;if(null===e)return\"null\";if(\"string\"===n)return e;if(e instanceof t.Err||\"function\"===n||\"symbol\"===n)return e.toString();if(\"object\"===n){if(Array.isArray(e)){let t=\"\";for(let n=0;n<e.length;++n)t=t+(t.length?\", \":\"\")+s.stringify(e[n],r);return r?\"[\"+t+\"]\":t}return e.toString()}return JSON.stringify(e)}};t.Err=class{constructor(e,t,r,n,s,o,a){this.isJoi=!0,this.type=e,this.context=t||{},this.context.key=r.path[r.path.length-1],this.context.label=r.key,this.path=r.path,this.options=n,this.flags=s,this.message=o,this.template=a;const u=this.options.language;this.flags.label?this.context.label=this.flags.label:!u||\"\"!==this.context.label&&null!==this.context.label||(this.context.label=u.root||i.errors.root)}toString(){if(this.message)return this.message;let e;this.template&&(e=this.template);const t=this.options.language;if(void 0===(e=e||n.reach(t,this.type)||n.reach(i.errors,this.type)))return`Error code \"${this.type}\" is not defined, your custom type is missing the correct language definition`;let r=n.reach(t,\"messages.wrapArrays\");if(\"boolean\"!=typeof r&&(r=i.errors.messages.wrapArrays),null===e){const e=s.stringify(this.context.reason,r);return r?e.slice(1,-1):e}const o=/\\{\\{\\!?label\\}\\}/.test(e),a=e.length>2&&\"!\"===e[0]&&\"!\"===e[1];if(a&&(e=e.slice(2)),!o&&!a){const r=n.reach(t,\"key\");e=\"string\"==typeof r?r+e:n.reach(i.errors,\"key\")+e}return e.replace(/\\{\\{(\\!?)([^}]+)\\}\\}/g,(e,t,i)=>{const o=n.reach(this.context,i),a=s.stringify(o,r);return t&&this.options.escapeHtml?n.escapeHtml(a):a})}},t.create=function(e,r,n,i,s,o,a){return new t.Err(e,r,n,i,s,o,a)},t.process=function(e,t){if(!e||!e.length)return null;let r=\"\";const n=[],i=function(e,t){for(let s=0;s<e.length;++s){const o=e[s];if(o instanceof Error)return o;if(o.flags.error&&\"function\"!=typeof o.flags.error)return o.flags.error;let a;if(void 0===t&&(a=o.toString(),r=r+(r?\". \":\"\")+a),o.context.reason&&o.context.reason.length){const e=i(o.context.reason,o.path);if(e)return e}else n.push({message:a||o.toString(),path:o.path,type:o.type,context:o.context})}},o=i(e);if(o)return o;const a=new Error(r);return a.isJoi=!0,a.name=\"ValidationError\",a.details=n,a._object=t,a.annotate=s.annotate,a},s.safeStringify=function(e,t){return JSON.stringify(e,s.serializer(),t)},s.serializer=function(){const e=[],t=[];return function(r,n){if(t.length>0){const i=t.indexOf(this);~i?(t.length=i+1,e.length=i+1,e[i]=r):(t.push(this),e.push(r)),~t.indexOf(n)&&(n=((r,n)=>t[0]===n?\"[Circular ~]\":\"[Circular ~.\"+e.slice(0,t.indexOf(n)).join(\".\")+\"]\").call(this,r,n))}else t.push(n);if(n){const e=n[s.annotations];if(e){if(Array.isArray(n)){const t=[];for(let r=0;r<n.length;++r)e.errors[r]&&t.push(`_$idx$_${e.errors[r].sort().join(\", \")}_$end$_`),t.push(n[r]);n=t}else{const t=Object.keys(e.errors);for(let r=0;r<t.length;++r){const i=t[r];n[`${i}_$key$_${e.errors[i].sort().join(\", \")}_$end$_`]=n[i],n[i]=void 0}const r=Object.keys(e.missing);for(let t=0;t<r.length;++t){const i=r[t];n[`_$miss$_${i}|${e.missing[i]}_$end$_`]=\"__missing__\"}}return n}}return n===1/0||n===-1/0||Number.isNaN(n)||\"function\"==typeof n||\"symbol\"==typeof n?\"[\"+n.toString()+\"]\":n}},s.annotate=function(e){const t=e?\"\":\"\u001b[31m\",r=e?\"\":\"\u001b[41m\",i=e?\"\":\"\u001b[0m\";if(\"object\"!=typeof this._object)return this.details[0].message;const o=n.clone(this._object||{});for(let e=this.details.length-1;e>=0;--e){const t=e+1,r=this.details[e],n=r.path;let i=o;for(let e=0;;++e){const o=n[e];if(i.isImmutable&&(i=i.clone()),!(e+1<n.length&&i[o]&&\"string\"!=typeof i[o])){const e=i[s.annotations]=i[s.annotations]||{errors:{},missing:{}},n=i[o],a=o||r.context.label;void 0!==n?(e.errors[a]=e.errors[a]||[],e.errors[a].push(t)):e.missing[a]=t;break}i=i[o]}}const a=/_\\$key\\$_([, \\d]+)_\\$end\\$_\\\"/g,u=/\\\"_\\$miss\\$_([^\\|]+)\\|(\\d+)_\\$end\\$_\\\"\\: \\\"__missing__\\\"/g,c=/\\s*\\\"_\\$idx\\$_([, \\d]+)_\\$end\\$_\\\",?\\n(.*)/g,f=/\"\\[(NaN|Symbol.*|-?Infinity|function.*|\\(.*)\\]\"/g;let l=s.safeStringify(o,2).replace(a,(e,r)=>`\" ${t}[${r}]${i}`).replace(u,(e,n,s)=>`${r}\"${n}\"${i}${t} [${s}]: -- missing --${i}`).replace(c,(e,r,n)=>`\\n${n} ${t}[${r}]${i}`).replace(f,(e,t)=>t);l=`${l}\\n${t}`;for(let e=0;e<this.details.length;++e){l=`${l}\\n[${e+1}] ${this.details[e].message}`}return l+=i}},function(e,t){e.exports=require(\"deep-extend\")},function(e,t,r){\"use strict\";const n=r(178);function i(e){if(\"number\"==typeof e){if(i.codes[e])return i.codes[e];throw new Error(\"no protocol with code: \"+e)}if(\"string\"==typeof e||e instanceof String){if(i.names[e])return i.names[e];throw new Error(\"no protocol with name: \"+e)}throw new Error(\"invalid protocol id type: \"+e)}function s(e,t,r,n){return{code:e,size:t,name:r,resolvable:Boolean(n)}}i.lengthPrefixedVarSize=-1,i.V=-1,i.table=[[4,32,\"ip4\"],[6,16,\"tcp\"],[17,16,\"udp\"],[33,16,\"dccp\"],[41,128,\"ip6\"],[54,-1,\"dns4\",\"resolvable\"],[55,-1,\"dns6\",\"resolvable\"],[56,-1,\"dnsaddr\",\"resolvable\"],[132,16,\"sctp\"],[302,0,\"utp\"],[421,i.lengthPrefixedVarSize,\"ipfs\"],[480,0,\"http\"],[443,0,\"https\"],[477,0,\"ws\"],[478,0,\"wss\"],[479,0,\"p2p-websocket-star\"],[275,0,\"p2p-webrtc-star\"],[276,0,\"p2p-webrtc-direct\"],[290,0,\"p2p-circuit\"]],i.names={},i.codes={},n(i.table,function(e){const t=s.apply(null,e);i.codes[t.code]=t,i.names[t.name]=t}),i.object=s,e.exports=i},function(e,t,r){(function(e){var r=200,n=\"Expected a function\",i=\"__lodash_hash_undefined__\",s=1,o=2,a=1/0,u=9007199254740991,c=\"[object Arguments]\",f=\"[object Array]\",l=\"[object Boolean]\",h=\"[object Date]\",p=\"[object Error]\",d=\"[object Function]\",y=\"[object GeneratorFunction]\",m=\"[object Map]\",g=\"[object Number]\",v=\"[object Object]\",b=\"[object RegExp]\",w=\"[object Set]\",_=\"[object String]\",k=\"[object Symbol]\",S=\"[object ArrayBuffer]\",E=\"[object DataView]\",x=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,A=/^\\w*$/,B=/^\\./,C=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,I=/\\\\(\\\\)?/g,T=/^\\[object .+?Constructor\\]$/,D=/^(?:0|[1-9]\\d*)$/,P={};P[\"[object Float32Array]\"]=P[\"[object Float64Array]\"]=P[\"[object Int8Array]\"]=P[\"[object Int16Array]\"]=P[\"[object Int32Array]\"]=P[\"[object Uint8Array]\"]=P[\"[object Uint8ClampedArray]\"]=P[\"[object Uint16Array]\"]=P[\"[object Uint32Array]\"]=!0,P[c]=P[f]=P[S]=P[l]=P[E]=P[h]=P[p]=P[d]=P[m]=P[g]=P[v]=P[b]=P[w]=P[_]=P[\"[object WeakMap]\"]=!1;var O=\"object\"==typeof global&&global&&global.Object===Object&&global,N=\"object\"==typeof self&&self&&self.Object===Object&&self,U=O||N||Function(\"return this\")(),R=\"object\"==typeof t&&t&&!t.nodeType&&t,L=R&&\"object\"==typeof e&&e&&!e.nodeType&&e,F=L&&L.exports===R&&O.process,j=function(){try{return F&&F.binding(\"util\")}catch(e){}}(),M=j&&j.isTypedArray;function K(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function H(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function z(e){var t=!1;if(null!=e&&\"function\"!=typeof e.toString)try{t=!!(e+\"\")}catch(e){}return t}function V(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function q(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var G,W,$,X=Array.prototype,J=Function.prototype,Y=Object.prototype,Q=U[\"__core-js_shared__\"],Z=(G=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+G:\"\",ee=J.toString,te=Y.hasOwnProperty,re=Y.toString,ne=RegExp(\"^\"+ee.call(te).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),ie=U.Symbol,se=U.Uint8Array,oe=Y.propertyIsEnumerable,ae=X.splice,ue=(W=Object.keys,$=Object,function(e){return W($(e))}),ce=Ve(U,\"DataView\"),fe=Ve(U,\"Map\"),le=Ve(U,\"Promise\"),he=Ve(U,\"Set\"),pe=Ve(U,\"WeakMap\"),de=Ve(Object,\"create\"),ye=Qe(ce),me=Qe(fe),ge=Qe(le),ve=Qe(he),be=Qe(pe),we=ie?ie.prototype:void 0,_e=we?we.valueOf:void 0,ke=we?we.toString:void 0;function Se(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ee(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function xe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ae(e){var t=-1,r=e?e.length:0;for(this.__data__=new xe;++t<r;)this.add(e[t])}function Be(e){this.__data__=new Ee(e)}function Ce(e,t){var r=rt(e)||tt(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var s in e)!t&&!te.call(e,s)||i&&(\"length\"==s||Ge(s,n))||r.push(s);return r}function Ie(e,t){for(var r=e.length;r--;)if(et(e[r][0],t))return r;return-1}Se.prototype.clear=function(){this.__data__=de?de(null):{}},Se.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Se.prototype.get=function(e){var t=this.__data__;if(de){var r=t[e];return r===i?void 0:r}return te.call(t,e)?t[e]:void 0},Se.prototype.has=function(e){var t=this.__data__;return de?void 0!==t[e]:te.call(t,e)},Se.prototype.set=function(e,t){return this.__data__[e]=de&&void 0===t?i:t,this},Ee.prototype.clear=function(){this.__data__=[]},Ee.prototype.delete=function(e){var t=this.__data__,r=Ie(t,e);return!(r<0||(r==t.length-1?t.pop():ae.call(t,r,1),0))},Ee.prototype.get=function(e){var t=this.__data__,r=Ie(t,e);return r<0?void 0:t[r][1]},Ee.prototype.has=function(e){return Ie(this.__data__,e)>-1},Ee.prototype.set=function(e,t){var r=this.__data__,n=Ie(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},xe.prototype.clear=function(){this.__data__={hash:new Se,map:new(fe||Ee),string:new Se}},xe.prototype.delete=function(e){return ze(this,e).delete(e)},xe.prototype.get=function(e){return ze(this,e).get(e)},xe.prototype.has=function(e){return ze(this,e).has(e)},xe.prototype.set=function(e,t){return ze(this,e).set(e,t),this},Ae.prototype.add=Ae.prototype.push=function(e){return this.__data__.set(e,i),this},Ae.prototype.has=function(e){return this.__data__.has(e)},Be.prototype.clear=function(){this.__data__=new Ee},Be.prototype.delete=function(e){return this.__data__.delete(e)},Be.prototype.get=function(e){return this.__data__.get(e)},Be.prototype.has=function(e){return this.__data__.has(e)},Be.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ee){var i=n.__data__;if(!fe||i.length<r-1)return i.push([e,t]),this;n=this.__data__=new xe(i)}return n.set(e,t),this};var Te,De,Pe=(Te=function(e,t){return e&&Oe(e,t,ft)},function(e,t){if(null==e)return e;if(!nt(e))return Te(e,t);for(var r=e.length,n=De?r:-1,i=Object(e);(De?n--:++n<r)&&!1!==t(i[n],n,i););return e}),Oe=function(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),a=o.length;a--;){var u=o[e?a:++i];if(!1===r(s[u],u,s))break}return t}}();function Ne(e,t){for(var r=0,n=(t=We(t,e)?[t]:Ke(t)).length;null!=e&&r<n;)e=e[Ye(t[r++])];return r&&r==n?e:void 0}function Ue(e,t){return null!=e&&t in Object(e)}function Re(e,t,r,n,i){return e===t||(null==e||null==t||!ot(e)&&!at(t)?e!=e&&t!=t:function(e,t,r,n,i,a){var u=rt(e),d=rt(t),y=f,x=f;u||(y=(y=qe(e))==c?v:y);d||(x=(x=qe(t))==c?v:x);var A=y==v&&!z(e),B=x==v&&!z(t),C=y==x;if(C&&!A)return a||(a=new Be),u||ct(e)?He(e,t,r,n,i,a):function(e,t,r,n,i,a,u){switch(r){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!n(new se(e),new se(t)));case l:case h:case g:return et(+e,+t);case p:return e.name==t.name&&e.message==t.message;case b:case _:return e==t+\"\";case m:var c=V;case w:var f=a&o;if(c||(c=q),e.size!=t.size&&!f)return!1;var d=u.get(e);if(d)return d==t;a|=s,u.set(e,t);var y=He(c(e),c(t),n,i,a,u);return u.delete(e),y;case k:if(_e)return _e.call(e)==_e.call(t)}return!1}(e,t,y,r,n,i,a);if(!(i&o)){var I=A&&te.call(e,\"__wrapped__\"),T=B&&te.call(t,\"__wrapped__\");if(I||T){var D=I?e.value():e,P=T?t.value():t;return a||(a=new Be),r(D,P,n,i,a)}}if(!C)return!1;return a||(a=new Be),function(e,t,r,n,i,s){var a=i&o,u=ft(e),c=u.length,f=ft(t).length;if(c!=f&&!a)return!1;for(var l=c;l--;){var h=u[l];if(!(a?h in t:te.call(t,h)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var d=!0;s.set(e,t),s.set(t,e);for(var y=a;++l<c;){h=u[l];var m=e[h],g=t[h];if(n)var v=a?n(g,m,h,t,e,s):n(m,g,h,e,t,s);if(!(void 0===v?m===g||r(m,g,n,i,s):v)){d=!1;break}y||(y=\"constructor\"==h)}if(d&&!y){var b=e.constructor,w=t.constructor;b!=w&&\"constructor\"in e&&\"constructor\"in t&&!(\"function\"==typeof b&&b instanceof b&&\"function\"==typeof w&&w instanceof w)&&(d=!1)}return s.delete(e),s.delete(t),d}(e,t,r,n,i,a)}(e,t,Re,r,n,i))}function Le(e){return!(!ot(e)||Z&&Z in e)&&(it(e)||z(e)?ne:T).test(Qe(e))}function Fe(e){return\"function\"==typeof e?e:null==e?lt:\"object\"==typeof e?rt(e)?function(e,t){if(We(e)&&$e(t))return Xe(Ye(e),t);return function(r){var n=function(e,t,r){var n=null==e?void 0:Ne(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?function(e,t){return null!=e&&function(e,t,r){var n,i=-1,s=(t=We(t,e)?[t]:Ke(t)).length;for(;++i<s;){var o=Ye(t[i]);if(!(n=null!=e&&r(e,o)))break;e=e[o]}if(n)return n;return!!(s=e?e.length:0)&&st(s)&&Ge(o,s)&&(rt(e)||tt(e))}(e,t,Ue)}(r,e):Re(t,n,void 0,s|o)}}(e[0],e[1]):function(e){var t=function(e){var t=ft(e),r=t.length;for(;r--;){var n=t[r],i=e[n];t[r]=[n,i,$e(i)]}return t}(e);if(1==t.length&&t[0][2])return Xe(t[0][0],t[0][1]);return function(r){return r===e||function(e,t,r,n){var i=r.length,a=i,u=!n;if(null==e)return!a;for(e=Object(e);i--;){var c=r[i];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<a;){var f=(c=r[i])[0],l=e[f],h=c[1];if(u&&c[2]){if(void 0===l&&!(f in e))return!1}else{var p=new Be;if(n)var d=n(l,h,f,e,t,p);if(!(void 0===d?Re(h,l,n,s|o,p):d))return!1}}return!0}(r,e,t)}}(e):We(t=e)?(r=Ye(t),function(e){return null==e?void 0:e[r]}):function(e){return function(t){return Ne(t,e)}}(t);var t,r}function je(e){if(r=(t=e)&&t.constructor,n=\"function\"==typeof r&&r.prototype||Y,t!==n)return ue(e);var t,r,n,i=[];for(var s in Object(e))te.call(e,s)&&\"constructor\"!=s&&i.push(s);return i}function Me(e,t){var r=-1,n=nt(e)?Array(e.length):[];return Pe(e,function(e,i,s){n[++r]=t(e,i,s)}),n}function Ke(e){return rt(e)?e:Je(e)}function He(e,t,r,n,i,a){var u=i&o,c=e.length,f=t.length;if(c!=f&&!(u&&f>c))return!1;var l=a.get(e);if(l&&a.get(t))return l==t;var h=-1,p=!0,d=i&s?new Ae:void 0;for(a.set(e,t),a.set(t,e);++h<c;){var y=e[h],m=t[h];if(n)var g=u?n(m,y,h,t,e,a):n(y,m,h,e,t,a);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!H(t,function(e,t){if(!d.has(t)&&(y===e||r(y,e,n,i,a)))return d.add(t)})){p=!1;break}}else if(y!==m&&!r(y,m,n,i,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function ze(e,t){var r,n,i=e.__data__;return(\"string\"==(n=typeof(r=t))||\"number\"==n||\"symbol\"==n||\"boolean\"==n?\"__proto__\"!==r:null===r)?i[\"string\"==typeof t?\"string\":\"hash\"]:i.map}function Ve(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Le(r)?r:void 0}var qe=function(e){return re.call(e)};function Ge(e,t){return!!(t=null==t?u:t)&&(\"number\"==typeof e||D.test(e))&&e>-1&&e%1==0&&e<t}function We(e,t){if(rt(e))return!1;var r=typeof e;return!(\"number\"!=r&&\"symbol\"!=r&&\"boolean\"!=r&&null!=e&&!ut(e))||(A.test(e)||!x.test(e)||null!=t&&e in Object(t))}function $e(e){return e==e&&!ot(e)}function Xe(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}(ce&&qe(new ce(new ArrayBuffer(1)))!=E||fe&&qe(new fe)!=m||le&&\"[object Promise]\"!=qe(le.resolve())||he&&qe(new he)!=w||pe&&\"[object WeakMap]\"!=qe(new pe))&&(qe=function(e){var t=re.call(e),r=t==v?e.constructor:void 0,n=r?Qe(r):void 0;if(n)switch(n){case ye:return E;case me:return m;case ge:return\"[object Promise]\";case ve:return w;case be:return\"[object WeakMap]\"}return t});var Je=Ze(function(e){var t;e=null==(t=e)?\"\":function(e){if(\"string\"==typeof e)return e;if(ut(e))return ke?ke.call(e):\"\";var t=e+\"\";return\"0\"==t&&1/e==-a?\"-0\":t}(t);var r=[];return B.test(e)&&r.push(\"\"),e.replace(C,function(e,t,n,i){r.push(n?i.replace(I,\"$1\"):t||e)}),r});function Ye(e){if(\"string\"==typeof e||ut(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-a?\"-0\":t}function Qe(e){if(null!=e){try{return ee.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}function Ze(e,t){if(\"function\"!=typeof e||t&&\"function\"!=typeof t)throw new TypeError(n);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o),o};return r.cache=new(Ze.Cache||xe),r}function et(e,t){return e===t||e!=e&&t!=t}function tt(e){return function(e){return at(e)&&nt(e)}(e)&&te.call(e,\"callee\")&&(!oe.call(e,\"callee\")||re.call(e)==c)}Ze.Cache=xe;var rt=Array.isArray;function nt(e){return null!=e&&st(e.length)&&!it(e)}function it(e){var t=ot(e)?re.call(e):\"\";return t==d||t==y}function st(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=u}function ot(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}function at(e){return!!e&&\"object\"==typeof e}function ut(e){return\"symbol\"==typeof e||at(e)&&re.call(e)==k}var ct=M?function(e){return function(t){return e(t)}}(M):function(e){return at(e)&&st(e.length)&&!!P[re.call(e)]};function ft(e){return nt(e)?Ce(e):je(e)}function lt(e){return e}e.exports=function(e,t){return(rt(e)?K:Me)(e,Fe(t))}}).call(this,r(55)(e))},function(e,t,r){var n=r(4);r(42),r(6),(e.exports=n.pss=n.pss||{}).create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,r=e.md,i=e.mgf,s=r.digestLength,o=e.salt||null;if(\"string\"==typeof o&&(o=n.util.createBuffer(o)),\"saltLength\"in e)t=e.saltLength;else{if(null===o)throw new Error(\"Salt length not specified or specific salt not given.\");t=o.length()}if(null!==o&&o.length()!==t)throw new Error(\"Given salt length does not match length of given salt.\");var a=e.prng||n.random,u={encode:function(e,u){var c,f,l=u-1,h=Math.ceil(l/8),p=e.digest().getBytes();if(h<s+t+2)throw new Error(\"Message is too long to encrypt.\");f=null===o?a.getBytesSync(t):o.bytes();var d=new n.util.ByteBuffer;d.fillWithByte(0,8),d.putBytes(p),d.putBytes(f),r.start(),r.update(d.getBytes());var y=r.digest().getBytes(),m=new n.util.ByteBuffer;m.fillWithByte(0,h-t-s-2),m.putByte(1),m.putBytes(f);var g=m.getBytes(),v=h-s-1,b=i.generate(y,v),w=\"\";for(c=0;c<v;c++)w+=String.fromCharCode(g.charCodeAt(c)^b.charCodeAt(c));var _=65280>>8*h-l&255;return(w=String.fromCharCode(w.charCodeAt(0)&~_)+w.substr(1))+y+String.fromCharCode(188)},verify:function(e,o,a){var u,c=a-1,f=Math.ceil(c/8);if(o=o.substr(-f),f<s+t+2)throw new Error(\"Inconsistent parameters to PSS signature verification.\");if(188!==o.charCodeAt(f-1))throw new Error(\"Encoded message does not end in 0xBC.\");var l=f-s-1,h=o.substr(0,l),p=o.substr(l,s),d=65280>>8*f-c&255;if(0!=(h.charCodeAt(0)&d))throw new Error(\"Bits beyond keysize not zero as expected.\");var y=i.generate(p,l),m=\"\";for(u=0;u<l;u++)m+=String.fromCharCode(h.charCodeAt(u)^y.charCodeAt(u));m=String.fromCharCode(m.charCodeAt(0)&~d)+m.substr(1);var g=f-s-t-2;for(u=0;u<g;u++)if(0!==m.charCodeAt(u))throw new Error(\"Leftmost octets not zero as expected\");if(1!==m.charCodeAt(g))throw new Error(\"Inconsistent PSS signature, 0x01 marker not found\");var v=m.substr(-t),b=new n.util.ByteBuffer;return b.fillWithByte(0,8),b.putBytes(e),b.putBytes(v),r.start(),r.update(b.getBytes()),p===r.digest().getBytes()}};return u}},function(e,t,r){var n=r(4);r(67),r(58),r(129),r(57),r(729),r(66),r(83),r(179),r(128),r(6);var i=n.asn1,s=e.exports=n.pki=n.pki||{},o=s.oids,a={};a.CN=o.commonName,a.commonName=\"CN\",a.C=o.countryName,a.countryName=\"C\",a.L=o.localityName,a.localityName=\"L\",a.ST=o.stateOrProvinceName,a.stateOrProvinceName=\"ST\",a.O=o.organizationName,a.organizationName=\"O\",a.OU=o.organizationalUnitName,a.organizationalUnitName=\"OU\",a.E=o.emailAddress,a.emailAddress=\"E\";var u=n.pki.rsa.publicKeyValidator,c={name:\"Certificate\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"Certificate.TBSCertificate\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:\"tbsCertificate\",value:[{name:\"Certificate.TBSCertificate.version\",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:\"Certificate.TBSCertificate.version.integer\",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:\"certVersion\"}]},{name:\"Certificate.TBSCertificate.serialNumber\",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:\"certSerialNumber\"},{name:\"Certificate.TBSCertificate.signature\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"Certificate.TBSCertificate.signature.algorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"certinfoSignatureOid\"},{name:\"Certificate.TBSCertificate.signature.parameters\",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:\"certinfoSignatureParams\"}]},{name:\"Certificate.TBSCertificate.issuer\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:\"certIssuer\"},{name:\"Certificate.TBSCertificate.validity\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"Certificate.TBSCertificate.validity.notBefore (utc)\",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:\"certValidity1UTCTime\"},{name:\"Certificate.TBSCertificate.validity.notBefore (generalized)\",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:\"certValidity2GeneralizedTime\"},{name:\"Certificate.TBSCertificate.validity.notAfter (utc)\",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:\"certValidity3UTCTime\"},{name:\"Certificate.TBSCertificate.validity.notAfter (generalized)\",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:\"certValidity4GeneralizedTime\"}]},{name:\"Certificate.TBSCertificate.subject\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:\"certSubject\"},u,{name:\"Certificate.TBSCertificate.issuerUniqueID\",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:\"Certificate.TBSCertificate.issuerUniqueID.id\",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:\"certIssuerUniqueId\"}]},{name:\"Certificate.TBSCertificate.subjectUniqueID\",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:\"Certificate.TBSCertificate.subjectUniqueID.id\",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:\"certSubjectUniqueId\"}]},{name:\"Certificate.TBSCertificate.extensions\",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:\"certExtensions\",optional:!0}]},{name:\"Certificate.signatureAlgorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"Certificate.signatureAlgorithm.algorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"certSignatureOid\"},{name:\"Certificate.TBSCertificate.signature.parameters\",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:\"certSignatureParams\"}]},{name:\"Certificate.signatureValue\",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:\"certSignature\"}]},f={name:\"rsapss\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"rsapss.hashAlgorithm\",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:\"rsapss.hashAlgorithm.AlgorithmIdentifier\",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:\"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"hashOid\"}]}]},{name:\"rsapss.maskGenAlgorithm\",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:\"rsapss.maskGenAlgorithm.AlgorithmIdentifier\",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:\"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"maskGenOid\"},{name:\"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"maskGenHashOid\"}]}]}]},{name:\"rsapss.saltLength\",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:\"rsapss.saltLength.saltLength\",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:\"saltLength\"}]},{name:\"rsapss.trailerField\",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:\"rsapss.trailer.trailer\",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:\"trailer\"}]}]},l={name:\"CertificationRequestInfo\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:\"certificationRequestInfo\",value:[{name:\"CertificationRequestInfo.integer\",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:\"certificationRequestInfoVersion\"},{name:\"CertificationRequestInfo.subject\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:\"certificationRequestInfoSubject\"},u,{name:\"CertificationRequestInfo.attributes\",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:\"certificationRequestInfoAttributes\",value:[{name:\"CertificationRequestInfo.attributes\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"CertificationRequestInfo.attributes.type\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1},{name:\"CertificationRequestInfo.attributes.value\",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0}]}]}]},h={name:\"CertificationRequest\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:\"csr\",value:[l,{name:\"CertificationRequest.signatureAlgorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"CertificationRequest.signatureAlgorithm.algorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"csrSignatureOid\"},{name:\"CertificationRequest.signatureAlgorithm.parameters\",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:\"csrSignatureParams\"}]},{name:\"CertificationRequest.signature\",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:\"csrSignature\"}]};function p(e,t){\"string\"==typeof t&&(t={shortName:t});for(var r,n=null,i=0;null===n&&i<e.attributes.length;++i)r=e.attributes[i],t.type&&t.type===r.type?n=r:t.name&&t.name===r.name?n=r:t.shortName&&t.shortName===r.shortName&&(n=r);return n}s.RDNAttributesAsArray=function(e,t){for(var r,n,s,u=[],c=0;c<e.value.length;++c){r=e.value[c];for(var f=0;f<r.value.length;++f)s={},n=r.value[f],s.type=i.derToOid(n.value[0].value),s.value=n.value[1].value,s.valueTagClass=n.value[1].type,s.type in o&&(s.name=o[s.type],s.name in a&&(s.shortName=a[s.name])),t&&(t.update(s.type),t.update(s.value)),u.push(s)}return u},s.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],u=i.derToOid(n.value[0].value),c=n.value[1].value,f=0;f<c.length;++f){var l={};if(l.type=u,l.value=c[f].value,l.valueTagClass=c[f].type,l.type in o&&(l.name=o[l.type],l.name in a&&(l.shortName=a[l.name])),l.type===o.extensionRequest){l.extensions=[];for(var h=0;h<l.value.length;++h)l.extensions.push(s.certificateExtensionFromAsn1(l.value[h]))}t.push(l)}return t};var d=function(e,t,r){var n={};if(e!==o[\"RSASSA-PSS\"])return n;r&&(n={hash:{algorithmOid:o.sha1},mgf:{algorithmOid:o.mgf1,hash:{algorithmOid:o.sha1}},saltLength:20});var s={},a=[];if(!i.validate(t,f,s,a)){var u=new Error(\"Cannot read RSASSA-PSS parameter block.\");throw u.errors=a,u}return void 0!==s.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=i.derToOid(s.hashOid)),void 0!==s.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=i.derToOid(s.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=i.derToOid(s.maskGenHashOid)),void 0!==s.saltLength&&(n.saltLength=s.saltLength.charCodeAt(0)),n};function y(e){for(var t,r,s=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),o=e.attributes,a=0;a<o.length;++a){var u=(t=o[a]).value,c=i.Type.PRINTABLESTRING;\"valueTagClass\"in t&&(c=t.valueTagClass)===i.Type.UTF8&&(u=n.util.encodeUtf8(u)),r=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),i.create(i.Class.UNIVERSAL,c,!1,u)])]),s.value.push(r)}return s}function m(e){for(var t,r=0;r<e.length;++r){if(void 0===(t=e[r]).name&&(t.type&&t.type in s.oids?t.name=s.oids[t.type]:t.shortName&&t.shortName in a&&(t.name=s.oids[a[t.shortName]])),void 0===t.type){if(!(t.name&&t.name in s.oids))throw(u=new Error(\"Attribute type not specified.\")).attribute=t,u;t.type=s.oids[t.name]}if(void 0===t.shortName&&t.name&&t.name in a&&(t.shortName=a[t.name]),t.type===o.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=i.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var n=0;n<t.extensions.length;++n)t.value.push(s.certificateExtensionToAsn1(g(t.extensions[n])))}var u;if(void 0===t.value)throw(u=new Error(\"Attribute value not specified.\")).attribute=t,u}}function g(e,t){if(t=t||{},void 0===e.name&&e.id&&e.id in s.oids&&(e.name=s.oids[e.id]),void 0===e.id){if(!(e.name&&e.name in s.oids))throw(_=new Error(\"Extension ID not specified.\")).extension=e,_;e.id=s.oids[e.name]}if(void 0!==e.value)return e;if(\"keyUsage\"===e.name){var r=0,a=0,u=0;e.digitalSignature&&(a|=128,r=7),e.nonRepudiation&&(a|=64,r=6),e.keyEncipherment&&(a|=32,r=5),e.dataEncipherment&&(a|=16,r=4),e.keyAgreement&&(a|=8,r=3),e.keyCertSign&&(a|=4,r=2),e.cRLSign&&(a|=2,r=1),e.encipherOnly&&(a|=1,r=0),e.decipherOnly&&(u|=128,r=7);var c=String.fromCharCode(r);0!==u?c+=String.fromCharCode(a)+String.fromCharCode(u):0!==a&&(c+=String.fromCharCode(a)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,c)}else if(\"basicConstraints\"===e.name)e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255))),\"pathLenConstraint\"in e&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.pathLenConstraint).getBytes()));else if(\"extKeyUsage\"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);var f=e.value.value;for(var l in e)!0===e[l]&&(l in o?f.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o[l]).getBytes())):-1!==l.indexOf(\".\")&&f.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(l).getBytes())))}else if(\"nsCertType\"===e.name){r=0,a=0;e.client&&(a|=128,r=7),e.server&&(a|=64,r=6),e.email&&(a|=32,r=5),e.objsign&&(a|=16,r=4),e.reserved&&(a|=8,r=3),e.sslCA&&(a|=4,r=2),e.emailCA&&(a|=2,r=1),e.objCA&&(a|=1,r=0);c=String.fromCharCode(r);0!==a&&(c+=String.fromCharCode(a)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,c)}else if(\"subjectAltName\"===e.name||\"issuerAltName\"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);for(var h=0;h<e.altNames.length;++h){c=(v=e.altNames[h]).value;if(7===v.type&&v.ip){if(null===(c=n.util.bytesFromIP(v.ip)))throw(_=new Error('Extension \"ip\" value is not a valid IPv4 or IPv6 address.')).extension=e,_}else 8===v.type&&(c=v.oid?i.oidToDer(i.oidToDer(v.oid)):i.oidToDer(c));e.value.value.push(i.create(i.Class.CONTEXT_SPECIFIC,v.type,!1,c))}}else if(\"subjectKeyIdentifier\"===e.name&&t.cert){var p=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=p.toHex(),e.value=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,p.getBytes())}else if(\"authorityKeyIdentifier\"===e.name&&t.cert){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);f=e.value.value;if(e.keyIdentifier){var d=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;f.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!1,d))}if(e.authorityCertIssuer){var m=[i.create(i.Class.CONTEXT_SPECIFIC,4,!0,[y(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];f.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,m))}if(e.serialNumber){var g=n.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);f.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!1,g))}}else if(\"cRLDistributionPoints\"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);f=e.value.value;var v,b=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),w=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(h=0;h<e.altNames.length;++h){c=(v=e.altNames[h]).value;if(7===v.type&&v.ip){if(null===(c=n.util.bytesFromIP(v.ip)))throw(_=new Error('Extension \"ip\" value is not a valid IPv4 or IPv6 address.')).extension=e,_}else 8===v.type&&(c=v.oid?i.oidToDer(i.oidToDer(v.oid)):i.oidToDer(c));w.value.push(i.create(i.Class.CONTEXT_SPECIFIC,v.type,!1,c))}b.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[w])),f.push(b)}var _;if(void 0===e.value)throw(_=new Error(\"Extension value not specified.\")).extension=e,_;return e}function v(e,t){switch(e){case o[\"RSASSA-PSS\"]:var r=[];return void 0!==t.hash.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,\"\")])])),void 0!==t.mgf.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,\"\")])])])),void 0!==t.saltLength&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.saltLength).getBytes())])),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,r);default:return i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,\"\")}}s.certificateFromPem=function(e,t,r){var o=n.pem.decode(e)[0];if(\"CERTIFICATE\"!==o.type&&\"X509 CERTIFICATE\"!==o.type&&\"TRUSTED CERTIFICATE\"!==o.type){var a=new Error('Could not convert certificate from PEM; PEM header type is not \"CERTIFICATE\", \"X509 CERTIFICATE\", or \"TRUSTED CERTIFICATE\".');throw a.headerType=o.type,a}if(o.procType&&\"ENCRYPTED\"===o.procType.type)throw new Error(\"Could not convert certificate from PEM; PEM is encrypted.\");var u=i.fromDer(o.body,r);return s.certificateFromAsn1(u,t)},s.certificateToPem=function(e,t){var r={type:\"CERTIFICATE\",body:i.toDer(s.certificateToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.publicKeyFromPem=function(e){var t=n.pem.decode(e)[0];if(\"PUBLIC KEY\"!==t.type&&\"RSA PUBLIC KEY\"!==t.type){var r=new Error('Could not convert public key from PEM; PEM header type is not \"PUBLIC KEY\" or \"RSA PUBLIC KEY\".');throw r.headerType=t.type,r}if(t.procType&&\"ENCRYPTED\"===t.procType.type)throw new Error(\"Could not convert public key from PEM; PEM is encrypted.\");var o=i.fromDer(t.body);return s.publicKeyFromAsn1(o)},s.publicKeyToPem=function(e,t){var r={type:\"PUBLIC KEY\",body:i.toDer(s.publicKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:\"RSA PUBLIC KEY\",body:i.toDer(s.publicKeyToRSAPublicKey(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.getPublicKeyFingerprint=function(e,t){var r,o=(t=t||{}).md||n.md.sha1.create();switch(t.type||\"RSAPublicKey\"){case\"RSAPublicKey\":r=i.toDer(s.publicKeyToRSAPublicKey(e)).getBytes();break;case\"SubjectPublicKeyInfo\":r=i.toDer(s.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type \"'+t.type+'\".')}o.start(),o.update(r);var a=o.digest();if(\"hex\"===t.encoding){var u=a.toHex();return t.delimiter?u.match(/.{2}/g).join(t.delimiter):u}if(\"binary\"===t.encoding)return a.getBytes();if(t.encoding)throw new Error('Unknown encoding \"'+t.encoding+'\".');return a},s.certificationRequestFromPem=function(e,t,r){var o=n.pem.decode(e)[0];if(\"CERTIFICATE REQUEST\"!==o.type){var a=new Error('Could not convert certification request from PEM; PEM header type is not \"CERTIFICATE REQUEST\".');throw a.headerType=o.type,a}if(o.procType&&\"ENCRYPTED\"===o.procType.type)throw new Error(\"Could not convert certification request from PEM; PEM is encrypted.\");var u=i.fromDer(o.body,r);return s.certificationRequestFromAsn1(u,t)},s.certificationRequestToPem=function(e,t){var r={type:\"CERTIFICATE REQUEST\",body:i.toDer(s.certificationRequestToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.createCertificate=function(){var e={version:2,serialNumber:\"00\",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return p(e.issuer,t)},e.issuer.addField=function(t){m([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return p(e.subject,t)},e.subject.addField=function(t){m([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){m(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){m(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)g(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){\"string\"==typeof t&&(t={name:t});for(var r,n=null,i=0;null===n&&i<e.extensions.length;++i)r=e.extensions[i],t.id&&r.id===t.id?n=r:t.name&&r.name===t.name&&(n=r);return n},e.sign=function(t,r){e.md=r||n.md.sha1.create();var a=o[e.md.algorithm+\"WithRSAEncryption\"];if(!a){var u=new Error(\"Could not compute certificate digest. Unknown message digest algorithm OID.\");throw u.algorithm=e.md.algorithm,u}e.signatureOid=e.siginfo.algorithmOid=a,e.tbsCertificate=s.getTBSCertificate(e);var c=i.toDer(e.tbsCertificate);e.md.update(c.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var a=t.issuer,u=e.subject;throw(y=new Error(\"The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.\")).expectedIssuer=a.attributes,y.actualIssuer=u.attributes,y}var c=t.md;if(null===c){if(t.signatureOid in o)switch(o[t.signatureOid]){case\"sha1WithRSAEncryption\":c=n.md.sha1.create();break;case\"md5WithRSAEncryption\":c=n.md.md5.create();break;case\"sha256WithRSAEncryption\":c=n.md.sha256.create();break;case\"sha384WithRSAEncryption\":c=n.md.sha384.create();break;case\"sha512WithRSAEncryption\":c=n.md.sha512.create();break;case\"RSASSA-PSS\":c=n.md.sha256.create()}if(null===c)throw(y=new Error(\"Could not compute certificate digest. Unknown signature OID.\")).signatureOid=t.signatureOid,y;var f=t.tbsCertificate||s.getTBSCertificate(t),l=i.toDer(f);c.update(l.getBytes())}if(null!==c){var h;switch(t.signatureOid){case o.sha1WithRSAEncryption:h=void 0;break;case o[\"RSASSA-PSS\"]:var p,d,y;if(void 0===(p=o[t.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[p])throw(y=new Error(\"Unsupported MGF hash function.\")).oid=t.signatureParameters.mgf.hash.algorithmOid,y.name=p,y;if(void 0===(d=o[t.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[d])throw(y=new Error(\"Unsupported MGF function.\")).oid=t.signatureParameters.mgf.algorithmOid,y.name=d,y;if(d=n.mgf[d].create(n.md[p].create()),void 0===(p=o[t.signatureParameters.hash.algorithmOid])||void 0===n.md[p])throw{message:\"Unsupported RSASSA-PSS hash function.\",oid:t.signatureParameters.hash.algorithmOid,name:p};h=n.pss.create(n.md[p].create(),d,t.signatureParameters.saltLength)}r=e.publicKey.verify(c.digest().getBytes(),t.signature,h)}return r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){var s,o;r=!0;for(var a=0;r&&a<n.attributes.length;++a)s=n.attributes[a],o=i.attributes[a],s.type===o.type&&s.value===o.value||(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return s.getPublicKeyFingerprint(e.publicKey,{type:\"RSAPublicKey\"})},e.verifySubjectKeyIdentifier=function(){for(var t=o.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var i=e.extensions[r];if(i.id===t){var s=e.generateSubjectKeyIdentifier().getBytes();return n.util.hexToBytes(i.subjectKeyIdentifier)===s}}return!1},e},s.certificateFromAsn1=function(e,t){var r={},a=[];if(!i.validate(e,c,r,a))throw(h=new Error(\"Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.\")).errors=a,h;if(i.derToOid(r.publicKeyOid)!==s.oids.rsaEncryption)throw new Error(\"Cannot read public key. OID is not RSA.\");var u=s.createCertificate();u.version=r.certVersion?r.certVersion.charCodeAt(0):0;var f=n.util.createBuffer(r.certSerialNumber);u.serialNumber=f.toHex(),u.signatureOid=n.asn1.derToOid(r.certSignatureOid),u.signatureParameters=d(u.signatureOid,r.certSignatureParams,!0),u.siginfo.algorithmOid=n.asn1.derToOid(r.certinfoSignatureOid),u.siginfo.parameters=d(u.siginfo.algorithmOid,r.certinfoSignatureParams,!1),u.signature=r.certSignature;var l=[];if(void 0!==r.certValidity1UTCTime&&l.push(i.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&l.push(i.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&l.push(i.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&l.push(i.generalizedTimeToDate(r.certValidity4GeneralizedTime)),l.length>2)throw new Error(\"Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.\");if(l.length<2)throw new Error(\"Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.\");if(u.validity.notBefore=l[0],u.validity.notAfter=l[1],u.tbsCertificate=r.tbsCertificate,t){var h;if(u.md=null,u.signatureOid in o)switch(o[u.signatureOid]){case\"sha1WithRSAEncryption\":u.md=n.md.sha1.create();break;case\"md5WithRSAEncryption\":u.md=n.md.md5.create();break;case\"sha256WithRSAEncryption\":u.md=n.md.sha256.create();break;case\"sha384WithRSAEncryption\":u.md=n.md.sha384.create();break;case\"sha512WithRSAEncryption\":u.md=n.md.sha512.create();break;case\"RSASSA-PSS\":u.md=n.md.sha256.create()}if(null===u.md)throw(h=new Error(\"Could not compute certificate digest. Unknown signature OID.\")).signatureOid=u.signatureOid,h;var y=i.toDer(u.tbsCertificate);u.md.update(y.getBytes())}var g=n.md.sha1.create();u.issuer.getField=function(e){return p(u.issuer,e)},u.issuer.addField=function(e){m([e]),u.issuer.attributes.push(e)},u.issuer.attributes=s.RDNAttributesAsArray(r.certIssuer,g),r.certIssuerUniqueId&&(u.issuer.uniqueId=r.certIssuerUniqueId),u.issuer.hash=g.digest().toHex();var v=n.md.sha1.create();return u.subject.getField=function(e){return p(u.subject,e)},u.subject.addField=function(e){m([e]),u.subject.attributes.push(e)},u.subject.attributes=s.RDNAttributesAsArray(r.certSubject,v),r.certSubjectUniqueId&&(u.subject.uniqueId=r.certSubjectUniqueId),u.subject.hash=v.digest().toHex(),r.certExtensions?u.extensions=s.certificateExtensionsFromAsn1(r.certExtensions):u.extensions=[],u.publicKey=s.publicKeyFromAsn1(r.subjectPublicKeyInfo),u},s.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(s.certificateExtensionFromAsn1(n.value[i]));return t},s.certificateExtensionFromAsn1=function(e){var t={};if(t.id=i.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===i.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in o)if(t.name=o[t.id],\"keyUsage\"===t.name){var r=0,s=0;(u=i.fromDer(t.value)).value.length>1&&(r=u.value.charCodeAt(1),s=u.value.length>2?u.value.charCodeAt(2):0),t.digitalSignature=128==(128&r),t.nonRepudiation=64==(64&r),t.keyEncipherment=32==(32&r),t.dataEncipherment=16==(16&r),t.keyAgreement=8==(8&r),t.keyCertSign=4==(4&r),t.cRLSign=2==(2&r),t.encipherOnly=1==(1&r),t.decipherOnly=128==(128&s)}else if(\"basicConstraints\"===t.name){(u=i.fromDer(t.value)).value.length>0&&u.value[0].type===i.Type.BOOLEAN?t.cA=0!==u.value[0].value.charCodeAt(0):t.cA=!1;var a=null;u.value.length>0&&u.value[0].type===i.Type.INTEGER?a=u.value[0].value:u.value.length>1&&(a=u.value[1].value),null!==a&&(t.pathLenConstraint=i.derToInteger(a))}else if(\"extKeyUsage\"===t.name)for(var u=i.fromDer(t.value),c=0;c<u.value.length;++c){var f=i.derToOid(u.value[c].value);f in o?t[o[f]]=!0:t[f]=!0}else if(\"nsCertType\"===t.name){r=0;(u=i.fromDer(t.value)).value.length>1&&(r=u.value.charCodeAt(1)),t.client=128==(128&r),t.server=64==(64&r),t.email=32==(32&r),t.objsign=16==(16&r),t.reserved=8==(8&r),t.sslCA=4==(4&r),t.emailCA=2==(2&r),t.objCA=1==(1&r)}else if(\"subjectAltName\"===t.name||\"issuerAltName\"===t.name){var l;t.altNames=[];u=i.fromDer(t.value);for(var h=0;h<u.value.length;++h){var p={type:(l=u.value[h]).type,value:l.value};switch(t.altNames.push(p),l.type){case 1:case 2:case 6:break;case 7:p.ip=n.util.bytesToIP(l.value);break;case 8:p.oid=i.derToOid(l.value)}}}else if(\"subjectKeyIdentifier\"===t.name){u=i.fromDer(t.value);t.subjectKeyIdentifier=n.util.bytesToHex(u.value)}return t},s.certificationRequestFromAsn1=function(e,t){var r={},a=[];if(!i.validate(e,h,r,a))throw(c=new Error(\"Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.\")).errors=a,c;if(i.derToOid(r.publicKeyOid)!==s.oids.rsaEncryption)throw new Error(\"Cannot read public key. OID is not RSA.\");var u=s.createCertificationRequest();if(u.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,u.signatureOid=n.asn1.derToOid(r.csrSignatureOid),u.signatureParameters=d(u.signatureOid,r.csrSignatureParams,!0),u.siginfo.algorithmOid=n.asn1.derToOid(r.csrSignatureOid),u.siginfo.parameters=d(u.siginfo.algorithmOid,r.csrSignatureParams,!1),u.signature=r.csrSignature,u.certificationRequestInfo=r.certificationRequestInfo,t){var c;if(u.md=null,u.signatureOid in o)switch(o[u.signatureOid]){case\"sha1WithRSAEncryption\":u.md=n.md.sha1.create();break;case\"md5WithRSAEncryption\":u.md=n.md.md5.create();break;case\"sha256WithRSAEncryption\":u.md=n.md.sha256.create();break;case\"sha384WithRSAEncryption\":u.md=n.md.sha384.create();break;case\"sha512WithRSAEncryption\":u.md=n.md.sha512.create();break;case\"RSASSA-PSS\":u.md=n.md.sha256.create()}if(null===u.md)throw(c=new Error(\"Could not compute certification request digest. Unknown signature OID.\")).signatureOid=u.signatureOid,c;var f=i.toDer(u.certificationRequestInfo);u.md.update(f.getBytes())}var l=n.md.sha1.create();return u.subject.getField=function(e){return p(u.subject,e)},u.subject.addField=function(e){m([e]),u.subject.attributes.push(e)},u.subject.attributes=s.RDNAttributesAsArray(r.certificationRequestInfoSubject,l),u.subject.hash=l.digest().toHex(),u.publicKey=s.publicKeyFromAsn1(r.subjectPublicKeyInfo),u.getAttribute=function(e){return p(u,e)},u.addAttribute=function(e){m([e]),u.attributes.push(e)},u.attributes=s.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),u},s.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return p(e.subject,t)},e.subject.addField=function(t){m([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return p(e,t)},e.addAttribute=function(t){m([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){m(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){m(t),e.attributes=t},e.sign=function(t,r){e.md=r||n.md.sha1.create();var a=o[e.md.algorithm+\"WithRSAEncryption\"];if(!a){var u=new Error(\"Could not compute certification request digest. Unknown message digest algorithm OID.\");throw u.algorithm=e.md.algorithm,u}e.signatureOid=e.siginfo.algorithmOid=a,e.certificationRequestInfo=s.getCertificationRequestInfo(e);var c=i.toDer(e.certificationRequestInfo);e.md.update(c.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(null===r){if(e.signatureOid in o)switch(o[e.signatureOid]){case\"sha1WithRSAEncryption\":r=n.md.sha1.create();break;case\"md5WithRSAEncryption\":r=n.md.md5.create();break;case\"sha256WithRSAEncryption\":r=n.md.sha256.create();break;case\"sha384WithRSAEncryption\":r=n.md.sha384.create();break;case\"sha512WithRSAEncryption\":r=n.md.sha512.create();break;case\"RSASSA-PSS\":r=n.md.sha256.create()}if(null===r)throw(h=new Error(\"Could not compute certification request digest. Unknown signature OID.\")).signatureOid=e.signatureOid,h;var a=e.certificationRequestInfo||s.getCertificationRequestInfo(e),u=i.toDer(a);r.update(u.getBytes())}if(null!==r){var c;switch(e.signatureOid){case o.sha1WithRSAEncryption:break;case o[\"RSASSA-PSS\"]:var f,l,h;if(void 0===(f=o[e.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[f])throw(h=new Error(\"Unsupported MGF hash function.\")).oid=e.signatureParameters.mgf.hash.algorithmOid,h.name=f,h;if(void 0===(l=o[e.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[l])throw(h=new Error(\"Unsupported MGF function.\")).oid=e.signatureParameters.mgf.algorithmOid,h.name=l,h;if(l=n.mgf[l].create(n.md[f].create()),void 0===(f=o[e.signatureParameters.hash.algorithmOid])||void 0===n.md[f])throw(h=new Error(\"Unsupported RSASSA-PSS hash function.\")).oid=e.signatureParameters.hash.algorithmOid,h.name=f,h;c=n.pss.create(n.md[f].create(),l,e.signatureParameters.saltLength)}t=e.publicKey.verify(r.digest().getBytes(),e.signature,c)}return t},e},s.getTBSCertificate=function(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.siginfo.algorithmOid).getBytes()),v(e.siginfo.algorithmOid,e.siginfo.parameters)]),y(e.issuer),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(e.validity.notBefore)),i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(e.validity.notAfter))]),y(e.subject),s.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&t.value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&t.value.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&t.value.push(s.certificateExtensionsToAsn1(e.extensions)),t},s.getCertificationRequestInfo=function(e){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),y(e.subject),s.publicKeyToAsn1(e.publicKey),function(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var r=e.attributes,s=0;s<r.length;++s){var o=r[s],a=o.value,u=i.Type.UTF8;\"valueTagClass\"in o&&(u=o.valueTagClass),u===i.Type.UTF8&&(a=n.util.encodeUtf8(a));var c=!1;\"valueConstructed\"in o&&(c=o.valueConstructed);var f=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,u,c,a)])]);t.value.push(f)}return t}(e)])},s.distinguishedNameToAsn1=function(e){return y(e)},s.certificateToAsn1=function(e){var t=e.tbsCertificate||s.getTBSCertificate(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),v(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},s.certificateExtensionsToAsn1=function(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,3,!0,[]),r=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(s.certificateExtensionToAsn1(e[n]));return t},s.certificateExtensionToAsn1=function(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.id).getBytes())),e.critical&&t.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return\"string\"!=typeof e.value&&(r=i.toDer(r).getBytes()),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)),t},s.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||s.getCertificationRequestInfo(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),v(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},s.createCaStore=function(e){var t={certs:{}};function r(e){return o(e),t.certs[e.hash]||null}function o(e){if(!e.hash){var t=n.md.sha1.create();e.attributes=s.RDNAttributesAsArray(y(e),t),e.hash=t.digest().toHex()}}if(t.getIssuer=function(e){return r(e.issuer)},t.addCertificate=function(e){if(\"string\"==typeof e&&(e=n.pki.certificateFromPem(e)),o(e.subject),!t.hasCertificate(e))if(e.subject.hash in t.certs){var r=t.certs[e.subject.hash];n.util.isArray(r)||(r=[r]),r.push(e),t.certs[e.subject.hash]=r}else t.certs[e.subject.hash]=e},t.hasCertificate=function(e){\"string\"==typeof e&&(e=n.pki.certificateFromPem(e));var t=r(e.subject);if(!t)return!1;n.util.isArray(t)||(t=[t]);for(var o=i.toDer(s.certificateToAsn1(e)).getBytes(),a=0;a<t.length;++a){if(o===i.toDer(s.certificateToAsn1(t[a])).getBytes())return!0}return!1},t.listAllCertificates=function(){var e=[];for(var r in t.certs)if(t.certs.hasOwnProperty(r)){var i=t.certs[r];if(n.util.isArray(i))for(var s=0;s<i.length;++s)e.push(i[s]);else e.push(i)}return e},t.removeCertificate=function(e){var a;if(\"string\"==typeof e&&(e=n.pki.certificateFromPem(e)),o(e.subject),!t.hasCertificate(e))return null;var u=r(e.subject);if(!n.util.isArray(u))return a=t.certs[e.subject.hash],delete t.certs[e.subject.hash],a;for(var c=i.toDer(s.certificateToAsn1(e)).getBytes(),f=0;f<u.length;++f){c===i.toDer(s.certificateToAsn1(u[f])).getBytes()&&(a=u[f],u.splice(f,1))}return 0===u.length&&delete t.certs[e.subject.hash],a},e)for(var a=0;a<e.length;++a){var u=e[a];t.addCertificate(u)}return t},s.certificateError={bad_certificate:\"forge.pki.BadCertificate\",unsupported_certificate:\"forge.pki.UnsupportedCertificate\",certificate_revoked:\"forge.pki.CertificateRevoked\",certificate_expired:\"forge.pki.CertificateExpired\",certificate_unknown:\"forge.pki.CertificateUnknown\",unknown_ca:\"forge.pki.UnknownCertificateAuthority\"},s.verifyCertificateChain=function(e,t,r){var i=(t=t.slice(0)).slice(0),o=new Date,a=!0,u=null,c=0;do{var f=t.shift(),l=null,h=!1;if((o<f.validity.notBefore||o>f.validity.notAfter)&&(u={message:\"Certificate is not valid yet or has expired.\",error:s.certificateError.certificate_expired,notBefore:f.validity.notBefore,notAfter:f.validity.notAfter,now:o}),null===u){if(null===(l=t[0]||e.getIssuer(f))&&f.isIssuer(f)&&(h=!0,l=f),l){var p=l;n.util.isArray(p)||(p=[p]);for(var d=!1;!d&&p.length>0;){l=p.shift();try{d=l.verify(f)}catch(e){}}d||(u={message:\"Certificate signature is invalid.\",error:s.certificateError.bad_certificate})}null!==u||l&&!h||e.hasCertificate(f)||(u={message:\"Certificate is not trusted.\",error:s.certificateError.unknown_ca})}if(null===u&&l&&!f.isIssuer(l)&&(u={message:\"Certificate issuer is invalid.\",error:s.certificateError.bad_certificate}),null===u)for(var y={keyUsage:!0,basicConstraints:!0},m=0;null===u&&m<f.extensions.length;++m){var g=f.extensions[m];!g.critical||g.name in y||(u={message:\"Certificate has an unsupported critical extension.\",error:s.certificateError.unsupported_certificate})}if(null===u&&(!a||0===t.length&&(!l||h))){var v=f.getExtension(\"basicConstraints\"),b=f.getExtension(\"keyUsage\");if(null!==b&&(b.keyCertSign&&null!==v||(u={message:\"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.\",error:s.certificateError.bad_certificate})),null!==u||null===v||v.cA||(u={message:\"Certificate basicConstraints indicates the certificate is not a CA.\",error:s.certificateError.bad_certificate}),null===u&&null!==b&&\"pathLenConstraint\"in v)c-1>v.pathLenConstraint&&(u={message:\"Certificate basicConstraints pathLenConstraint violated.\",error:s.certificateError.bad_certificate})}var w=null===u||u.error,_=r?r(w,c,i):w;if(!0!==_)throw!0===w&&(u={message:\"The application rejected the certificate.\",error:s.certificateError.bad_certificate}),(_||0===_)&&(\"object\"!=typeof _||n.util.isArray(_)?\"string\"==typeof _&&(u.error=_):(_.message&&(u.message=_.message),_.error&&(u.error=_.error))),u;u=null,a=!1,++c}while(t.length>0);return!0}},function(e,t,r){var n=r(4);r(96),r(57),r(6);var i,s=n.pkcs5=n.pkcs5||{};n.util.isNodejs&&!n.options.usePureJavaScript&&(i=r(24)),e.exports=n.pbkdf2=s.pbkdf2=function(e,t,r,s,o,a){if(\"function\"==typeof o&&(a=o,o=null),n.util.isNodejs&&!n.options.usePureJavaScript&&i.pbkdf2&&(null===o||\"object\"!=typeof o)&&(i.pbkdf2Sync.length>4||!o||\"sha1\"===o))return\"string\"!=typeof o&&(o=\"sha1\"),e=new Buffer(e,\"binary\"),t=new Buffer(t,\"binary\"),a?4===i.pbkdf2Sync.length?i.pbkdf2(e,t,r,s,function(e,t){if(e)return a(e);a(null,t.toString(\"binary\"))}):i.pbkdf2(e,t,r,s,o,function(e,t){if(e)return a(e);a(null,t.toString(\"binary\"))}):4===i.pbkdf2Sync.length?i.pbkdf2Sync(e,t,r,s).toString(\"binary\"):i.pbkdf2Sync(e,t,r,s,o).toString(\"binary\");if(void 0!==o&&null!==o||(o=\"sha1\"),\"string\"==typeof o){if(!(o in n.md.algorithms))throw new Error(\"Unknown hash algorithm: \"+o);o=n.md[o].create()}var u=o.digestLength;if(s>4294967295*u){var c=new Error(\"Derived key is too long.\");if(a)return a(c);throw c}var f=Math.ceil(s/u),l=s-(f-1)*u,h=n.hmac.create();h.start(o,e);var p,d,y,m=\"\";if(!a){for(var g=1;g<=f;++g){h.start(null,null),h.update(t),h.update(n.util.int32ToBytes(g)),p=y=h.digest().getBytes();for(var v=2;v<=r;++v)h.start(null,null),h.update(y),d=h.digest().getBytes(),p=n.util.xorBytes(p,d,u),y=d;m+=g<f?p:p.substr(0,l)}return m}g=1;function b(){if(g>f)return a(null,m);h.start(null,null),h.update(t),h.update(n.util.int32ToBytes(g)),p=y=h.digest().getBytes(),v=2,w()}function w(){if(v<=r)return h.start(null,null),h.update(y),d=h.digest().getBytes(),p=n.util.xorBytes(p,d,u),y=d,++v,n.util.setImmediate(w);m+=g<f?p:p.substr(0,l),++g,b()}b()}},function(e,t,r){var n=r(4);r(57),r(6);var i=e.exports=n.md5=n.md5||{};n.md.md5=n.md.algorithms.md5=i,i.create=function(){c||function(){s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),64),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],a=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],u=new Array(64);for(var e=0;e<64;++e)u[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));c=!0}();var e=null,t=n.util.createBuffer(),r=new Array(16),i={algorithm:\"md5\",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,s=0;s<r;++s)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},i}};return i.start(),i.update=function(s,o){\"utf8\"===o&&(s=n.util.encodeUtf8(s));var a=s.length;i.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var u=i.fullMessageLength.length-1;u>=0;--u)i.fullMessageLength[u]+=a[1],a[1]=a[0]+(i.fullMessageLength[u]/4294967296>>>0),i.fullMessageLength[u]=i.fullMessageLength[u]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(s),f(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var o=n.util.createBuffer();o.putBytes(t.bytes());var a=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;o.putBytes(s.substr(0,i.blockLength-a));for(var u,c=0,l=i.fullMessageLength.length-1;l>=0;--l)c=(u=8*i.fullMessageLength[l]+c)/4294967296>>>0,o.putInt32Le(u>>>0);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};f(h,r,o);var p=n.util.createBuffer();return p.putInt32Le(h.h0),p.putInt32Le(h.h1),p.putInt32Le(h.h2),p.putInt32Le(h.h3),p},i};var s=null,o=null,a=null,u=null,c=!1;function f(e,t,r){for(var n,i,s,c,f,l,h,p=r.length();p>=64;){for(i=e.h0,s=e.h1,c=e.h2,f=e.h3,h=0;h<16;++h)t[h]=r.getInt32Le(),n=i+(f^s&(c^f))+u[h]+t[h],i=f,f=c,c=s,s+=n<<(l=a[h])|n>>>32-l;for(;h<32;++h)n=i+(c^f&(s^c))+u[h]+t[o[h]],i=f,f=c,c=s,s+=n<<(l=a[h])|n>>>32-l;for(;h<48;++h)n=i+(s^c^f)+u[h]+t[o[h]],i=f,f=c,c=s,s+=n<<(l=a[h])|n>>>32-l;for(;h<64;++h)n=i+(c^(s|~f))+u[h]+t[o[h]],i=f,f=c,c=s,s+=n<<(l=a[h])|n>>>32-l;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+c|0,e.h3=e.h3+f|0,p-=64}}},function(e,t,r){var n=r(4);r(6),e.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(e,t){var r=e;if(\"string\"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error(\"Unsupported algorithm: \"+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})},n.cipher.createDecipher=function(e,t){var r=e;if(\"string\"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error(\"Unsupported algorithm: \"+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})},n.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),n.cipher.algorithms[e]=t},n.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[e]:null};var i=n.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};i.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=e.output||n.util.createBuffer(),this.mode.start(t)},i.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(e){!e||\"ECB\"!==this.mode.name&&\"CBC\"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}},function(e,t,r){\"use strict\";e.exports=\"enum KeyType {\\n  RSA = 0;\\n  Ed25519 = 1;\\n  Secp256k1 = 2;\\n}\\nmessage PublicKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\\nmessage PrivateKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\"},function(e,t,r){\"use strict\";const n=r(5),i=r(40)(r(742)),s=r(68),o=r(186);(t=e.exports).serialize=function(e,t){let r;\"DAGNode\"!==e.constructor.name&&e.links&&(e.links=e.links.map(e=>s.util.isDagLink(e)?e:s.util.createDagLinkFromB58EncodedHash(e)));try{r=i.PBNode.encode(function(e){const t={};return e.data&&e.data.length>0?t.Data=e.data:t.Data=null,e.links&&e.links.length>0?t.Links=e.links.map(e=>({Hash:e.multihash,Name:e.name,Tsize:e.size})):t.Links=null,t}(e))}catch(e){return t(e)}t(null,r)},t.deserialize=function(e,t){const r=i.PBNode.decode(e),n=r.Links.map(e=>new s(e.Name,e.Tsize,e.Hash)),a=null==r.Data?Buffer.alloc(0):Buffer.from(r.Data);o.create(a,n,t)},t.cid=function(e,t){if(e.multihash)return t(null,new n(e.multihash));t(new Error(\"not valid dagPB node\"))}},function(e,t,r){\"use strict\";const n=r(23),i=r(10);(t=e.exports=class{constructor(e,t,r,s){i(r,\"DAGNode needs its serialized format\"),i(s,\"DAGNode needs its multihash\"),\"string\"==typeof s&&(s=n.fromB58String(s)),this._data=e||Buffer.alloc(0),this._links=t||[],this._serialized=r,this._multihash=s,this._size=this.links.reduce((e,t)=>e+t.size,this.serialized.length),this._json={data:this.data,links:this.links.map(e=>e.toJSON()),multihash:n.toB58String(this.multihash),size:this.size}}toJSON(){return this._json}toString(){return`DAGNode <${n.toB58String(this.multihash)} - data: \"${this.data.toString()}\", links: ${this.links.length}, size: ${this.size}>`}get data(){return this._data}set data(e){throw new Error(\"Can't set property: 'data' is immutable\")}get links(){return this._links}set links(e){throw new Error(\"Can't set property: 'links' is immutable\")}get serialized(){return this._serialized}set serialized(e){throw new Error(\"Can't set property: 'serialized' is immutable\")}get size(){return this._size}set size(e){throw new Error(\"Can't set property: 'size' is immutable\")}get multihash(){return this._multihash}set multihash(e){throw new Error(\"Can't set property: 'multihash' is immutable\")}}).create=r(131),t.clone=r(739),t.addLink=r(738),t.rmLink=r(737)},function(e,t,r){\"use strict\";const n=r(224),i=r(1),s=r(213),o=r(2),a=r(30),u=r(18),c=r(384),f=r(383),l=r(25),h=r(9).utils.asyncFilter,p=r(9).utils.asyncSort,d=r(9).Key;e.exports=class{constructor(e,t){this.path=l.resolve(e),this.opts=Object.assign({},{createIfMissing:!0,errorIfExists:!1,extension:\".data\"},t),this.opts.createIfMissing?this._openOrCreate():this._open()}open(e){this._openOrCreate(),o(e)}_open(){if(!n.existsSync(this.path))throw new Error(`Datastore directory: ${this.path} does not exist`);if(this.opts.errorIfExists)throw new Error(`Datastore directory: ${this.path} already exists`)}_create(){c.sync(this.path,{fs:n})}_openOrCreate(){try{this._open()}catch(e){if(e.message.match(\"does not exist\"))return void this._create();throw e}}_encode(e){const t=e.parent().toString(),r=l.join(this.path,t),n=e.toString().slice(t.length);return{dir:r,file:l.join(r,n+this.opts.extension)}}_decode(e){const t=this.opts.extension;if(l.extname(e)!==t)throw new Error(`Invalid extension: ${l.extname(e)}`);const r=e.slice(this.path.length,-t.length).split(l.sep).join(\"/\");return new d(r)}putRaw(e,t,r){const i=this._encode(e),s=i.file.slice(0,-this.opts.extension.length);a([e=>c(i.dir,{fs:n},e),e=>f(s,t,e)],e=>r(e))}put(e,t,r){const i=this._encode(e);a([e=>c(i.dir,{fs:n},e),e=>f(i.file,t,e)],e=>r(e))}getRaw(e,t){let r=this._encode(e).file;r=r.slice(0,-this.opts.extension.length),n.readFile(r,t)}get(e,t){const r=this._encode(e);n.readFile(r.file,t)}has(e,t){const r=this._encode(e);n.access(r.file,e=>{t(null,!e)})}delete(e,t){const r=this._encode(e);n.unlink(r.file,t)}batch(){const e=[],t=[];return{put(t,r){e.push({key:t,value:r})},delete(e){t.push(e)},commit:r=>{a([t=>u(e,(e,t)=>{this.put(e.key,e.value,t)},t),e=>u(t,(e,t)=>{this.delete(e,t)},e)],e=>r(e))}}}query(e){let t=e.prefix||\"**\",r=l.join(this.path,t,\"*\"+this.opts.extension).split(l.sep).join(\"/\"),o=[i.values(s.sync(r))];if(e.keysOnly?o.push(i.map(e=>({key:this._decode(e)}))):o.push(i.asyncMap((e,t)=>{n.readFile(e,(r,n)=>{if(r)return t(r);t(null,{key:this._decode(e),value:n})})})),null!=e.filters&&(o=o.concat(e.filters.map(h))),null!=e.orders&&(o=o.concat(e.orders.map(p))),null!=e.offset){let t=0;o.push(i.filter(()=>t++>=e.offset))}return null!=e.limit&&o.push(i.take(e.limit)),i.apply(null,o)}close(e){o(e)}}},function(e,t,r){\"use strict\";const n=r(3),i=r(30),s=r(54),o=r(18),a=r(10),u=r(25),c=r(0),f=r(149),l=r(1),h=r(753),p=r(752),d=r(751),y=r(750),m=r(749),g=r(748),v=c(\"repo\"),b=Number.MAX_SAFE_INTEGER,w={memory:r(746),fs:r(745)},_=r(744).repoVersion;function k(e,t){l(e.query({}),l.reduce((e,t)=>e.plus(t.value.byteLength).plus(t.key._buf.byteLength),new f(0),t))}function S(e,t){return r=>{t(r&&!e(r)?r:null)}}function E(e){return S(e=>\"Already open\"===e.message,e)}e.exports=class{constructor(e,t){a.equal(typeof e,\"string\",\"missing repoPath\"),this.options=function(e){const t=Object.assign({},g,e);return t.storageBackends=Object.assign({},g.storageBackends,t.storageBackends),t.storageBackendOptions=Object.assign({},g.storageBackendOptions,t.storageBackendOptions),t}(t),this.closed=!0,this.path=e,this._locker=w[this.options.lock],a(this._locker,\"Unknown lock type: \"+this.options.lock),this.root=h.create(\"root\",this.path,this.options),this.version=p(this.root),this.config=d(this.root),this.apiAddr=y(this.root)}init(e,t){v(\"initializing at: %s\",this.path),i([e=>this.root.open(E(e)),t=>this.config.set(e,t),e=>this.version.set(_,e)],t)}open(e){this.closed?(v(\"opening at: %s\",this.path),n([e=>this.root.open(E(e)),e=>this._isInitialized(e),e=>this._locker.lock(this.path,e),(e,t)=>{v(\"aquired repo.lock\"),this.lockfile=e,t()},e=>{v(\"creating datastore\"),this.datastore=h.create(\"datastore\",u.join(this.path,\"datastore\"),this.options),v(\"creating blocks\");const t=h.create(\"blocks\",u.join(this.path,\"blocks\"),this.options);m(t,this.options.storageBackendOptions.blocks,e)},(e,t)=>{this.blocks=e,t()},e=>{v(\"creating keystore\"),this.keys=h.create(\"keys\",u.join(this.path,\"keys\"),this.options),e()},e=>{this.closed=!1,v(\"all opened\"),e()}],t=>{t&&this.lockfile?this.lockfile.close(r=>{r?v(\"error removing lock\",r):this.lockfile=null,e(t)}):e(t)})):setImmediate(()=>e(new Error(\"repo is already open\")))}_isInitialized(e){v(\"init check\"),s({config:e=>this.config.exists(e),version:e=>this.version.check(_,e)},(t,r)=>(v(\"init\",t,r),t?e(t):r.config?void e():e(new Error(\"repo is not initialized yet\"))))}close(e){if(this.closed)return e(new Error(\"repo is already closed\"));var t;v(\"closing at: %s\",this.path),i([e=>this.apiAddr.delete((e=e,S(e=>e.message.startsWith(\"ENOENT\"),e))),e=>{o([this.blocks,this.keys,this.datastore],(e,t)=>e.close(t),e)},e=>{v(\"unlocking\"),this.closed=!0,this.lockfile.close(e)},e=>{this.lockfile=null,e()}],t=>e(t))}exists(e){this.version.exists(e)}stat(e,t){\"function\"==typeof e&&(t=e,e={}),e=Object.assign({},{human:!1},e),s({storageMax:e=>this.config.get(\"Datastore.StorageMax\",(t,r)=>{e(null,new f(t?b:r))}),version:e=>this.version.get(e),blocks:e=>this.blocks.query({},(t,r)=>{const n=new f((r=r||[]).length);let i=new f(0);r.forEach(e=>{i=i.plus(e.value.byteLength).plus(e.key._buf.byteLength)}),e(t,{count:n,size:i})}),datastore:e=>k(this.datastore,e),keys:e=>k(this.keys,e)},(r,n)=>{if(r)return t(r);let i=n.blocks.size.plus(n.datastore).plus(n.keys);e.human&&(i=i.div(1048576)),t(null,{repoPath:this.path,storageMax:n.storageMax,version:n.version,numObjects:n.blocks.count,repoSize:i})})}},e.exports.repoVersion=_},function(e,t,r){\"use strict\";e.exports={_cache:{},_count:0,_eraseIndex:0,_usedList:{},_usedIndex:{},_CACHE_SIZE:5e3,get:function(e,t,r){var n=e+\"/\"+t+\"/\"+(r=!!r);if(this._cache[n])return this._cacheHit(n),this._cache[n]},set:function(e,t,r,n){var i=e+\"/\"+t+\"/\"+(r=!!r);this._cache[i]=n,this._cacheHit(i)},_cacheHit:function(e){this._usedIndex[e]&&delete this._usedList[this._usedIndex[e]],this._usedList[this._count]=e,this._usedIndex[e]=this._count,this._count++,this._cacheRemove()},_cacheRemove:function(){for(;this._eraseIndex<this._count-this._CACHE_SIZE;){if(this._usedList[this._eraseIndex]){var e=this._usedList[this._eraseIndex];delete this._usedIndex[e],delete this._cache[e]}delete this._usedList[this._eraseIndex],this._eraseIndex++}}}},function(e,t,r){\"use strict\";var n=r(7),i=r(45),s=r(12),o={BTC:[1e8,8],mBTC:[1e5,5],uBTC:[100,2],bits:[100,2],satoshis:[1,0]};function a(e,t){if(!(this instanceof a))return new a(e,t);if(n.isNumber(t)){if(t<=0)throw new i.Unit.InvalidRate(t);e/=t,t=a.BTC}this._value=this._from(e,t);var r=this;Object.keys(o).forEach(function(e){Object.defineProperty(r,e,{get:function(){return r.to(e)},enumerable:!0})})}Object.keys(o).forEach(function(e){a[e]=e}),a.fromObject=function(e){return s.checkArgument(n.isObject(e),\"Argument is expected to be an object\"),new a(e.amount,e.code)},a.fromBTC=function(e){return new a(e,a.BTC)},a.fromMillis=a.fromMilis=function(e){return new a(e,a.mBTC)},a.fromMicros=a.fromBits=function(e){return new a(e,a.bits)},a.fromSatoshis=function(e){return new a(e,a.satoshis)},a.fromFiat=function(e,t){return new a(e,t)},a.prototype._from=function(e,t){if(!o[t])throw new i.Unit.UnknownCode(t);return parseInt((e*o[t][0]).toFixed())},a.prototype.to=function(e){if(n.isNumber(e)){if(e<=0)throw new i.Unit.InvalidRate(e);return parseFloat((this.BTC*e).toFixed(2))}if(!o[e])throw new i.Unit.UnknownCode(e);var t=this._value/o[e][0];return parseFloat(t.toFixed(o[e][1]))},a.prototype.toBTC=function(){return this.to(a.BTC)},a.prototype.toMillis=a.prototype.toMilis=function(){return this.to(a.mBTC)},a.prototype.toMicros=a.prototype.toBits=function(){return this.to(a.bits)},a.prototype.toSatoshis=function(){return this.to(a.satoshis)},a.prototype.atRate=function(e){return this.to(e)},a.prototype.toString=function(){return this.satoshis+\" satoshis\"},a.prototype.toObject=a.prototype.toJSON=function(){return{amount:this.BTC,code:a.BTC}},a.prototype.inspect=function(){return\"<Unit: \"+this.toString()+\">\"},e.exports=a},function(e,t,r){e.exports=r(99),e.exports.PublicKey=r(765),e.exports.PublicKeyHash=r(764),e.exports.MultiSig=r(763),e.exports.MultiSigScriptHash=r(762)},function(e,t,r){\"use strict\";var n=r(7),i=r(12),s=r(38),o=Buffer.compare||r(766),a=r(45),u=r(13),c=r(19),f=r(63),l=r(41),h=r(34),p=r(44),d=r(62),y=r(69),m=r(332),g=r(191),v=g.PublicKeyHash,b=g.PublicKey,w=g.MultiSigScriptHash,_=g.MultiSig,k=r(61),S=r(43),E=r(137),x=r(28),A=r(761);function B(e){if(!(this instanceof B))return new B(e);if(this.inputs=[],this.outputs=[],this.joinSplits=[],this._inputAmount=void 0,this._outputAmount=void 0,e){if(e instanceof B)return B.shallowCopy(e);if(c.isHexa(e))this.fromString(e);else if(u.isBuffer(e))this.fromBuffer(e);else{if(!n.isObject(e))throw new a.InvalidArgument(\"Must provide an object or string to deserialize a transaction\");this.fromObject(e)}}else this._newTransaction()}B.DUST_AMOUNT=546,B.FEE_SECURITY_MARGIN=15,B.MAX_MONEY=21e14,B.NLOCKTIME_BLOCKHEIGHT_LIMIT=5e8,B.NLOCKTIME_MAX_VALUE=4294967295,B.FEE_PER_KB=1e4,B.CHANGE_OUTPUT_MAX_SIZE=62,B.MAXIMUM_EXTRA_SIZE=26,B.shallowCopy=function(e){return new B(e.toBuffer())};var C={configurable:!1,enumerable:!0,get:function(){return new f(this._getHash()).readReverse().toString(\"hex\")}};Object.defineProperty(B.prototype,\"hash\",C),Object.defineProperty(B.prototype,\"id\",C);var I={configurable:!1,enumerable:!0,get:function(){return this._getInputAmount()}};Object.defineProperty(B.prototype,\"inputAmount\",I),I.get=function(){return this._getOutputAmount()},Object.defineProperty(B.prototype,\"outputAmount\",I),B.prototype._getHash=function(){return h.sha256sha256(this.toBuffer())},B.prototype.serialize=function(e){return!0===e||e&&e.disableAll?this.uncheckedSerialize():this.checkedSerialize(e)},B.prototype.uncheckedSerialize=B.prototype.toString=function(){return this.toBuffer().toString(\"hex\")},B.prototype.checkedSerialize=function(e){var t=this.getSerializationError(e);if(t)throw t.message+=\" Use Transaction#uncheckedSerialize if you want to skip security checks. See http://bitcore.io/guide/transaction.html#Serialization for more info.\",t;return this.uncheckedSerialize()},B.prototype.invalidSatoshis=function(){for(var e=!1,t=0;t<this.outputs.length;t++)this.outputs[t].invalidSatoshis()&&(e=!0);return e},B.prototype.getSerializationError=function(e){if(e=e||{},this.invalidSatoshis())return new a.Transaction.InvalidSatoshis;var t,r=this._getUnspentValue();return r<0?e.disableMoreOutputThanInput||(t=new a.Transaction.InvalidOutputAmountSum):t=this._hasFeeError(e,r),t||this._hasDustOutputs(e)||this._isMissingSignatures(e)},B.prototype._hasFeeError=function(e,t){if(!n.isUndefined(this._fee)&&this._fee!==t)return new a.Transaction.FeeError.Different(\"Unspent value is \"+t+\" but specified fee is \"+this._fee);if(!e.disableLargeFees){var r=Math.floor(B.FEE_SECURITY_MARGIN*this._estimateFee());if(t>r)return this._missingChange()?new a.Transaction.ChangeAddressMissing(\"Fee is too large and no change address was provided\"):new a.Transaction.FeeError.TooLarge(\"expected less than \"+r+\" but got \"+t)}if(!e.disableSmallFees){var i=Math.ceil(this._estimateFee()/B.FEE_SECURITY_MARGIN);if(t<i)return new a.Transaction.FeeError.TooSmall(\"expected more than \"+i+\" but got \"+t)}},B.prototype._missingChange=function(){return!this._changeScript},B.prototype._hasDustOutputs=function(e){var t,r;if(!e.disableDustOutputs)for(t in this.outputs)if((r=this.outputs[t]).satoshis<B.DUST_AMOUNT&&!r.script.isDataOut())return new a.Transaction.DustOutputs},B.prototype._isMissingSignatures=function(e){if(!e.disableIsFullySigned)return this.isFullySigned()?void 0:new a.Transaction.MissingSignatures},B.prototype.inspect=function(){return\"<Transaction: \"+this.uncheckedSerialize()+\">\"},B.prototype.toBuffer=function(){var e=new l;return this.toBufferWriter(e).toBuffer()},B.prototype.toBufferWriter=function(e){return e.writeUInt32LE(this.version),e.writeVarintNum(this.inputs.length),n.each(this.inputs,function(t){t.toBufferWriter(e)}),e.writeVarintNum(this.outputs.length),n.each(this.outputs,function(t){t.toBufferWriter(e)}),e.writeUInt32LE(this.nLockTime),this.version>=2&&(e.writeVarintNum(this.joinSplits.length),n.each(this.joinSplits,function(t){t.toBufferWriter(e)}),this.joinSplits.length>0&&(e.write(this.joinSplitPubKey),e.write(this.joinSplitSig))),e},B.prototype.fromBuffer=function(e){var t=new f(e);return this.fromBufferReader(t)},B.prototype.fromBufferReader=function(e){var t,r,n,s;for(i.checkArgument(!e.finished(),\"No transaction data received\"),this.version=e.readUInt32LE(),r=e.readVarintNum(),t=0;t<r;t++){var o=g.fromBufferReader(e);this.inputs.push(o)}for(n=e.readVarintNum(),t=0;t<n;t++)this.outputs.push(k.fromBufferReader(e));if(this.nLockTime=e.readUInt32LE(),this.version>=2){for(s=e.readVarintNum(),t=0;t<s;t++)this.joinSplits.push(A.fromBufferReader(e));s>0&&(this.joinSplitPubKey=e.read(32),this.joinSplitSig=e.read(64))}return this},B.prototype.toObject=B.prototype.toJSON=function(){var e=[];this.inputs.forEach(function(t){e.push(t.toObject())});var t=[];this.outputs.forEach(function(e){t.push(e.toObject())});var r={hash:this.hash,version:this.version,inputs:e,outputs:t,nLockTime:this.nLockTime};if(this.version>=2){var i=[];this.joinSplits.forEach(function(e){i.push(e.toObject())}),r.joinSplits=i,this.joinSplits.length>0&&(r.joinSplitPubKey=u.reverse(this.joinSplitPubKey).toString(\"hex\"),r.joinSplitSig=this.joinSplitSig.toString(\"hex\"))}return this._changeScript&&(r.changeScript=this._changeScript.toString()),n.isUndefined(this._changeIndex)||(r.changeIndex=this._changeIndex),n.isUndefined(this._fee)||(r.fee=this._fee),r},B.prototype.fromObject=function(e){i.checkArgument(n.isObject(e)||e instanceof B);var t,r=this;return t=e instanceof B?t.toObject():e,n.each(t.inputs,function(e){if(e.output&&e.output.script){var t,n=new S(e.output.script);if(n.isPublicKeyHashOut())t=new g.PublicKeyHash(e);else if(n.isScriptHashOut()&&e.publicKeys&&e.threshold)t=new g.MultiSigScriptHash(e,e.publicKeys,e.threshold,e.signatures);else{if(!n.isPublicKeyOut())throw new a.Transaction.Input.UnsupportedScript(e.output.script);t=new g.PublicKey(e)}r.addInput(t)}else r.uncheckedAddInput(new g(e))}),n.each(t.outputs,function(e){r.addOutput(new k(e))}),t.changeIndex&&(this._changeIndex=t.changeIndex),t.changeScript&&(this._changeScript=new S(t.changeScript)),t.fee&&(this._fee=t.fee),this.nLockTime=t.nLockTime,this.version=t.version,this.version>=2&&(n.each(t.joinSplits,function(e){r.joinSplits.push(new A(e))}),r.joinSplits.length>0&&(r.joinSplitPubKey=u.reverse(new Buffer(t.joinSplitPubKey,\"hex\")),r.joinSplitSig=new Buffer(t.joinSplitSig,\"hex\"))),this._checkConsistency(e),this},B.prototype._checkConsistency=function(e){n.isUndefined(this._changeIndex)||(i.checkState(this._changeScript),i.checkState(this.outputs[this._changeIndex]),i.checkState(this.outputs[this._changeIndex].script.toString()===this._changeScript.toString())),e&&e.hash&&i.checkState(e.hash===this.hash,\"Hash in object does not match transaction hash\")},B.prototype.lockUntilDate=function(e){if(i.checkArgument(e),n.isNumber(e)&&e<B.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new a.Transaction.LockTimeTooEarly;n.isDate(e)&&(e=e.getTime()/1e3);for(var t=0;t<this.inputs.length;t++)this.inputs[t].sequenceNumber===g.DEFAULT_SEQNUMBER&&(this.inputs[t].sequenceNumber=g.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=e,this},B.prototype.lockUntilBlockHeight=function(e){if(i.checkArgument(n.isNumber(e)),e>=B.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new a.Transaction.BlockHeightTooHigh;if(e<0)throw new a.Transaction.NLockTimeOutOfRange;for(var t=0;t<this.inputs.length;t++)this.inputs[t].sequenceNumber===g.DEFAULT_SEQNUMBER&&(this.inputs[t].sequenceNumber=g.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=e,this},B.prototype.getLockTime=function(){return this.nLockTime?this.nLockTime<B.NLOCKTIME_BLOCKHEIGHT_LIMIT?this.nLockTime:new Date(1e3*this.nLockTime):null},B.prototype.fromString=function(e){this.fromBuffer(new s.Buffer(e,\"hex\"))},B.prototype._newTransaction=function(){this.version=1,this.nLockTime=0},B.prototype.from=function(e,t,r){if(n.isArray(e)){var i=this;return n.each(e,function(e){i.from(e,t,r)}),this}return n.any(this.inputs,function(t){return t.prevTxId.toString(\"hex\")===e.txId&&t.outputIndex===e.outputIndex})?this:(t&&r?this._fromMultisigUtxo(e,t,r):this._fromNonP2SH(e),this)},B.prototype._fromNonP2SH=function(e){var t;t=(e=new m(e)).script.isPublicKeyHashOut()?v:e.script.isPublicKeyOut()?b:g,this.addInput(new t({output:new k({script:e.script,satoshis:e.satoshis}),prevTxId:e.txId,outputIndex:e.outputIndex,script:S.empty()}))},B.prototype._fromMultisigUtxo=function(e,t,r){var n;if(i.checkArgument(r<=t.length,\"Number of required signatures must be greater than the number of public keys\"),(e=new m(e)).script.isMultisigOut())n=_;else{if(!e.script.isScriptHashOut())throw new Error(\"@TODO\");n=w}this.addInput(new n({output:new k({script:e.script,satoshis:e.satoshis}),prevTxId:e.txId,outputIndex:e.outputIndex,script:S.empty()},t,r))},B.prototype.addInput=function(e,t,r){if(i.checkArgumentType(e,g,\"input\"),!e.output&&(n.isUndefined(t)||n.isUndefined(r)))throw new a.Transaction.NeedMoreInfo(\"Need information about the UTXO script and satoshis\");return e.output||!t||n.isUndefined(r)||(t=t instanceof S?t:new S(t),i.checkArgumentType(r,\"number\",\"satoshis\"),e.output=new k({script:t,satoshis:r})),this.uncheckedAddInput(e)},B.prototype.uncheckedAddInput=function(e){return i.checkArgumentType(e,g,\"input\"),this.inputs.push(e),this._inputAmount=void 0,this._updateChangeOutput(),this},B.prototype.hasAllUtxoInfo=function(){return n.all(this.inputs.map(function(e){return!!e.output}))},B.prototype.fee=function(e){return i.checkArgument(n.isNumber(e),\"amount must be a number\"),this._fee=e,this._updateChangeOutput(),this},B.prototype.feePerKb=function(e){return i.checkArgument(n.isNumber(e),\"amount must be a number\"),this._feePerKb=e,this._updateChangeOutput(),this},B.prototype.change=function(e){return i.checkArgument(e,\"address is required\"),this._changeScript=S.fromAddress(e),this._updateChangeOutput(),this},B.prototype.getChangeOutput=function(){return n.isUndefined(this._changeIndex)?null:this.outputs[this._changeIndex]},B.prototype.to=function(e,t){if(n.isArray(e)){var r=this;return n.each(e,function(e){r.to(e.address,e.satoshis)}),this}return i.checkArgument(c.isNaturalNumber(t),\"Amount is expected to be a positive integer\"),this.addOutput(new k({script:S(new y(e)),satoshis:t})),this},B.prototype.addData=function(e){return this.addOutput(new k({script:S.buildDataOut(e),satoshis:0})),this},B.prototype.addOutput=function(e){return i.checkArgumentType(e,k,\"output\"),this._addOutput(e),this._updateChangeOutput(),this},B.prototype.clearOutputs=function(){return this.outputs=[],this._clearSignatures(),this._outputAmount=void 0,this._changeIndex=void 0,this._updateChangeOutput(),this},B.prototype._addOutput=function(e){this.outputs.push(e),this._outputAmount=void 0},B.prototype._getOutputAmount=function(){if(n.isUndefined(this._outputAmount)){var e=this;this._outputAmount=0,n.each(this.outputs,function(t){e._outputAmount+=t.satoshis})}return this._outputAmount},B.prototype._getInputAmount=function(){if(n.isUndefined(this._inputAmount)){var e=this;this._inputAmount=0,n.each(this.inputs,function(t){if(n.isUndefined(t.output))throw new a.Transaction.Input.MissingPreviousOutput;e._inputAmount+=t.output.satoshis})}return this._inputAmount},B.prototype._updateChangeOutput=function(){if(this._changeScript){this._clearSignatures(),n.isUndefined(this._changeIndex)||this._removeOutput(this._changeIndex);var e=this._getUnspentValue()-this.getFee();e>0?(this._changeIndex=this.outputs.length,this._addOutput(new k({script:this._changeScript,satoshis:e}))):this._changeIndex=void 0}},B.prototype.getFee=function(){return this.isCoinbase()?0:n.isUndefined(this._fee)?this._changeScript?this._estimateFee():this._getUnspentValue():this._fee},B.prototype._estimateFee=function(){var e=this._estimateSize(),t=this._getUnspentValue();return B._estimateFee(e,t,this._feePerKb)},B.prototype._getUnspentValue=function(){return this._getInputAmount()-this._getOutputAmount()},B.prototype._clearSignatures=function(){n.each(this.inputs,function(e){e.clearSignatures()})},B._estimateFee=function(e,t,r){return t>Math.ceil(e/1e3)*(r||B.FEE_PER_KB)&&(e+=B.CHANGE_OUTPUT_MAX_SIZE),Math.ceil(e/1e3)*(r||B.FEE_PER_KB)},B.prototype._estimateSize=function(){var e=B.MAXIMUM_EXTRA_SIZE;return n.each(this.inputs,function(t){e+=t._estimateSize()}),n.each(this.outputs,function(t){e+=t.script.toBuffer().length+9}),e},B.prototype._removeOutput=function(e){var t=this.outputs[e];this.outputs=n.without(this.outputs,t),this._outputAmount=void 0},B.prototype.removeOutput=function(e){this._removeOutput(e),this._updateChangeOutput()},B.prototype.sort=function(){return this.sortInputs(function(e){var t=Array.prototype.concat.apply([],e);return t.sort(function(e,t){return o(e.prevTxId,t.prevTxId)||e.outputIndex-t.outputIndex}),t}),this.sortOutputs(function(e){var t=Array.prototype.concat.apply([],e);return t.sort(function(e,t){return e.satoshis-t.satoshis||o(e.script.toBuffer(),t.script.toBuffer())}),t}),this},B.prototype.shuffleOutputs=function(){return this.sortOutputs(n.shuffle)},B.prototype.sortOutputs=function(e){var t=e(this.outputs);return this._newOutputOrder(t)},B.prototype.sortInputs=function(e){return this.inputs=e(this.inputs),this._clearSignatures(),this},B.prototype._newOutputOrder=function(e){if(this.outputs.length!==e.length||0!==n.difference(this.outputs,e).length)throw new a.Transaction.InvalidSorting;if(!n.isUndefined(this._changeIndex)){var t=this.outputs[this._changeIndex];this._changeIndex=n.findIndex(e,t)}return this.outputs=e,this},B.prototype.removeInput=function(e,t){var r;if((r=!t&&n.isNumber(e)?e:n.findIndex(this.inputs,function(r){return r.prevTxId.toString(\"hex\")===e&&r.outputIndex===t}))<0||r>=this.inputs.length)throw new a.Transaction.InvalidIndex(r,this.inputs.length);var i=this.inputs[r];this.inputs=n.without(this.inputs,i),this._inputAmount=void 0,this._updateChangeOutput()},B.prototype.sign=function(e,t){i.checkState(this.hasAllUtxoInfo());var r=this;return n.isArray(e)?(n.each(e,function(e){r.sign(e,t)}),this):(n.each(this.getSignatures(e,t),function(e){r.applySignature(e)}),this)},B.prototype.getSignatures=function(e,t){e=new E(e),t=t||p.SIGHASH_ALL;var r=this,i=[],s=h.sha256ripemd160(e.publicKey.toBuffer());return n.each(this.inputs,function(o,a){n.each(o.getSignatures(r,e,a,t,s),function(e){i.push(e)})}),i},B.prototype.applySignature=function(e){return this.inputs[e.inputIndex].addSignature(this,e),this},B.prototype.isFullySigned=function(){return n.each(this.inputs,function(e){if(e.isFullySigned===g.prototype.isFullySigned)throw new a.Transaction.UnableToVerifySignature(\"Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction\")}),n.all(n.map(this.inputs,function(e){return e.isFullySigned()}))},B.prototype.isValidSignature=function(e){if(this.inputs[e.inputIndex].isValidSignature===g.prototype.isValidSignature)throw new a.Transaction.UnableToVerifySignature(\"Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction\");return this.inputs[e.inputIndex].isValidSignature(this,e)},B.prototype.verifySignature=function(e,t,r,n){return d.verify(this,e,t,r,n)},B.prototype.verify=function(){if(0===this.inputs.length)return\"transaction txins empty\";if(0===this.outputs.length)return\"transaction txouts empty\";for(var e=new x(0),t=0;t<this.outputs.length;t++){var r=this.outputs[t];if(r.invalidSatoshis())return\"transaction txout \"+t+\" satoshis is invalid\";if(r._satoshisBN.gt(new x(B.MAX_MONEY,10)))return\"transaction txout \"+t+\" greater than MAX_MONEY\";if((e=e.add(r._satoshisBN)).gt(new x(B.MAX_MONEY)))return\"transaction txout \"+t+\" total output greater than MAX_MONEY\"}if(this.toBuffer().length>1e6)return\"transaction over the maximum block size\";var i={};for(t=0;t<this.inputs.length;t++){var s=this.inputs[t],o=s.prevTxId+\":\"+s.outputIndex;if(!n.isUndefined(i[o]))return\"transaction input \"+t+\" duplicate input\";i[o]=!0}if(this.isCoinbase()){var a=this.inputs[0]._scriptBuffer;if(a.length<2||a.length>100)return\"coinbase transaction script size invalid\"}else for(t=0;t<this.inputs.length;t++)if(this.inputs[t].isNull())return\"transaction input \"+t+\" has null input\";return!0},B.prototype.isCoinbase=function(){return 1===this.inputs.length&&this.inputs[0].isNull()},B.prototype.isRBF=function(){for(var e=0;e<this.inputs.length;e++){if(this.inputs[e].sequenceNumber<g.MAXINT-1)return!0}return!1},B.prototype.enableRBF=function(){for(var e=0;e<this.inputs.length;e++){var t=this.inputs[e];t.sequenceNumber>=g.MAXINT-1&&(t.sequenceNumber=g.DEFAULT_RBF_SEQNUMBER)}return this},e.exports=B},function(e,t,r){\"use strict\";var n=r(7),i=r(12),s=r(13),o=r(19);function a(e){if(!(this instanceof a))return new a(e);var t;if(n.isNumber(e))t=e;else{if(!n.isString(e))throw new TypeError('Unrecognized num type: \"'+typeof e+'\" for Opcode');t=a.map[e]}return o.defineImmutable(this,{num:t}),this}for(var u in a.fromBuffer=function(e){return i.checkArgument(s.isBuffer(e)),new a(Number(\"0x\"+e.toString(\"hex\")))},a.fromNumber=function(e){return i.checkArgument(n.isNumber(e)),new a(e)},a.fromString=function(e){i.checkArgument(n.isString(e));var t=a.map[e];if(void 0===t)throw new TypeError(\"Invalid opcodestr\");return new a(t)},a.prototype.toHex=function(){return this.num.toString(16)},a.prototype.toBuffer=function(){return new Buffer(this.toHex(),\"hex\")},a.prototype.toNumber=function(){return this.num},a.prototype.toString=function(){var e=a.reverseMap[this.num];if(void 0===e)throw new Error(\"Opcode does not have a string representation\");return e},a.smallInt=function(e){return i.checkArgument(n.isNumber(e),\"Invalid Argument: n should be number\"),i.checkArgument(e>=0&&e<=16,\"Invalid Argument: n must be between 0 and 16\"),0===e?a(\"OP_0\"):new a(a.map.OP_1+e-1)},a.map={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255},a.reverseMap=[],a.map)a.reverseMap[a.map[u]]=u;n.extend(a,a.map),a.isSmallIntOp=function(e){return e instanceof a&&(e=e.toNumber()),e===a.map.OP_0||e>=a.map.OP_1&&e<=a.map.OP_16},a.prototype.inspect=function(){return\"<Opcode: \"+this.toString()+\", hex: \"+this.toHex()+\", decimal: \"+this.num+\">\"},e.exports=a},function(e,t,r){\"use strict\";const n=r(18),i=r(3),s=r(195),o=r(340),a=r(776),u=r(102),c=r(101);r(775),r(344),r(345),r(343);function f(e){return e.map(e=>e.toString(16)).join(\"/\")}e.exports=function(e,t){const r=c(e,a,function(r,s,o){!function t(r,i,s){let o=[];\"leaf\"===r.type&&o.push({path:f(r.getKey()),value:r.getValue()});n(r.getChildren(),(r,n)=>{const s=f(r[0]),c=r[1];if(a.isRawNode(c)){const e=new a(c);o.push({path:s,value:e}),t(e,i,(e,t)=>{if(e)return n(e);t.forEach(e=>{e.path=s+\"/\"+e.path}),o=o.concat(t),n()})}else{let t={\"/\":u(e,c).toBaseEncodedString()};o.push({path:s,value:t}),n()}},e=>{if(e)return s(e);s(null,o)})}(r,s,(e,r)=>{if(e)return o(e);if(!t)return o(null,r);let a=r.slice();const u=r.filter(e=>Buffer.isBuffer(e.value));n(u,(e,r)=>i([r=>t.util.deserialize(e.value,r),(e,r)=>t.resolver._mapFromEthObject(e,s,r)],(t,n)=>{if(t)return r(t);n.forEach(t=>{a.push({path:e.path+\"/\"+t.path,value:t.value})}),r()}),e=>{if(e)return o(e);o(null,a)})})});return r.util.deserialize=s(e=>{const t=o.decode(e);return new a(t)}),r}},function(e,t){e.exports=require(\"async/asyncify\")},function(e,t,r){var n=r(350),i=r(349),s=r(785);e.exports={Curve:i,Point:n,getCurveByName:s}},function(e,t,r){var n=r(360),i=r(15),s=r(29),o=r(71);function a(e,t){i(s.tuple(s.BigInt,s.BigInt),arguments),this.r=e,this.s=t}a.parseCompact=function(e){i(s.BufferN(65),e);var t=e.readUInt8(0)-27;if(t!==(7&t))throw new Error(\"Invalid signature parameter\");return{compressed:!!(4&t),i:3&t,signature:a.fromRSBuffer(e.slice(1))}},a.fromRSBuffer=function(e){return i(s.BufferN(64),e),new a(o.fromBuffer(e.slice(0,32)),o.fromBuffer(e.slice(32,64)))},a.fromDER=function(e){var t=n.decode(e);return new a(o.fromDERInteger(t.r),o.fromDERInteger(t.s))},a.parseScriptSignature=function(e){var t=e.readUInt8(e.length-1),r=-129&t;if(r<=0||r>=4)throw new Error(\"Invalid hashType \"+t);return{signature:a.fromDER(e.slice(0,-1)),hashType:t}},a.prototype.toCompact=function(e,t){t&&(e+=4),e+=27;var r=Buffer.alloc(65);return r.writeUInt8(e,0),this.toRSBuffer(r,1),r},a.prototype.toDER=function(){var e=Buffer.from(this.r.toDERInteger()),t=Buffer.from(this.s.toDERInteger());return n.encode(e,t)},a.prototype.toRSBuffer=function(e,t){return e=e||Buffer.alloc(64),this.r.toBuffer(32).copy(e,t),this.s.toBuffer(32).copy(e,t+32),e},a.prototype.toScriptSignature=function(e){var t=-129&e;if(t<=0||t>=4)throw new Error(\"Invalid hashType \"+e);var r=Buffer.alloc(1);return r.writeUInt8(e,0),Buffer.concat([this.toDER(),r])},e.exports=a},function(e,t){e.exports=require(\"bs58check\")},function(e,t,r){var n=r(8).Buffer,i=r(789),s=r(198),o=r(20),a=r(206),u=r(103),c=r(15),f=r(29);function l(e){var t=s.decode(e);if(t.length<21)throw new TypeError(e+\" is too short\");if(t.length>21)throw new TypeError(e+\" is too long\");return{version:t.readUInt8(0),hash:t.slice(1)}}function h(e){var t=i.decode(e),r=i.fromWords(t.words.slice(1));return{version:t.words[0],prefix:t.prefix,data:n.from(r)}}function p(e,t){c(f.tuple(f.Hash160bit,f.UInt8),arguments);var r=n.allocUnsafe(21);return r.writeUInt8(t,0),e.copy(r,1),s.encode(r)}function d(e,t,r){var n=i.toWords(e);return n.unshift(t),i.encode(r,n)}e.exports={fromBase58Check:l,fromBech32:h,fromOutputScript:function(e,t){if(t=t||u.bitcoin,a.pubKeyHash.output.check(e))return p(o.compile(e).slice(3,23),t.pubKeyHash);if(a.scriptHash.output.check(e))return p(o.compile(e).slice(2,22),t.scriptHash);if(a.witnessPubKeyHash.output.check(e))return d(o.compile(e).slice(2,22),0,t.bech32);if(a.witnessScriptHash.output.check(e))return d(o.compile(e).slice(2,34),0,t.bech32);throw new Error(o.toASM(e)+\" has no matching Address\")},toBase58Check:p,toBech32:d,toOutputScript:function(e,t){var r;t=t||u.bitcoin;try{r=l(e)}catch(e){}if(r){if(r.version===t.pubKeyHash)return a.pubKeyHash.output.encode(r.hash);if(r.version===t.scriptHash)return a.scriptHash.output.encode(r.hash)}else{try{r=h(e)}catch(e){}if(r){if(r.prefix!==t.bech32)throw new Error(e+\" has an invalid prefix\");if(0===r.version){if(20===r.data.length)return a.witnessPubKeyHash.output.encode(r.data);if(32===r.data.length)return a.witnessScriptHash.output.encode(r.data)}}}throw new Error(e+\" has no matching Script\")}}},function(e,t,r){var n=r(199),i=r(86),s=r(788),o=r(348),a=r(15),u=r(29),c=r(783),f=r(103),l=r(71),h=r(196),p=s.__curve;function d(e,t,r){if(r&&a({compressed:u.maybe(u.Boolean),network:u.maybe(u.Network)},r),r=r||{},e){if(e.signum()<=0)throw new Error(\"Private key must be greater than 0\");if(e.compareTo(p.n)>=0)throw new Error(\"Private key must be less than the curve order\");if(t)throw new TypeError(\"Unexpected publicKey parameter\");this.d=e}else a(u.ECPoint,t),this.__Q=t;this.compressed=void 0===r.compressed||r.compressed,this.network=r.network||f.bitcoin}Object.defineProperty(d.prototype,\"Q\",{get:function(){return!this.__Q&&this.d&&(this.__Q=p.G.multiply(this.d)),this.__Q}}),d.fromPublicKeyBuffer=function(e,t){var r=h.Point.decodeFrom(p,e);return new d(null,r,{compressed:r.compressed,network:t})},d.fromWIF=function(e,t){var r=c.decode(e),n=r.version;if(u.Array(t)){if(!(t=t.filter(function(e){return n===e.wif}).pop()))throw new Error(\"Unknown network version\")}else if(t=t||f.bitcoin,n!==t.wif)throw new Error(\"Invalid network version\");return new d(l.fromBuffer(r.privateKey),null,{compressed:r.compressed,network:t})},d.makeRandom=function(e){var t,r=(e=e||{}).rng||o;do{var n=r(32);a(u.Buffer256bit,n),t=l.fromBuffer(n)}while(t.signum()<=0||t.compareTo(p.n)>=0);return new d(t,null,e)},d.prototype.getAddress=function(){return n.toBase58Check(i.hash160(this.getPublicKeyBuffer()),this.getNetwork().pubKeyHash)},d.prototype.getNetwork=function(){return this.network},d.prototype.getPublicKeyBuffer=function(){return this.Q.getEncoded(this.compressed)},d.prototype.sign=function(e){if(!this.d)throw new Error(\"Missing private key\");return s.sign(e,this.d)},d.prototype.toWIF=function(){if(!this.d)throw new Error(\"Missing private key\");return c.encode(this.network.wif,this.d.toBuffer(32),this.compressed)},d.prototype.verify=function(e,t){return s.verify(e,t,this.Q)},e.exports=d},function(e,t,r){var n=r(8).Buffer,i=r(86),s=r(20),o=r(353),a=r(35),u=r(15),c=r(29),f=r(202);function l(e){var t=e.length;return f.encodingLength(t)+t}function h(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}h.DEFAULT_SEQUENCE=4294967295,h.SIGHASH_ALL=1,h.SIGHASH_NONE=2,h.SIGHASH_SINGLE=3,h.SIGHASH_ANYONECANPAY=128,h.ADVANCED_TRANSACTION_MARKER=0,h.ADVANCED_TRANSACTION_FLAG=1;var p=n.allocUnsafe(0),d=[],y=n.from(\"0000000000000000000000000000000000000000000000000000000000000000\",\"hex\"),m=n.from(\"0000000000000000000000000000000000000000000000000000000000000001\",\"hex\"),g=n.from(\"ffffffffffffffff\",\"hex\"),v={script:p,valueBuffer:g};h.fromBuffer=function(e,t){var r=0;function n(t){return r+=t,e.slice(r-t,r)}function i(){var t=e.readUInt32LE(r);return r+=4,t}function s(){var t=o.readUInt64LE(e,r);return r+=8,t}function a(){var t=f.decode(e,r);return r+=f.decode.bytes,t}function u(){return n(a())}function c(){for(var e=a(),t=[],r=0;r<e;r++)t.push(u());return t}var l=new h;l.version=function(){var t=e.readInt32LE(r);return r+=4,t}();var p=e.readUInt8(r),y=e.readUInt8(r+1),m=!1;p===h.ADVANCED_TRANSACTION_MARKER&&y===h.ADVANCED_TRANSACTION_FLAG&&(r+=2,m=!0);for(var g=a(),v=0;v<g;++v)l.ins.push({hash:n(32),index:i(),script:u(),sequence:i(),witness:d});var b=a();for(v=0;v<b;++v)l.outs.push({value:s(),script:u()});if(m){for(v=0;v<g;++v)l.ins[v].witness=c();if(!l.hasWitnesses())throw new Error(\"Transaction has superfluous witness data\")}if(l.locktime=i(),t)return l;if(r!==e.length)throw new Error(\"Transaction has unexpected data\");return l},h.fromHex=function(e){return h.fromBuffer(n.from(e,\"hex\"))},h.isCoinbaseHash=function(e){u(c.Hash256bit,e);for(var t=0;t<32;++t)if(0!==e[t])return!1;return!0},h.prototype.isCoinbase=function(){return 1===this.ins.length&&h.isCoinbaseHash(this.ins[0].hash)},h.prototype.addInput=function(e,t,r,n){return u(c.tuple(c.Hash256bit,c.UInt32,c.maybe(c.UInt32),c.maybe(c.Buffer)),arguments),c.Null(r)&&(r=h.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:t,script:n||p,sequence:r,witness:d})-1},h.prototype.addOutput=function(e,t){return u(c.tuple(c.Buffer,c.Satoshi),arguments),this.outs.push({script:e,value:t})-1},h.prototype.hasWitnesses=function(){return this.ins.some(function(e){return 0!==e.witness.length})},h.prototype.weight=function(){return 3*this.__byteLength(!1)+this.__byteLength(!0)},h.prototype.virtualSize=function(){return Math.ceil(this.weight()/4)},h.prototype.byteLength=function(){return this.__byteLength(!0)},h.prototype.__byteLength=function(e){var t=e&&this.hasWitnesses();return(t?10:8)+f.encodingLength(this.ins.length)+f.encodingLength(this.outs.length)+this.ins.reduce(function(e,t){return e+40+l(t.script)},0)+this.outs.reduce(function(e,t){return e+8+l(t.script)},0)+(t?this.ins.reduce(function(e,t){return e+(r=t.witness,n=r.length,f.encodingLength(n)+r.reduce(function(e,t){return e+l(t)},0));var r,n},0):0)},h.prototype.clone=function(){var e=new h;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(function(e){return{hash:e.hash,index:e.index,script:e.script,sequence:e.sequence,witness:e.witness}}),e.outs=this.outs.map(function(e){return{script:e.script,value:e.value}}),e},h.prototype.hashForSignature=function(e,t,r){if(u(c.tuple(c.UInt32,c.Buffer,c.Number),arguments),e>=this.ins.length)return m;var o=s.compile(s.decompile(t).filter(function(e){return e!==a.OP_CODESEPARATOR})),f=this.clone();if((31&r)===h.SIGHASH_NONE)f.outs=[],f.ins.forEach(function(t,r){r!==e&&(t.sequence=0)});else if((31&r)===h.SIGHASH_SINGLE){if(e>=this.outs.length)return m;f.outs.length=e+1;for(var l=0;l<e;l++)f.outs[l]=v;f.ins.forEach(function(t,r){r!==e&&(t.sequence=0)})}r&h.SIGHASH_ANYONECANPAY?(f.ins=[f.ins[e]],f.ins[0].script=o):(f.ins.forEach(function(e){e.script=p}),f.ins[e].script=o);var d=n.allocUnsafe(f.__byteLength(!1)+4);return d.writeInt32LE(r,d.length-4),f.__toBuffer(d,0,!1),i.hash256(d)},h.prototype.hashForWitnessV0=function(e,t,r,s){var a,p;function d(e){p+=e.copy(a,p)}function m(e){p=a.writeUInt32LE(e,p)}function g(e){p=o.writeUInt64LE(a,e,p)}function v(e){var t;t=e.length,f.encode(t,a,p),p+=f.encode.bytes,d(e)}u(c.tuple(c.UInt32,c.Buffer,c.Satoshi,c.UInt32),arguments);var b=y,w=y,_=y;if(s&h.SIGHASH_ANYONECANPAY||(a=n.allocUnsafe(36*this.ins.length),p=0,this.ins.forEach(function(e){d(e.hash),m(e.index)}),w=i.hash256(a)),s&h.SIGHASH_ANYONECANPAY||(31&s)===h.SIGHASH_SINGLE||(31&s)===h.SIGHASH_NONE||(a=n.allocUnsafe(4*this.ins.length),p=0,this.ins.forEach(function(e){m(e.sequence)}),_=i.hash256(a)),(31&s)!==h.SIGHASH_SINGLE&&(31&s)!==h.SIGHASH_NONE){var k=this.outs.reduce(function(e,t){return e+8+l(t.script)},0);a=n.allocUnsafe(k),p=0,this.outs.forEach(function(e){g(e.value),v(e.script)}),b=i.hash256(a)}else if((31&s)===h.SIGHASH_SINGLE&&e<this.outs.length){var S=this.outs[e];a=n.allocUnsafe(8+l(S.script)),p=0,g(S.value),v(S.script),b=i.hash256(a)}a=n.allocUnsafe(156+l(t)),p=0;var E=this.ins[e];return m(this.version),d(w),d(_),d(E.hash),m(E.index),v(t),g(r),m(E.sequence),d(b),m(this.locktime),m(s),i.hash256(a)},h.prototype.getHash=function(){return i.hash256(this.__toBuffer(void 0,void 0,!1))},h.prototype.getId=function(){return this.getHash().reverse().toString(\"hex\")},h.prototype.toBuffer=function(e,t){return this.__toBuffer(e,t,!0)},h.prototype.__toBuffer=function(e,t,r){e||(e=n.allocUnsafe(this.__byteLength(r)));var i,s=t||0;function a(t){s+=t.copy(e,s)}function u(t){s=e.writeUInt8(t,s)}function c(t){s=e.writeUInt32LE(t,s)}function l(t){f.encode(t,e,s),s+=f.encode.bytes}function p(e){l(e.length),a(e)}i=this.version,s=e.writeInt32LE(i,s);var d=r&&this.hasWitnesses();return d&&(u(h.ADVANCED_TRANSACTION_MARKER),u(h.ADVANCED_TRANSACTION_FLAG)),l(this.ins.length),this.ins.forEach(function(e){a(e.hash),c(e.index),p(e.script),c(e.sequence)}),l(this.outs.length),this.outs.forEach(function(t){var r;t.valueBuffer?a(t.valueBuffer):(r=t.value,s=o.writeUInt64LE(e,r,s)),p(t.script)}),d&&this.ins.forEach(function(e){var t;l((t=e.witness).length),t.forEach(p)}),c(this.locktime),void 0!==t?e.slice(t,s):e},h.prototype.toHex=function(){return this.toBuffer().toString(\"hex\")},h.prototype.setInputScript=function(e,t){u(c.tuple(c.Number,c.Buffer),arguments),this.ins[e].script=t},h.prototype.setWitness=function(e,t){u(c.tuple(c.Number,[c.Buffer]),arguments),this.ins[e].witness=t},e.exports=h},function(e,t,r){\"use strict\";var n=r(8).Buffer,i=9007199254740991;function s(e){if(e<0||e>i||e%1!=0)throw new RangeError(\"value out of range\")}function o(e){return s(e),e<253?1:e<=65535?3:e<=4294967295?5:9}e.exports={encode:function e(t,r,i){if(s(t),r||(r=n.allocUnsafe(o(t))),!n.isBuffer(r))throw new TypeError(\"buffer must be a Buffer instance\");return i||(i=0),t<253?(r.writeUInt8(t,i),e.bytes=1):t<=65535?(r.writeUInt8(253,i),r.writeUInt16LE(t,i+1),e.bytes=3):t<=4294967295?(r.writeUInt8(254,i),r.writeUInt32LE(t,i+1),e.bytes=5):(r.writeUInt8(255,i),r.writeUInt32LE(t>>>0,i+1),r.writeUInt32LE(t/4294967296|0,i+5),e.bytes=9),r},decode:function e(t,r){if(!n.isBuffer(t))throw new TypeError(\"buffer must be a Buffer instance\");r||(r=0);var i=t.readUInt8(r);if(i<253)return e.bytes=1,i;if(253===i)return e.bytes=3,t.readUInt16LE(r+1);if(254===i)return e.bytes=5,t.readUInt32LE(r+1);e.bytes=9;var o=t.readUInt32LE(r+1),a=4294967296*t.readUInt32LE(r+5)+o;return s(a),a},encodingLength:o}},function(e,t,r){e.exports={input:r(803),output:r(802)}},function(e,t,r){e.exports={input:r(805),output:r(804)}},function(e,t,r){e.exports={input:r(807),output:r(356)}},function(e,t,r){var n=r(20).decompile,i=r(205),s=r(806),o=r(204),a=r(203),u=r(801),c=r(798),f=r(796),l=r(794),h={MULTISIG:\"multisig\",NONSTANDARD:\"nonstandard\",NULLDATA:\"nulldata\",P2PK:\"pubkey\",P2PKH:\"pubkeyhash\",P2SH:\"scripthash\",P2WPKH:\"witnesspubkeyhash\",P2WSH:\"witnessscripthash\",WITNESS_COMMITMENT:\"witnesscommitment\"};e.exports={classifyInput:function(e,t){var r=n(e);return a.input.check(r)?h.P2PKH:u.input.check(r,t)?h.P2SH:i.input.check(r,t)?h.MULTISIG:o.input.check(r)?h.P2PK:h.NONSTANDARD},classifyOutput:function(e){if(c.output.check(e))return h.P2WPKH;if(f.output.check(e))return h.P2WSH;if(a.output.check(e))return h.P2PKH;if(u.output.check(e))return h.P2SH;var t=n(e);return i.output.check(t)?h.MULTISIG:o.output.check(t)?h.P2PK:l.output.check(t)?h.WITNESS_COMMITMENT:s.output.check(t)?h.NULLDATA:h.NONSTANDARD},classifyWitness:function(e,t){var r=n(e);return c.input.check(r)?h.P2WPKH:f.input.check(r,t)?h.P2WSH:h.NONSTANDARD},multisig:i,nullData:s,pubKey:o,pubKeyHash:a,scriptHash:u,witnessPubKeyHash:c,witnessScriptHash:f,witnessCommitment:l,types:h}},function(e,t){var r={Array:function(e){return null!==e&&void 0!==e&&e.constructor===Array},Boolean:function(e){return\"boolean\"==typeof e},Function:function(e){return\"function\"==typeof e},Nil:function(e){return void 0===e||null===e},Number:function(e){return\"number\"==typeof e},Object:function(e){return\"object\"==typeof e},String:function(e){return\"string\"==typeof e},\"\":function(){return!0}};for(var n in r.Null=r.Nil,r)r[n].toJSON=function(e){return e}.bind(null,n);e.exports=r},function(e,t,r){\"use strict\";const n=r(141),i=r(140),s=i.SHIFT32,o=i.SHIFT16;t.parseHalf=function(e){var t,r,n;return n=128&e[0]?-1:1,t=(124&e[0])>>2,r=(3&e[0])<<8|e[1],t?31===t?n*(r?NaN:Infinity):n*Math.pow(2,t-25)*(1024+r):5.960464477539063e-8*n*r},t.arrayBufferToBignumber=function(e){const t=e.byteLength;let r=\"\";for(let n=0;n<t;n++)r+=(i=e[n])<16?\"0\"+i.toString(16):i.toString(16);var i;return new n(r,16)},t.buildMap=(e=>{const t=new Map,r=Object.keys(e),n=r.length;for(let i=0;i<n;i++)t.set(r[i],e[r[i]]);return t}),t.buildInt32=((e,t)=>e*o+t),t.buildInt64=((e,r,i,o)=>{const a=t.buildInt32(e,r),u=t.buildInt32(i,o);return a>2097151?new n(a).times(s).plus(u):a*s+u}),t.writeHalf=function(e,t){const r=Buffer.allocUnsafe(4);r.writeFloatBE(t,0);const n=r.readUInt32BE(0);if(0!=(8191&n))return!1;var i=n>>16&32768;const s=n>>23&255,o=8388607&n;if(s>=113&&s<=142)i+=(s-112<<10)+(o>>13);else{if(!(s>=103&&s<113))return!1;if(o&(1<<126-s)-1)return!1;i+=o+8388608>>126-s}return e.writeUInt16BE(i,0),!0},t.keySorter=function(e,t){var r=e[0].byteLength,n=t[0].byteLength;return r>n?1:n>r?-1:e[0].compare(t[0])},t.isNegativeZero=(e=>0===e&&1/e<0),t.nextPowerOf2=(e=>{let t=0;if(e&&!(e&e-1))return e;for(;0!==e;)e>>=1,t+=1;return 1<<t})},function(e,t,r){\"use strict\";t.defined=function(e){return null!==e&&void 0!==e&&(\"number\"!=typeof e||!isNaN(e))}},function(e,t,r){\"use strict\";const n=r(5),i=r(40)(r(828)),s=r(72),o=r(144);(t=e.exports).serialize=function(e,t){let r;!o.isDAGNode(e)&&e.links&&(e.links=e.links.map(e=>s.isDAGLink(e)?e:s.util.createDagLinkFromB58EncodedHash(e)));try{r=i.PBNode.encode(function(e){const t={};return e.data&&e.data.length>0?t.Data=e.data:t.Data=null,e.links&&e.links.length>0?t.Links=e.links.map(e=>({Hash:e.multihash,Name:e.name,Tsize:e.size})):t.Links=null,t}(e))}catch(e){return t(e)}t(null,r)},t.deserialize=function(e,t){const r=i.PBNode.decode(e),n=r.Links.map(e=>new s(e.Name,e.Tsize,e.Hash)),a=null==r.Data?Buffer.alloc(0):Buffer.from(r.Data);o.create(a,n,t)},t.cid=function(e,t){if(e.multihash)return t(null,new n(e.multihash));t(new Error(\"not valid dagPB node\"))}},function(e,t,r){\"use strict\";const n=r(2);t.toCallback=(e=>(function(t,r){const i=(e,t)=>n(()=>{r(e,t)});let s;try{s=e(t)}catch(e){return void i(e)}i(null,s)})),t.toBuf=((e,t)=>r=>{let n=e(r,t);return Buffer.from(n,\"hex\")}),t.fromString=((e,t)=>r=>{const n=Buffer.isBuffer(r)?r.toString():r;return e(n,t)}),t.fromNumberTo32BitBuf=((e,t)=>r=>{let n=e(r,t);const i=new Array(4);for(let e=0;e<4;e++)i[e]=255&n,n>>=8;return Buffer.from(i)})},function(e,t){var r=t.once=function(e){return function(t,r){if(t)return r(t);if(null!=e){var n=e;e=null,r(null,n)}else r(!0)}};t.depthFirst=function(e,t){var n,i=[];return i.unshift(r(e)),function e(r,s){return i.length?n?s(n):void i[0](r,function(r,o){if(r){if(!0!==r){for(n=r,i.shift();i.length;)i.shift()(r,function(){});return s(r)}return i.shift(),e(null,s)}i.unshift(t(o)),s(r,o)}):s(!0)}},t.widthFirst=function(e,t){var n=[];return n.push(r(e)),function e(r,i){if(!n.length)return i(!0);n[0](r,function(r,s){if(r)return n.shift(),e(null,i);n.push(t(s)),i(r,s)})}},t.leafFirst=function(e,t){var n=[],i=[];return n.push(r(e)),function e(r,s){n[0](r,function(r,o){if(r)return n.shift(),i.length?s(null,i.shift()):s(!0);n.unshift(t(o)),i.unshift(o),e(null,s)})}}},function(e,t){e.exports=require(\"glob\")},function(e,t,r){\"use strict\";const n=r(224),i=r(1),s=r(213),o=r(2),a=r(30),u=r(18),c=r(384),f=r(383),l=r(25),h=r(9).utils.asyncFilter,p=r(9).utils.asyncSort,d=r(9).Key;e.exports=class{constructor(e,t){this.path=l.resolve(e),this.opts=Object.assign({},{createIfMissing:!0,errorIfExists:!1,extension:\".data\"},t),this.opts.createIfMissing?this._openOrCreate():this._open()}open(e){this._openOrCreate(),o(e)}_open(){if(!n.existsSync(this.path))throw new Error(`Datastore directory: ${this.path} does not exist`);if(this.opts.errorIfExists)throw new Error(`Datastore directory: ${this.path} already exists`)}_create(){c.sync(this.path,{fs:n})}_openOrCreate(){try{this._open()}catch(e){if(e.message.match(\"does not exist\"))return void this._create();throw e}}_encode(e){const t=e.parent().toString(),r=l.join(this.path,t),n=e.toString().slice(t.length);return{dir:r,file:l.join(r,n+this.opts.extension)}}_decode(e){const t=this.opts.extension;if(l.extname(e)!==t)throw new Error(`Invalid extension: ${l.extname(e)}`);const r=e.slice(this.path.length,-t.length).split(l.sep).join(\"/\");return new d(r)}putRaw(e,t,r){const i=this._encode(e),s=i.file.slice(0,-this.opts.extension.length);a([e=>c(i.dir,{fs:n},e),e=>f(s,t,e)],e=>r(e))}put(e,t,r){const i=this._encode(e);a([e=>c(i.dir,{fs:n},e),e=>f(i.file,t,e)],e=>r(e))}getRaw(e,t){let r=this._encode(e).file;r=r.slice(0,-this.opts.extension.length),n.readFile(r,t)}get(e,t){const r=this._encode(e);n.readFile(r.file,t)}has(e,t){const r=this._encode(e);n.access(r.file,e=>{t(null,!e)})}delete(e,t){const r=this._encode(e);n.unlink(r.file,e=>{t(e)})}batch(){const e=[],t=[];return{put(t,r){e.push({key:t,value:r})},delete(e){t.push(e)},commit:r=>{a([t=>u(e,(e,t)=>{this.put(e.key,e.value,t)},t),e=>u(t,(e,t)=>{this.delete(e,t)},e)],e=>r(e))}}}query(e){let t=e.prefix||\"**\",r=l.join(this.path,t,\"*\"+this.opts.extension).split(l.sep).join(\"/\"),o=[i.values(s.sync(r))];if(e.keysOnly?o.push(i.map(e=>({key:this._decode(e)}))):o.push(i.asyncMap((e,t)=>{n.readFile(e,(r,n)=>{if(r)return t(r);t(null,{key:this._decode(e),value:n})})})),null!=e.filters&&(o=o.concat(e.filters.map(h))),null!=e.orders&&(o=o.concat(e.orders.map(p))),null!=e.offset){let t=0;o.push(i.filter(()=>t++>=e.offset))}return null!=e.limit&&o.push(i.take(e.limit)),i.apply(null,o)}close(e){o(e)}}},function(e,t){e.exports=require(\"async/reject\")},function(e,t,r){\"use strict\";var n=r(874),i=n.Decoder.prototype.finalize;n.Decoder.prototype.finalize=function(e){var t=i.call(this,e);return new Buffer(t)},e.exports=n},function(e,t,r){\"use strict\";e.exports=function(e,t,r){if((t-=(e+=\"\").length)<=0)return e;r||0===r||(r=\" \");if(\" \"==(r+=\"\")&&t<10)return n[t]+e;var i=\"\";for(;1&t&&(i+=r),t>>=1;)r+=r;return i+e};var n=[\"\",\" \",\"  \",\"   \",\"    \",\"     \",\"      \",\"       \",\"        \",\"         \"]},function(e,t){var r=\"Expected a function\",n=\"__lodash_hash_undefined__\",i=1/0,s=\"[object Function]\",o=\"[object GeneratorFunction]\",a=\"[object Symbol]\",u=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,c=/^\\w*$/,f=/^\\./,l=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,h=/\\\\(\\\\)?/g,p=/^\\[object .+?Constructor\\]$/,d=\"object\"==typeof global&&global&&global.Object===Object&&global,y=\"object\"==typeof self&&self&&self.Object===Object&&self,m=d||y||Function(\"return this\")();var g,v=Array.prototype,b=Function.prototype,w=Object.prototype,_=m[\"__core-js_shared__\"],k=(g=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+g:\"\",S=b.toString,E=w.hasOwnProperty,x=w.toString,A=RegExp(\"^\"+S.call(E).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),B=m.Symbol,C=v.splice,I=M(m,\"Map\"),T=M(Object,\"create\"),D=B?B.prototype:void 0,P=D?D.toString:void 0;function O(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function N(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function U(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function R(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function L(e,t){for(var r,n=0,i=(t=function(e,t){if(V(e))return!1;var r=typeof e;if(\"number\"==r||\"symbol\"==r||\"boolean\"==r||null==e||G(e))return!0;return c.test(e)||!u.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:V(r=t)?r:K(r)).length;null!=e&&n<i;)e=e[H(t[n++])];return n&&n==i?e:void 0}function F(e){return!(!q(e)||k&&k in e)&&(function(e){var t=q(e)?x.call(e):\"\";return t==s||t==o}(e)||function(e){var t=!1;if(null!=e&&\"function\"!=typeof e.toString)try{t=!!(e+\"\")}catch(e){}return t}(e)?A:p).test(function(e){if(null!=e){try{return S.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}(e))}function j(e,t){var r,n,i=e.__data__;return(\"string\"==(n=typeof(r=t))||\"number\"==n||\"symbol\"==n||\"boolean\"==n?\"__proto__\"!==r:null===r)?i[\"string\"==typeof t?\"string\":\"hash\"]:i.map}function M(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return F(r)?r:void 0}O.prototype.clear=function(){this.__data__=T?T(null):{}},O.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},O.prototype.get=function(e){var t=this.__data__;if(T){var r=t[e];return r===n?void 0:r}return E.call(t,e)?t[e]:void 0},O.prototype.has=function(e){var t=this.__data__;return T?void 0!==t[e]:E.call(t,e)},O.prototype.set=function(e,t){return this.__data__[e]=T&&void 0===t?n:t,this},N.prototype.clear=function(){this.__data__=[]},N.prototype.delete=function(e){var t=this.__data__,r=R(t,e);return!(r<0||(r==t.length-1?t.pop():C.call(t,r,1),0))},N.prototype.get=function(e){var t=this.__data__,r=R(t,e);return r<0?void 0:t[r][1]},N.prototype.has=function(e){return R(this.__data__,e)>-1},N.prototype.set=function(e,t){var r=this.__data__,n=R(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},U.prototype.clear=function(){this.__data__={hash:new O,map:new(I||N),string:new O}},U.prototype.delete=function(e){return j(this,e).delete(e)},U.prototype.get=function(e){return j(this,e).get(e)},U.prototype.has=function(e){return j(this,e).has(e)},U.prototype.set=function(e,t){return j(this,e).set(e,t),this};var K=z(function(e){var t;e=null==(t=e)?\"\":function(e){if(\"string\"==typeof e)return e;if(G(e))return P?P.call(e):\"\";var t=e+\"\";return\"0\"==t&&1/e==-i?\"-0\":t}(t);var r=[];return f.test(e)&&r.push(\"\"),e.replace(l,function(e,t,n,i){r.push(n?i.replace(h,\"$1\"):t||e)}),r});function H(e){if(\"string\"==typeof e||G(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-i?\"-0\":t}function z(e,t){if(\"function\"!=typeof e||t&&\"function\"!=typeof t)throw new TypeError(r);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o),o};return n.cache=new(z.Cache||U),n}z.Cache=U;var V=Array.isArray;function q(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}function G(e){return\"symbol\"==typeof e||function(e){return!!e&&\"object\"==typeof e}(e)&&x.call(e)==a}e.exports=function(e,t,r){var n=null==e?void 0:L(e,t);return void 0===n?r:n}},function(e,t,r){\"use strict\";const n=r(1),i=r(148),s=r(25),o=r(75),a=r(389);t.asyncFilter=function(e){let t,r,n=!1;return function(i){return function s(o,a){if(r)return a(r);o?(r=o,i(o,n?()=>{n?t=a:a(o)}:a)):i(null,(i,o)=>{i?a(i):r?a(r):(n=!0,e(o,(e,i)=>{n=!1,r?(a(r),t(r)):e?s(e,a):i?a(null,o):s(null,a)}))})}}},t.asyncSort=function(e){const t=i(),r=n.collect((r,i)=>{if(r)return t.abort(r);e(i,(e,r)=>{if(e)return t.abort(e);t.resolve(n.values(i))})});return function(e){return r(e),t}},t.replaceStartWith=function(e,t){const r=new RegExp(\"^\"+t);return e.replace(r,\"\")},t.tmpdir=(()=>s.join(o.tmpdir(),a()))},function(e,t,r){\"use strict\";var n=r(394);e.exports=function(e){return e=n(e),function(t){return function r(n,i){for(var s,o=!0;o;)o=!1,s=!0,t(n,function(t,n){if(!t&&!e(n))return s?o=!0:r(t,i);i(t,n)}),s=!1}}}},function(e,t,r){\"use strict\";var n=r(106);e.exports=function(e,t,r){r||(r=t,t=null);var i=n(function(r){t=e(t,r)},function(e){r(e,t)});return 2===arguments.length?function(e){e(null,function(n,s){if(n)return r(!0===n?null:n);t=s,i(e)})}:i}},function(e,t,r){\"use strict\";var n=r(396);e.exports=function(e,t){if(!e)return function(e,r){return e?n(r,e,t):r(!0)};Array.isArray(e)||(e=Object.keys(e).map(function(t){return e[t]}));var r=0;return function(i,s){if(i)return n(s,i,t);r>=e.length?s(!0):s(null,e[r++])}}},function(e,t,r){\"use strict\";e.exports=function(e,{className:t,symbolName:r}){const n=Symbol.for(r),i={[t]:class extends e{constructor(...e){super(...e),Object.defineProperty(this,n,{value:!0})}get[Symbol.toStringTag](){return t}}}[t];return i[`is${t}`]=(e=>!(!e||!e[n])),i},e.exports.proto=function(e,{className:t,symbolName:r,withoutNew:n}){const i=Symbol.for(r),s={[t]:function(...t){if(n&&!(this instanceof s))return new s(...t);const r=e.call(this,...t)||this;return r&&!r[i]&&Object.defineProperty(r,i,{value:!0}),r}}[t];return s.prototype=Object.create(e.prototype),s.prototype.constructor=s,Object.defineProperty(s.prototype,Symbol.toStringTag,{get:()=>t}),s[`is${t}`]=(e=>!(!e||!e[i])),s}},function(e,t){e.exports=require(\"graceful-fs\")},function(e,t){e.exports=require(\"web3\")},function(e,t,r){\"use strict\";const n=r(2);t.toCallback=(e=>(function(t,r){const i=(e,t)=>n(()=>{r(e,t)});let s;try{s=e(t)}catch(e){return void i(e)}i(null,s)})),t.toBuf=((e,t)=>r=>{let n=e(r,t);return Buffer.from(n,\"hex\")}),t.fromString=((e,t)=>r=>{const n=Buffer.isBuffer(r)?r.toString():r;return e(n,t)}),t.fromNumberTo32BitBuf=((e,t)=>r=>{let n=e(r,t);const i=new Array(4);for(let e=0;e<4;e++)i[e]=255&n,n>>=8;return Buffer.from(i)})},function(e,t,r){\"use strict\";(t=e.exports).raw=Buffer.from(\"55\",\"hex\"),t.base1=Buffer.from(\"01\",\"hex\"),t.base2=Buffer.from(\"00\",\"hex\"),t.base8=Buffer.from(\"07\",\"hex\"),t.base10=Buffer.from(\"09\",\"hex\"),t.cbor=Buffer.from(\"51\",\"hex\"),t.protobuf=Buffer.from(\"50\",\"hex\"),t.rlp=Buffer.from(\"60\",\"hex\"),t.bencode=Buffer.from(\"63\",\"hex\"),t.multicodec=Buffer.from(\"30\",\"hex\"),t.multihash=Buffer.from(\"31\",\"hex\"),t.multiaddr=Buffer.from(\"32\",\"hex\"),t.multibase=Buffer.from(\"33\",\"hex\"),t.md4=Buffer.from(\"d4\",\"hex\"),t.md5=Buffer.from(\"d5\",\"hex\"),t.sha1=Buffer.from(\"11\",\"hex\"),t[\"sha2-256\"]=Buffer.from(\"12\",\"hex\"),t[\"sha2-512\"]=Buffer.from(\"13\",\"hex\"),t[\"dbl-sha2-256\"]=Buffer.from(\"56\",\"hex\"),t[\"sha3-224\"]=Buffer.from(\"17\",\"hex\"),t[\"sha3-256\"]=Buffer.from(\"16\",\"hex\"),t[\"sha3-384\"]=Buffer.from(\"15\",\"hex\"),t[\"sha3-512\"]=Buffer.from(\"14\",\"hex\"),t[\"shake-128\"]=Buffer.from(\"18\",\"hex\"),t[\"shake-256\"]=Buffer.from(\"19\",\"hex\"),t[\"keccak-224\"]=Buffer.from(\"1a\",\"hex\"),t[\"keccak-256\"]=Buffer.from(\"1b\",\"hex\"),t[\"keccak-384\"]=Buffer.from(\"1c\",\"hex\"),t[\"keccak-512\"]=Buffer.from(\"1d\",\"hex\"),t.murmur3=Buffer.from(\"22\",\"hex\"),t[\"blake2b-8\"]=Buffer.from(\"b201\",\"hex\"),t[\"blake2b-16\"]=Buffer.from(\"b202\",\"hex\"),t[\"blake2b-24\"]=Buffer.from(\"b203\",\"hex\"),t[\"blake2b-32\"]=Buffer.from(\"b204\",\"hex\"),t[\"blake2b-40\"]=Buffer.from(\"b205\",\"hex\"),t[\"blake2b-48\"]=Buffer.from(\"b206\",\"hex\"),t[\"blake2b-56\"]=Buffer.from(\"b207\",\"hex\"),t[\"blake2b-64\"]=Buffer.from(\"b208\",\"hex\"),t[\"blake2b-72\"]=Buffer.from(\"b209\",\"hex\"),t[\"blake2b-80\"]=Buffer.from(\"b20a\",\"hex\"),t[\"blake2b-88\"]=Buffer.from(\"b20b\",\"hex\"),t[\"blake2b-96\"]=Buffer.from(\"b20c\",\"hex\"),t[\"blake2b-104\"]=Buffer.from(\"b20d\",\"hex\"),t[\"blake2b-112\"]=Buffer.from(\"b20e\",\"hex\"),t[\"blake2b-120\"]=Buffer.from(\"b20f\",\"hex\"),t[\"blake2b-128\"]=Buffer.from(\"b210\",\"hex\"),t[\"blake2b-136\"]=Buffer.from(\"b211\",\"hex\"),t[\"blake2b-144\"]=Buffer.from(\"b212\",\"hex\"),t[\"blake2b-152\"]=Buffer.from(\"b213\",\"hex\"),t[\"blake2b-160\"]=Buffer.from(\"b214\",\"hex\"),t[\"blake2b-168\"]=Buffer.from(\"b215\",\"hex\"),t[\"blake2b-176\"]=Buffer.from(\"b216\",\"hex\"),t[\"blake2b-184\"]=Buffer.from(\"b217\",\"hex\"),t[\"blake2b-192\"]=Buffer.from(\"b218\",\"hex\"),t[\"blake2b-200\"]=Buffer.from(\"b219\",\"hex\"),t[\"blake2b-208\"]=Buffer.from(\"b21a\",\"hex\"),t[\"blake2b-216\"]=Buffer.from(\"b21b\",\"hex\"),t[\"blake2b-224\"]=Buffer.from(\"b21c\",\"hex\"),t[\"blake2b-232\"]=Buffer.from(\"b21d\",\"hex\"),t[\"blake2b-240\"]=Buffer.from(\"b21e\",\"hex\"),t[\"blake2b-248\"]=Buffer.from(\"b21f\",\"hex\"),t[\"blake2b-256\"]=Buffer.from(\"b220\",\"hex\"),t[\"blake2b-264\"]=Buffer.from(\"b221\",\"hex\"),t[\"blake2b-272\"]=Buffer.from(\"b222\",\"hex\"),t[\"blake2b-280\"]=Buffer.from(\"b223\",\"hex\"),t[\"blake2b-288\"]=Buffer.from(\"b224\",\"hex\"),t[\"blake2b-296\"]=Buffer.from(\"b225\",\"hex\"),t[\"blake2b-304\"]=Buffer.from(\"b226\",\"hex\"),t[\"blake2b-312\"]=Buffer.from(\"b227\",\"hex\"),t[\"blake2b-320\"]=Buffer.from(\"b228\",\"hex\"),t[\"blake2b-328\"]=Buffer.from(\"b229\",\"hex\"),t[\"blake2b-336\"]=Buffer.from(\"b22a\",\"hex\"),t[\"blake2b-344\"]=Buffer.from(\"b22b\",\"hex\"),t[\"blake2b-352\"]=Buffer.from(\"b22c\",\"hex\"),t[\"blake2b-360\"]=Buffer.from(\"b22d\",\"hex\"),t[\"blake2b-368\"]=Buffer.from(\"b22e\",\"hex\"),t[\"blake2b-376\"]=Buffer.from(\"b22f\",\"hex\"),t[\"blake2b-384\"]=Buffer.from(\"b230\",\"hex\"),t[\"blake2b-392\"]=Buffer.from(\"b231\",\"hex\"),t[\"blake2b-400\"]=Buffer.from(\"b232\",\"hex\"),t[\"blake2b-408\"]=Buffer.from(\"b233\",\"hex\"),t[\"blake2b-416\"]=Buffer.from(\"b234\",\"hex\"),t[\"blake2b-424\"]=Buffer.from(\"b235\",\"hex\"),t[\"blake2b-432\"]=Buffer.from(\"b236\",\"hex\"),t[\"blake2b-440\"]=Buffer.from(\"b237\",\"hex\"),t[\"blake2b-448\"]=Buffer.from(\"b238\",\"hex\"),t[\"blake2b-456\"]=Buffer.from(\"b239\",\"hex\"),t[\"blake2b-464\"]=Buffer.from(\"b23a\",\"hex\"),t[\"blake2b-472\"]=Buffer.from(\"b23b\",\"hex\"),t[\"blake2b-480\"]=Buffer.from(\"b23c\",\"hex\"),t[\"blake2b-488\"]=Buffer.from(\"b23d\",\"hex\"),t[\"blake2b-496\"]=Buffer.from(\"b23e\",\"hex\"),t[\"blake2b-504\"]=Buffer.from(\"b23f\",\"hex\"),t[\"blake2b-512\"]=Buffer.from(\"b240\",\"hex\"),t[\"blake2s-8\"]=Buffer.from(\"b241\",\"hex\"),t[\"blake2s-16\"]=Buffer.from(\"b242\",\"hex\"),t[\"blake2s-24\"]=Buffer.from(\"b243\",\"hex\"),t[\"blake2s-32\"]=Buffer.from(\"b244\",\"hex\"),t[\"blake2s-40\"]=Buffer.from(\"b245\",\"hex\"),t[\"blake2s-48\"]=Buffer.from(\"b246\",\"hex\"),t[\"blake2s-56\"]=Buffer.from(\"b247\",\"hex\"),t[\"blake2s-64\"]=Buffer.from(\"b248\",\"hex\"),t[\"blake2s-72\"]=Buffer.from(\"b249\",\"hex\"),t[\"blake2s-80\"]=Buffer.from(\"b24a\",\"hex\"),t[\"blake2s-88\"]=Buffer.from(\"b24b\",\"hex\"),t[\"blake2s-96\"]=Buffer.from(\"b24c\",\"hex\"),t[\"blake2s-104\"]=Buffer.from(\"b24d\",\"hex\"),t[\"blake2s-112\"]=Buffer.from(\"b24e\",\"hex\"),t[\"blake2s-120\"]=Buffer.from(\"b24f\",\"hex\"),t[\"blake2s-128\"]=Buffer.from(\"b250\",\"hex\"),t[\"blake2s-136\"]=Buffer.from(\"b251\",\"hex\"),t[\"blake2s-144\"]=Buffer.from(\"b252\",\"hex\"),t[\"blake2s-152\"]=Buffer.from(\"b253\",\"hex\"),t[\"blake2s-160\"]=Buffer.from(\"b254\",\"hex\"),t[\"blake2s-168\"]=Buffer.from(\"b255\",\"hex\"),t[\"blake2s-176\"]=Buffer.from(\"b256\",\"hex\"),t[\"blake2s-184\"]=Buffer.from(\"b257\",\"hex\"),t[\"blake2s-192\"]=Buffer.from(\"b258\",\"hex\"),t[\"blake2s-200\"]=Buffer.from(\"b259\",\"hex\"),t[\"blake2s-208\"]=Buffer.from(\"b25a\",\"hex\"),t[\"blake2s-216\"]=Buffer.from(\"b25b\",\"hex\"),t[\"blake2s-224\"]=Buffer.from(\"b25c\",\"hex\"),t[\"blake2s-232\"]=Buffer.from(\"b25d\",\"hex\"),t[\"blake2s-240\"]=Buffer.from(\"b25e\",\"hex\"),t[\"blake2s-248\"]=Buffer.from(\"b25f\",\"hex\"),t[\"blake2s-256\"]=Buffer.from(\"b260\",\"hex\"),t[\"skein256-8\"]=Buffer.from(\"b301\",\"hex\"),t[\"skein256-16\"]=Buffer.from(\"b302\",\"hex\"),t[\"skein256-24\"]=Buffer.from(\"b303\",\"hex\"),t[\"skein256-32\"]=Buffer.from(\"b304\",\"hex\"),t[\"skein256-40\"]=Buffer.from(\"b305\",\"hex\"),t[\"skein256-48\"]=Buffer.from(\"b306\",\"hex\"),t[\"skein256-56\"]=Buffer.from(\"b307\",\"hex\"),t[\"skein256-64\"]=Buffer.from(\"b308\",\"hex\"),t[\"skein256-72\"]=Buffer.from(\"b309\",\"hex\"),t[\"skein256-80\"]=Buffer.from(\"b30a\",\"hex\"),t[\"skein256-88\"]=Buffer.from(\"b30b\",\"hex\"),t[\"skein256-96\"]=Buffer.from(\"b30c\",\"hex\"),t[\"skein256-104\"]=Buffer.from(\"b30d\",\"hex\"),t[\"skein256-112\"]=Buffer.from(\"b30e\",\"hex\"),t[\"skein256-120\"]=Buffer.from(\"b30f\",\"hex\"),t[\"skein256-128\"]=Buffer.from(\"b310\",\"hex\"),t[\"skein256-136\"]=Buffer.from(\"b311\",\"hex\"),t[\"skein256-144\"]=Buffer.from(\"b312\",\"hex\"),t[\"skein256-152\"]=Buffer.from(\"b313\",\"hex\"),t[\"skein256-160\"]=Buffer.from(\"b314\",\"hex\"),t[\"skein256-168\"]=Buffer.from(\"b315\",\"hex\"),t[\"skein256-176\"]=Buffer.from(\"b316\",\"hex\"),t[\"skein256-184\"]=Buffer.from(\"b317\",\"hex\"),t[\"skein256-192\"]=Buffer.from(\"b318\",\"hex\"),t[\"skein256-200\"]=Buffer.from(\"b319\",\"hex\"),t[\"skein256-208\"]=Buffer.from(\"b31a\",\"hex\"),t[\"skein256-216\"]=Buffer.from(\"b31b\",\"hex\"),t[\"skein256-224\"]=Buffer.from(\"b31c\",\"hex\"),t[\"skein256-232\"]=Buffer.from(\"b31d\",\"hex\"),t[\"skein256-240\"]=Buffer.from(\"b31e\",\"hex\"),t[\"skein256-248\"]=Buffer.from(\"b31f\",\"hex\"),t[\"skein256-256\"]=Buffer.from(\"b320\",\"hex\"),t[\"skein512-8\"]=Buffer.from(\"b321\",\"hex\"),t[\"skein512-16\"]=Buffer.from(\"b322\",\"hex\"),t[\"skein512-24\"]=Buffer.from(\"b323\",\"hex\"),t[\"skein512-32\"]=Buffer.from(\"b324\",\"hex\"),t[\"skein512-40\"]=Buffer.from(\"b325\",\"hex\"),t[\"skein512-48\"]=Buffer.from(\"b326\",\"hex\"),t[\"skein512-56\"]=Buffer.from(\"b327\",\"hex\"),t[\"skein512-64\"]=Buffer.from(\"b328\",\"hex\"),t[\"skein512-72\"]=Buffer.from(\"b329\",\"hex\"),t[\"skein512-80\"]=Buffer.from(\"b32a\",\"hex\"),t[\"skein512-88\"]=Buffer.from(\"b32b\",\"hex\"),t[\"skein512-96\"]=Buffer.from(\"b32c\",\"hex\"),t[\"skein512-104\"]=Buffer.from(\"b32d\",\"hex\"),t[\"skein512-112\"]=Buffer.from(\"b32e\",\"hex\"),t[\"skein512-120\"]=Buffer.from(\"b32f\",\"hex\"),t[\"skein512-128\"]=Buffer.from(\"b330\",\"hex\"),t[\"skein512-136\"]=Buffer.from(\"b331\",\"hex\"),t[\"skein512-144\"]=Buffer.from(\"b332\",\"hex\"),t[\"skein512-152\"]=Buffer.from(\"b333\",\"hex\"),t[\"skein512-160\"]=Buffer.from(\"b334\",\"hex\"),t[\"skein512-168\"]=Buffer.from(\"b335\",\"hex\"),t[\"skein512-176\"]=Buffer.from(\"b336\",\"hex\"),t[\"skein512-184\"]=Buffer.from(\"b337\",\"hex\"),t[\"skein512-192\"]=Buffer.from(\"b338\",\"hex\"),t[\"skein512-200\"]=Buffer.from(\"b339\",\"hex\"),t[\"skein512-208\"]=Buffer.from(\"b33a\",\"hex\"),t[\"skein512-216\"]=Buffer.from(\"b33b\",\"hex\"),t[\"skein512-224\"]=Buffer.from(\"b33c\",\"hex\"),t[\"skein512-232\"]=Buffer.from(\"b33d\",\"hex\"),t[\"skein512-240\"]=Buffer.from(\"b33e\",\"hex\"),t[\"skein512-248\"]=Buffer.from(\"b33f\",\"hex\"),t[\"skein512-256\"]=Buffer.from(\"b340\",\"hex\"),t[\"skein512-264\"]=Buffer.from(\"b341\",\"hex\"),t[\"skein512-272\"]=Buffer.from(\"b342\",\"hex\"),t[\"skein512-280\"]=Buffer.from(\"b343\",\"hex\"),t[\"skein512-288\"]=Buffer.from(\"b344\",\"hex\"),t[\"skein512-296\"]=Buffer.from(\"b345\",\"hex\"),t[\"skein512-304\"]=Buffer.from(\"b346\",\"hex\"),t[\"skein512-312\"]=Buffer.from(\"b347\",\"hex\"),t[\"skein512-320\"]=Buffer.from(\"b348\",\"hex\"),t[\"skein512-328\"]=Buffer.from(\"b349\",\"hex\"),t[\"skein512-336\"]=Buffer.from(\"b34a\",\"hex\"),t[\"skein512-344\"]=Buffer.from(\"b34b\",\"hex\"),t[\"skein512-352\"]=Buffer.from(\"b34c\",\"hex\"),t[\"skein512-360\"]=Buffer.from(\"b34d\",\"hex\"),t[\"skein512-368\"]=Buffer.from(\"b34e\",\"hex\"),t[\"skein512-376\"]=Buffer.from(\"b34f\",\"hex\"),t[\"skein512-384\"]=Buffer.from(\"b350\",\"hex\"),t[\"skein512-392\"]=Buffer.from(\"b351\",\"hex\"),t[\"skein512-400\"]=Buffer.from(\"b352\",\"hex\"),t[\"skein512-408\"]=Buffer.from(\"b353\",\"hex\"),t[\"skein512-416\"]=Buffer.from(\"b354\",\"hex\"),t[\"skein512-424\"]=Buffer.from(\"b355\",\"hex\"),t[\"skein512-432\"]=Buffer.from(\"b356\",\"hex\"),t[\"skein512-440\"]=Buffer.from(\"b357\",\"hex\"),t[\"skein512-448\"]=Buffer.from(\"b358\",\"hex\"),t[\"skein512-456\"]=Buffer.from(\"b359\",\"hex\"),t[\"skein512-464\"]=Buffer.from(\"b35a\",\"hex\"),t[\"skein512-472\"]=Buffer.from(\"b35b\",\"hex\"),t[\"skein512-480\"]=Buffer.from(\"b35c\",\"hex\"),t[\"skein512-488\"]=Buffer.from(\"b35d\",\"hex\"),t[\"skein512-496\"]=Buffer.from(\"b35e\",\"hex\"),t[\"skein512-504\"]=Buffer.from(\"b35f\",\"hex\"),t[\"skein512-512\"]=Buffer.from(\"b360\",\"hex\"),t[\"skein1024-8\"]=Buffer.from(\"b361\",\"hex\"),t[\"skein1024-16\"]=Buffer.from(\"b362\",\"hex\"),t[\"skein1024-24\"]=Buffer.from(\"b363\",\"hex\"),t[\"skein1024-32\"]=Buffer.from(\"b364\",\"hex\"),t[\"skein1024-40\"]=Buffer.from(\"b365\",\"hex\"),t[\"skein1024-48\"]=Buffer.from(\"b366\",\"hex\"),t[\"skein1024-56\"]=Buffer.from(\"b367\",\"hex\"),t[\"skein1024-64\"]=Buffer.from(\"b368\",\"hex\"),t[\"skein1024-72\"]=Buffer.from(\"b369\",\"hex\"),t[\"skein1024-80\"]=Buffer.from(\"b36a\",\"hex\"),t[\"skein1024-88\"]=Buffer.from(\"b36b\",\"hex\"),t[\"skein1024-96\"]=Buffer.from(\"b36c\",\"hex\"),t[\"skein1024-104\"]=Buffer.from(\"b36d\",\"hex\"),t[\"skein1024-112\"]=Buffer.from(\"b36e\",\"hex\"),t[\"skein1024-120\"]=Buffer.from(\"b36f\",\"hex\"),t[\"skein1024-128\"]=Buffer.from(\"b370\",\"hex\"),t[\"skein1024-136\"]=Buffer.from(\"b371\",\"hex\"),t[\"skein1024-144\"]=Buffer.from(\"b372\",\"hex\"),t[\"skein1024-152\"]=Buffer.from(\"b373\",\"hex\"),t[\"skein1024-160\"]=Buffer.from(\"b374\",\"hex\"),t[\"skein1024-168\"]=Buffer.from(\"b375\",\"hex\"),t[\"skein1024-176\"]=Buffer.from(\"b376\",\"hex\"),t[\"skein1024-184\"]=Buffer.from(\"b377\",\"hex\"),t[\"skein1024-192\"]=Buffer.from(\"b378\",\"hex\"),t[\"skein1024-200\"]=Buffer.from(\"b379\",\"hex\"),t[\"skein1024-208\"]=Buffer.from(\"b37a\",\"hex\"),t[\"skein1024-216\"]=Buffer.from(\"b37b\",\"hex\"),t[\"skein1024-224\"]=Buffer.from(\"b37c\",\"hex\"),t[\"skein1024-232\"]=Buffer.from(\"b37d\",\"hex\"),t[\"skein1024-240\"]=Buffer.from(\"b37e\",\"hex\"),t[\"skein1024-248\"]=Buffer.from(\"b37f\",\"hex\"),t[\"skein1024-256\"]=Buffer.from(\"b380\",\"hex\"),t[\"skein1024-264\"]=Buffer.from(\"b381\",\"hex\"),t[\"skein1024-272\"]=Buffer.from(\"b382\",\"hex\"),t[\"skein1024-280\"]=Buffer.from(\"b383\",\"hex\"),t[\"skein1024-288\"]=Buffer.from(\"b384\",\"hex\"),t[\"skein1024-296\"]=Buffer.from(\"b385\",\"hex\"),t[\"skein1024-304\"]=Buffer.from(\"b386\",\"hex\"),t[\"skein1024-312\"]=Buffer.from(\"b387\",\"hex\"),t[\"skein1024-320\"]=Buffer.from(\"b388\",\"hex\"),t[\"skein1024-328\"]=Buffer.from(\"b389\",\"hex\"),t[\"skein1024-336\"]=Buffer.from(\"b38a\",\"hex\"),t[\"skein1024-344\"]=Buffer.from(\"b38b\",\"hex\"),t[\"skein1024-352\"]=Buffer.from(\"b38c\",\"hex\"),t[\"skein1024-360\"]=Buffer.from(\"b38d\",\"hex\"),t[\"skein1024-368\"]=Buffer.from(\"b38e\",\"hex\"),t[\"skein1024-376\"]=Buffer.from(\"b38f\",\"hex\"),t[\"skein1024-384\"]=Buffer.from(\"b390\",\"hex\"),t[\"skein1024-392\"]=Buffer.from(\"b391\",\"hex\"),t[\"skein1024-400\"]=Buffer.from(\"b392\",\"hex\"),t[\"skein1024-408\"]=Buffer.from(\"b393\",\"hex\"),t[\"skein1024-416\"]=Buffer.from(\"b394\",\"hex\"),t[\"skein1024-424\"]=Buffer.from(\"b395\",\"hex\"),t[\"skein1024-432\"]=Buffer.from(\"b396\",\"hex\"),t[\"skein1024-440\"]=Buffer.from(\"b397\",\"hex\"),t[\"skein1024-448\"]=Buffer.from(\"b398\",\"hex\"),t[\"skein1024-456\"]=Buffer.from(\"b399\",\"hex\"),t[\"skein1024-464\"]=Buffer.from(\"b39a\",\"hex\"),t[\"skein1024-472\"]=Buffer.from(\"b39b\",\"hex\"),t[\"skein1024-480\"]=Buffer.from(\"b39c\",\"hex\"),t[\"skein1024-488\"]=Buffer.from(\"b39d\",\"hex\"),t[\"skein1024-496\"]=Buffer.from(\"b39e\",\"hex\"),t[\"skein1024-504\"]=Buffer.from(\"b39f\",\"hex\"),t[\"skein1024-512\"]=Buffer.from(\"b3a0\",\"hex\"),t[\"skein1024-520\"]=Buffer.from(\"b3a1\",\"hex\"),t[\"skein1024-528\"]=Buffer.from(\"b3a2\",\"hex\"),t[\"skein1024-536\"]=Buffer.from(\"b3a3\",\"hex\"),t[\"skein1024-544\"]=Buffer.from(\"b3a4\",\"hex\"),t[\"skein1024-552\"]=Buffer.from(\"b3a5\",\"hex\"),t[\"skein1024-560\"]=Buffer.from(\"b3a6\",\"hex\"),t[\"skein1024-568\"]=Buffer.from(\"b3a7\",\"hex\"),t[\"skein1024-576\"]=Buffer.from(\"b3a8\",\"hex\"),t[\"skein1024-584\"]=Buffer.from(\"b3a9\",\"hex\"),t[\"skein1024-592\"]=Buffer.from(\"b3aa\",\"hex\"),t[\"skein1024-600\"]=Buffer.from(\"b3ab\",\"hex\"),t[\"skein1024-608\"]=Buffer.from(\"b3ac\",\"hex\"),t[\"skein1024-616\"]=Buffer.from(\"b3ad\",\"hex\"),t[\"skein1024-624\"]=Buffer.from(\"b3ae\",\"hex\"),t[\"skein1024-632\"]=Buffer.from(\"b3af\",\"hex\"),t[\"skein1024-640\"]=Buffer.from(\"b3b0\",\"hex\"),t[\"skein1024-648\"]=Buffer.from(\"b3b1\",\"hex\"),t[\"skein1024-656\"]=Buffer.from(\"b3b2\",\"hex\"),t[\"skein1024-664\"]=Buffer.from(\"b3b3\",\"hex\"),t[\"skein1024-672\"]=Buffer.from(\"b3b4\",\"hex\"),t[\"skein1024-680\"]=Buffer.from(\"b3b5\",\"hex\"),t[\"skein1024-688\"]=Buffer.from(\"b3b6\",\"hex\"),t[\"skein1024-696\"]=Buffer.from(\"b3b7\",\"hex\"),t[\"skein1024-704\"]=Buffer.from(\"b3b8\",\"hex\"),t[\"skein1024-712\"]=Buffer.from(\"b3b9\",\"hex\"),t[\"skein1024-720\"]=Buffer.from(\"b3ba\",\"hex\"),t[\"skein1024-728\"]=Buffer.from(\"b3bb\",\"hex\"),t[\"skein1024-736\"]=Buffer.from(\"b3bc\",\"hex\"),t[\"skein1024-744\"]=Buffer.from(\"b3bd\",\"hex\"),t[\"skein1024-752\"]=Buffer.from(\"b3be\",\"hex\"),t[\"skein1024-760\"]=Buffer.from(\"b3bf\",\"hex\"),t[\"skein1024-768\"]=Buffer.from(\"b3c0\",\"hex\"),t[\"skein1024-776\"]=Buffer.from(\"b3c1\",\"hex\"),t[\"skein1024-784\"]=Buffer.from(\"b3c2\",\"hex\"),t[\"skein1024-792\"]=Buffer.from(\"b3c3\",\"hex\"),t[\"skein1024-800\"]=Buffer.from(\"b3c4\",\"hex\"),t[\"skein1024-808\"]=Buffer.from(\"b3c5\",\"hex\"),t[\"skein1024-816\"]=Buffer.from(\"b3c6\",\"hex\"),t[\"skein1024-824\"]=Buffer.from(\"b3c7\",\"hex\"),t[\"skein1024-832\"]=Buffer.from(\"b3c8\",\"hex\"),t[\"skein1024-840\"]=Buffer.from(\"b3c9\",\"hex\"),t[\"skein1024-848\"]=Buffer.from(\"b3ca\",\"hex\"),t[\"skein1024-856\"]=Buffer.from(\"b3cb\",\"hex\"),t[\"skein1024-864\"]=Buffer.from(\"b3cc\",\"hex\"),t[\"skein1024-872\"]=Buffer.from(\"b3cd\",\"hex\"),t[\"skein1024-880\"]=Buffer.from(\"b3ce\",\"hex\"),t[\"skein1024-888\"]=Buffer.from(\"b3cf\",\"hex\"),t[\"skein1024-896\"]=Buffer.from(\"b3d0\",\"hex\"),t[\"skein1024-904\"]=Buffer.from(\"b3d1\",\"hex\"),t[\"skein1024-912\"]=Buffer.from(\"b3d2\",\"hex\"),t[\"skein1024-920\"]=Buffer.from(\"b3d3\",\"hex\"),t[\"skein1024-928\"]=Buffer.from(\"b3d4\",\"hex\"),t[\"skein1024-936\"]=Buffer.from(\"b3d5\",\"hex\"),t[\"skein1024-944\"]=Buffer.from(\"b3d6\",\"hex\"),t[\"skein1024-952\"]=Buffer.from(\"b3d7\",\"hex\"),t[\"skein1024-960\"]=Buffer.from(\"b3d8\",\"hex\"),t[\"skein1024-968\"]=Buffer.from(\"b3d9\",\"hex\"),t[\"skein1024-976\"]=Buffer.from(\"b3da\",\"hex\"),t[\"skein1024-984\"]=Buffer.from(\"b3db\",\"hex\"),t[\"skein1024-992\"]=Buffer.from(\"b3dc\",\"hex\"),t[\"skein1024-1000\"]=Buffer.from(\"b3dd\",\"hex\"),t[\"skein1024-1008\"]=Buffer.from(\"b3de\",\"hex\"),t[\"skein1024-1016\"]=Buffer.from(\"b3df\",\"hex\"),t[\"skein1024-1024\"]=Buffer.from(\"b3e0\",\"hex\"),t.ip4=Buffer.from(\"04\",\"hex\"),t.ip6=Buffer.from(\"29\",\"hex\"),t.tcp=Buffer.from(\"06\",\"hex\"),t.udp=Buffer.from(\"0111\",\"hex\"),t.dccp=Buffer.from(\"21\",\"hex\"),t.sctp=Buffer.from(\"84\",\"hex\"),t.udt=Buffer.from(\"012d\",\"hex\"),t.utp=Buffer.from(\"012e\",\"hex\"),t.ipfs=Buffer.from(\"01a5\",\"hex\"),t.http=Buffer.from(\"01e0\",\"hex\"),t.https=Buffer.from(\"01bb\",\"hex\"),t.quic=Buffer.from(\"01cc\",\"hex\"),t.ws=Buffer.from(\"01dd\",\"hex\"),t.onion=Buffer.from(\"01bc\",\"hex\"),t[\"p2p-circuit\"]=Buffer.from(\"0122\",\"hex\"),t[\"git-raw\"]=Buffer.from(\"78\",\"hex\"),t[\"dag-pb\"]=Buffer.from(\"70\",\"hex\"),t[\"dag-cbor\"]=Buffer.from(\"71\",\"hex\"),t[\"git-raw\"]=Buffer.from(\"78\",\"hex\"),t[\"eth-block\"]=Buffer.from(\"90\",\"hex\"),t[\"eth-block-list\"]=Buffer.from(\"91\",\"hex\"),t[\"eth-tx-trie\"]=Buffer.from(\"92\",\"hex\"),t[\"eth-tx\"]=Buffer.from(\"93\",\"hex\"),t[\"eth-tx-receipt-trie\"]=Buffer.from(\"94\",\"hex\"),t[\"eth-tx-receipt\"]=Buffer.from(\"95\",\"hex\"),t[\"eth-state-trie\"]=Buffer.from(\"96\",\"hex\"),t[\"eth-account-snapshot\"]=Buffer.from(\"97\",\"hex\"),t[\"eth-storage-trie\"]=Buffer.from(\"98\",\"hex\"),t[\"bitcoin-block\"]=Buffer.from(\"b0\",\"hex\"),t[\"bitcoin-tx\"]=Buffer.from(\"b1\",\"hex\"),t[\"zcash-block\"]=Buffer.from(\"c0\",\"hex\"),t[\"zcash-tx\"]=Buffer.from(\"c1\",\"hex\"),t[\"stellar-block\"]=Buffer.from(\"d0\",\"hex\"),t[\"stellar-tx\"]=Buffer.from(\"d1\",\"hex\"),t[\"torrent-info\"]=Buffer.from(\"7b\",\"hex\"),t[\"torrent-file\"]=Buffer.from(\"7c\",\"hex\"),t[\"ed25519-pub\"]=Buffer.from(\"ed\",\"hex\")},function(e,t,r){e.exports={encode:r(969),decode:r(968),encodingLength:r(967)}},function(e,t,r){\"use strict\";var n=r(76);e.exports=new n({include:[r(153)],implicit:[r(424),r(423),r(422),r(421)]})},function(e,t,r){\"use strict\";var n=r(76);e.exports=new n({include:[r(229)]})},function(e,t,r){\"use strict\";const n=r(232).OFFLINE_ERROR,i=r(17),s=r(2),o=r(149);function a(e){return Array.from(e).map(e=>e[1])}e.exports=function(e){return{wantlist:()=>{if(!e.isOnline())throw new Error(n);return a(e._bitswap.getWantlist())},stat:i(t=>{if(!e.isOnline())return s(()=>t(new Error(n)));const r=e._bitswap.stat().snapshot;t(null,{provideBufLen:parseInt(r.providesBufferLength.toString()),blocksReceived:new o(r.blocksReceived),wantlist:a(e._bitswap.getWantlist()),peers:e._bitswap.peers().map(e=>e.toB58String()),dupBlksReceived:new o(r.dupBlksReceived),dupDataReceived:new o(r.dupDataReceived),dataReceived:new o(r.dataReceived),blocksSent:new o(r.blocksSent),dataSent:new o(r.dataSent)})}),unwant:t=>{if(!e.isOnline())throw new Error(n)}}}},function(e,t,r){\"use strict\";t.OFFLINE_ERROR=\"This command must be run in online mode. Try running 'ipfs daemon' first.\"},function(e,t,r){\"use strict\";const n=r(40),i=n(r(453)),s=n(r(452));(t=e.exports).rpc=i,t.td=s},function(e,t,r){\"use strict\";const n=r(14),i=r(27),s=r(16);e.exports=function(e,t){let r;if(i.isPeerInfo(e))r=e;else if(s.isMultiaddr(e)){const s=e.getPeerId();try{r=t.get(s)}catch(e){r=new i(n.createFromB58String(s))}r.multiaddrs.add(e)}else{if(!n.isPeerId(e))throw new Error(\"peer type not recognized\");{const n=e.toB58String();try{r=t.get(n)}catch(e){throw new Error(\"Couldnt get PeerInfo\")}}}return r}},function(e,t,r){\"use strict\";const n=r(2);e.exports={tag:\"/plaintext/1.0.0\",encrypt:(e,t,r,i)=>(\"function\"==typeof r&&(i=r,r=void 0),n(()=>i()),t)}},function(e,t,r){\"use strict\";e.exports=r(475)},function(e,t,r){\"use strict\";const n=r(40);e.exports=n(\"\\nmessage Identify {\\n  // protocolVersion determines compatibility between peers\\n  optional string protocolVersion = 5; // e.g. ipfs/1.0.0\\n\\n  // agentVersion is like a UserAgent string in browsers, or client version in bittorrent\\n  // includes the client name and client.\\n  optional string agentVersion = 6; // e.g. go-ipfs/0.1.0\\n\\n  // publicKey is this node's public key (which also gives its node.ID)\\n  // - may not need to be sent, as secure channel implies it has been sent.\\n  // - then again, if we change / disable secure channel, may still want it.\\n  optional bytes publicKey = 1;\\n\\n  // listenAddrs are the multiaddrs the sender node listens for open connections on\\n  repeated bytes listenAddrs = 2;\\n\\n  // oservedAddr is the multiaddr of the remote endpoint that the sender node perceives\\n  // this is useful information to convey to the other side, as it helps the remote endpoint\\n  // determine whether its connection to the local peer goes through NAT.\\n  optional bytes observedAddr = 4;\\n\\n  repeated string protocols = 3;\\n}\\n\").Identify},function(e,t,r){\"use strict\";e.exports.PROTOCOL_ID=\"/multistream/1.0.0\"},function(e,t,r){\"use strict\";e.exports=function(e,t,r){r(null,e===t)}},function(e,t,r){\"use strict\";const n=r(64),i=r(33),s=r(109).writeEncoded;e.exports=function(e,t,r){const o=n({timeout:6e4},t),a=o.handshake;return r(\"writing multicodec: \"+e),s(a,Buffer.from(e+\"\\n\"),t),i.decodeFromReader(a,(n,i)=>{if(n)return t(n);const s=i.toString().slice(0,-1);if(s!==e)return t(new Error(`\"${e}\" not supported`),a.rest());r(\"received ack: \"+s),t(null,a.rest())}),o}},function(e,t,r){\"use strict\";e.exports=\"/mplex/6.7.0\"},function(e,t,r){var n=r(277);e.exports=s,e.exports.source=function(e){return s(null,e)},e.exports.sink=function(e){return s(e,null)};var i=\"undefined\"==typeof setImmediate?process.nextTick:setImmediate;function s(e,t){e&&\"object\"==typeof e&&(t=e.source,e=e.sink);var r,s,o,a=[],u=[],c=new n;c.writable=c.readable=!0,c.write=function(e){return a.length?a.shift()(null,e):u.push(e),a.length||(s=!0),!!a.length},c.end=function(){t?u.length?d():t(r=!0,a.length?a.shift():function(){}):a.length&&a.shift()(!0)},c.source=function(e,t){u.length?(t(null,u.shift()),u.length||c.emit(\"drain\")):((r=r||e)?t(r):a.push(t),s&&(s=!1,c.emit(\"drain\")))},e&&(o=e(c.source)),o&&!t&&(t=o);var f=[],l=!1,h=!1;if(c.sink=function(e){t=e,i(d)},t){c.sink(t);var p=c.pipe.bind(c);c.pipe=function(e,t){var r=p(e,t);return c.paused&&c.resume(),r}}function d(){if(!1,t&&!h){for(;f.length&&!c.paused;)c.emit(\"data\",f.shift());if(!c.paused){if(l)return c.emit(\"end\");h=!0,t(null,function e(n,i){h=!1,c.paused?(!0===n?l=n:n?c.emit(\"error\",n):f.push(i),!0):n&&!0!==(r=n)?c.emit(\"error\",n):(r=r||n)?c.emit(\"end\"):(c.emit(\"data\",i),h=!0,t(null,e))})}}}return c.pause=function(){return c.paused=!0,c},c.resume=function(){return c.paused=!1,d(),c},c.destroy=function(){!r&&t&&t(r=!0,function(){}),r=!0,a.length&&a.shift()(!0),c.emit(\"close\")},c}},function(e,t,r){\"use strict\";e.exports={InvalidRecordError:class extends Error{},NotFoundError:class extends Error{},LookupFailureError:class extends Error{}}},function(e,t,r){\"use strict\";const n=r(3),i=r(18),s=r(104),o=r(78),a=r(529),u=r(37);function c(e,t,r,n){return t._isSelf(e)?n():r.peersSeen.has(e)?n():(r.peersSeen.add(e),void r.peersToQuery.enqueue(e,n))}e.exports=class{constructor(e,t,r){this.dht=e,this.key=t,this.query=r,this.concurrency=o.ALPHA,this._log=u.logger(this.dht.peerInfo.id,\"query:\"+t.toString())}run(e,t){const r={peersSeen:new Set,errors:[],peersToQuery:null};if(0===e.length)return this._log.error(\"Running query with no peers\"),t();n([e=>a.fromKey(this.key,e),(t,n)=>{r.peersToQuery=t,i(e,(e,t)=>c(e,this.dht,r,t),n)},e=>(function(e,t,r){let n=!1;const o=s((s,a)=>{e._log(\"queue:work\"),function(e,t,r,n){t.query(e,(e,s)=>{e?(r.errors.push(e),n()):s.success?(r.res=s,n(null,!0)):s.closerPeers&&s.closerPeers.length>0?i(s.closerPeers,(e,n)=>{if(t.dht._isSelf(e.id))return n();c((e=t.dht.peerBook.put(e)).id,t.dht,r,n)},n):n()})}(s,e,t,(t,i)=>n?a():(e._log(\"queue:work:done\",t,i),t?a(t):i?(o.kill(),n=!0,r()):void a()))},e.concurrency),a=()=>{for(e._log(\"queue:fill\");o.length()<e.concurrency&&t.peersToQuery.length>0;)o.push(t.peersToQuery.dequeue())};a(),o.error=(t=>{e._log.error(\"queue\",t),r(t)}),o.drain=(()=>{e._log(\"queue:drain\"),r()}),o.unsaturated=(()=>{e._log(\"queue:unsatured\"),a()}),o.buffer=0})(this,r,e)],e=>(this._log(\"query:done\"),e?t(e):r.errors.length===r.peersSeen.size?t(r.errors[0]):r.res&&r.res.success?(r.res.finalSet=r.peersSeen,t(null,r.res)):void t(null,{finalSet:r.peersSeen})))}}},function(e,t){function r(e,t){if(e.length!==t.length)throw new Error(\"Inputs should have the same length\");for(var r=new Buffer(e.length),n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}e.exports=r,r.compare=function(e,t){if(e.length!==t.length)throw new Error(\"Inputs should have the same length\");for(var r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0},r.gt=function(e,t){return 1===r.compare(e,t)},r.lt=function(e,t){return-1===r.compare(e,t)},r.eq=function(e,t){return 0===r.compare(e,t)}},function(e,t,r){var n=r(538);e.exports=function(e,t,r){for(var i=-1,s=[],o=r?t.length:0;(i=n(e,t))>-1;)s.push(e.slice(0,i+o)),e=e.slice(i+t.length,e.length);return s.push(e),s}},function(e,t){e.exports=require(\"uuid\")},function(e,t){var r=[].slice;e.exports=function(e,t){if(\"string\"==typeof t&&(t=e[t]),\"function\"!=typeof t)throw new Error(\"bind() requires a function\");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}},function(e,t){e.exports=function(e,t,r){return e.on(t,r),{destroy:function(){e.removeListener(t,r)}}}},function(e,t,r){var n=r(165),i=r(80),s=r(548),o=r(249),a=r(248),u=r(0)(\"socket.io-client:socket\"),c=r(115),f=r(259);e.exports=p;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=i.prototype.emit;function p(e,t,r){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}i(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[o(e,\"open\",a(this,\"onopen\")),o(e,\"packet\",a(this,\"onpacket\")),o(e,\"close\",a(this,\"onclose\"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),\"open\"===this.io.readyState&&this.onopen(),this.emit(\"connecting\"),this)},p.prototype.send=function(){var e=s(arguments);return e.unshift(\"message\"),this.emit.apply(this,e),this},p.prototype.emit=function(e){if(l.hasOwnProperty(e))return h.apply(this,arguments),this;var t=s(arguments),r={type:(void 0!==this.flags.binary?this.flags.binary:f(t))?n.BINARY_EVENT:n.EVENT,data:t,options:{}};return r.options.compress=!this.flags||!1!==this.flags.compress,\"function\"==typeof t[t.length-1]&&(u(\"emitting packet with ack id %d\",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this},p.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},p.prototype.onopen=function(){if(u(\"transport is open - connecting\"),\"/\"!==this.nsp)if(this.query){var e=\"object\"==typeof this.query?c.encode(this.query):this.query;u(\"sending connect packet with query %s\",e),this.packet({type:n.CONNECT,query:e})}else this.packet({type:n.CONNECT})},p.prototype.onclose=function(e){u(\"close (%s)\",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit(\"disconnect\",e)},p.prototype.onpacket=function(e){var t=e.nsp===this.nsp,r=e.type===n.ERROR&&\"/\"===e.nsp;if(t||r)switch(e.type){case n.CONNECT:this.onconnect();break;case n.EVENT:case n.BINARY_EVENT:this.onevent(e);break;case n.ACK:case n.BINARY_ACK:this.onack(e);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit(\"error\",e.data)}},p.prototype.onevent=function(e){var t=e.data||[];u(\"emitting event %j\",t),null!=e.id&&(u(\"attaching ack callback to event\"),t.push(this.ack(e.id))),this.connected?h.apply(this,t):this.receiveBuffer.push(t)},p.prototype.ack=function(e){var t=this,r=!1;return function(){if(!r){r=!0;var i=s(arguments);u(\"sending ack %j\",i),t.packet({type:f(i)?n.BINARY_ACK:n.ACK,id:e,data:i})}}},p.prototype.onack=function(e){var t=this.acks[e.id];\"function\"==typeof t?(u(\"calling ack %s with %j\",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):u(\"bad ack %s\",e.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit(\"connect\"),this.emitBuffered()},p.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)h.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){u(\"server disconnect (%s)\",this.nsp),this.destroy(),this.onclose(\"io server disconnect\")},p.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(u(\"performing disconnect (%s)\",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose(\"io client disconnect\"),this},p.prototype.compress=function(e){return this.flags.compress=e,this},p.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=require(\"indexof\")},function(e,t,r){\"use strict\";\n/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */const n=r(8),i=r(24),s=r(113),o=r(161),a=r(253),u=r(112),c=n.Buffer;class f{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const r=e.length<1024||t.mask&&t.readOnly;var n=t.mask?6:2,s=e.length;e.length>=65536?(n+=8,s=127):e.length>125&&(n+=2,s=126);const a=c.allocUnsafe(r?e.length+n:n);if(a[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(a[0]|=64),126===s?a.writeUInt16BE(e.length,2,!0):127===s&&(a.writeUInt32BE(0,2,!0),a.writeUInt32BE(e.length,6,!0)),!t.mask)return a[1]=s,r?(e.copy(a,n),[a]):[a,e];const u=i.randomBytes(4);return a[1]=128|s,a[n-4]=u[0],a[n-3]=u[1],a[n-2]=u[2],a[n-1]=u[3],r?(o.mask(e,u,a,n,e.length),[a]):(o.mask(e,u,e,0,e.length),[a,e])}close(e,t,r,n){var i;if(void 0===e)e=1e3;else if(\"number\"!=typeof e||!a.isValidErrorCode(e))throw new Error(\"first argument must be a valid error code number\");void 0===t||\"\"===t?1e3===e?i=u.EMPTY_BUFFER:(i=c.allocUnsafe(2)).writeUInt16BE(e,0,!0):((i=c.allocUnsafe(2+c.byteLength(t))).writeUInt16BE(e,0,!0),i.write(t,2)),this._deflating?this.enqueue([this.doClose,i,r,n]):this.doClose(i,r,n)}doClose(e,t,r){this.sendFrame(f.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),r)}ping(e,t){var r=!0;c.isBuffer(e)||(e instanceof ArrayBuffer?e=c.from(e):ArrayBuffer.isView(e)?e=l(e):(e=c.from(e),r=!1)),this._deflating?this.enqueue([this.doPing,e,t,r]):this.doPing(e,t,r)}doPing(e,t,r){this.sendFrame(f.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:r}))}pong(e,t){var r=!0;c.isBuffer(e)||(e instanceof ArrayBuffer?e=c.from(e):ArrayBuffer.isView(e)?e=l(e):(e=c.from(e),r=!1)),this._deflating?this.enqueue([this.doPong,e,t,r]):this.doPong(e,t,r)}doPong(e,t,r){this.sendFrame(f.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:r}))}send(e,t,r){var n=t.binary?2:1,i=t.compress,o=!0;c.isBuffer(e)||(e instanceof ArrayBuffer?e=c.from(e):ArrayBuffer.isView(e)?e=l(e):(e=c.from(e),o=!1));const a=this._extensions[s.extensionName];if(this._firstFragment?(this._firstFragment=!1,i&&a&&(i=e.length>=a._threshold),this._compress=i):(i=!1,n=0),t.fin&&(this._firstFragment=!0),a){const s={fin:t.fin,rsv1:i,opcode:n,mask:t.mask,readOnly:o};this._deflating?this.enqueue([this.dispatch,e,this._compress,s,r]):this.dispatch(e,this._compress,s,r)}else this.sendFrame(f.frame(e,{fin:t.fin,rsv1:!1,opcode:n,mask:t.mask,readOnly:o}),r)}dispatch(e,t,r,n){if(!t)return void this.sendFrame(f.frame(e,r),n);const i=this._extensions[s.extensionName];this._deflating=!0,i.compress(e,r.fin,(e,t)=>{r.readOnly=!1,this.sendFrame(f.frame(t,r),n),this._deflating=!1,this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,e[0].apply(this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.write(e[0]),this._socket.write(e[1],t)):this._socket.write(e[0],t)}}function l(e){const t=c.from(e.buffer);return e.byteLength!==e.buffer.byteLength?t.slice(e.byteOffset,e.byteOffset+e.byteLength):t}e.exports=f},function(e,t,r){\"use strict\";\n/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */e.exports={isValidErrorCode:function(e){return e>=1e3&&e<=1013&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},1000:\"normal\",1001:\"going away\",1002:\"protocol error\",1003:\"unsupported data\",1004:\"reserved\",1005:\"reserved for extensions\",1006:\"reserved for extensions\",1007:\"inconsistent or invalid data\",1008:\"policy violation\",1009:\"message too big\",1010:\"extension handshake missing\",1011:\"an unexpected condition prevented the request from being fulfilled\",1012:\"service restart\",1013:\"try again later\"}},function(e,t,r){\"use strict\";\n/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */const n=r(8),i=r(113),s=r(550),o=r(161),a=r(253),u=r(112),c=n.Buffer,f=0,l=1,h=2,p=3,d=4,y=5;function m(e,t){return 1===e.length?e[0]:e.length>1?o.concat(e,t):u.EMPTY_BUFFER}e.exports=class{constructor(e,t,r){this._binaryType=r||u.BINARY_TYPES[0],this._extensions=e||{},this._maxPayload=0|t,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._fragmented=0,this._masked=!1,this._fin=!1,this._mask=null,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._cleanupCallback=null,this._hadError=!1,this._dead=!1,this._loop=!1,this.onmessage=null,this.onclose=null,this.onerror=null,this.onping=null,this.onpong=null,this._state=f}readBuffer(e){var t,r,n=0;if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length)return t=this._buffers[0].slice(0,e),this._buffers[0]=this._buffers[0].slice(e),t;for(t=c.allocUnsafe(e);e>0;)e>=(r=this._buffers[0].length)?(this._buffers[0].copy(t,n),n+=r,this._buffers.shift()):(this._buffers[0].copy(t,n,0,e),this._buffers[0]=this._buffers[0].slice(e)),e-=r;return t}hasBufferedBytes(e){return this._bufferedBytes>=e||(this._loop=!1,this._dead&&this.cleanup(this._cleanupCallback),!1)}add(e){this._dead||(this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop())}startLoop(){for(this._loop=!0;this._loop;)switch(this._state){case f:this.getInfo();break;case l:this.getPayloadLength16();break;case h:this.getPayloadLength64();break;case p:this.getMask();break;case d:this.getData();break;default:this._loop=!1}}getInfo(){if(!this.hasBufferedBytes(2))return;const e=this.readBuffer(2);if(0!=(48&e[0]))return void this.error(new Error(\"RSV2 and RSV3 must be clear\"),1002);const t=64==(64&e[0]);if(!t||this._extensions[i.extensionName]){if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return void this.error(new Error(\"RSV1 must be clear\"),1002);if(!this._fragmented)return void this.error(new Error(`invalid opcode: ${this._opcode}`),1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return void this.error(new Error(`invalid opcode: ${this._opcode}`),1002);this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return void this.error(new Error(`invalid opcode: ${this._opcode}`),1002);if(!this._fin)return void this.error(new Error(\"FIN must be set\"),1002);if(t)return void this.error(new Error(\"RSV1 must be clear\"),1002);if(this._payloadLength>125)return void this.error(new Error(\"invalid payload length\"),1002)}this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),126===this._payloadLength?this._state=l:127===this._payloadLength?this._state=h:this.haveLength()}else this.error(new Error(\"RSV1 must be clear\"),1002)}getPayloadLength16(){this.hasBufferedBytes(2)&&(this._payloadLength=this.readBuffer(2).readUInt16BE(0,!0),this.haveLength())}getPayloadLength64(){if(!this.hasBufferedBytes(8))return;const e=this.readBuffer(8),t=e.readUInt32BE(0,!0);t>Math.pow(2,21)-1?this.error(new Error(\"max payload size exceeded\"),1009):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4,!0),this.haveLength())}haveLength(){this._opcode<8&&this.maxPayloadExceeded(this._payloadLength)||(this._masked?this._state=p:this._state=d)}getMask(){this.hasBufferedBytes(4)&&(this._mask=this.readBuffer(4),this._state=d)}getData(){var e=u.EMPTY_BUFFER;if(this._payloadLength){if(!this.hasBufferedBytes(this._payloadLength))return;e=this.readBuffer(this._payloadLength),this._masked&&o.unmask(e,this._mask)}this._opcode>7?this.controlMessage(e):this._compressed?(this._state=y,this.decompress(e)):this.pushFragment(e)&&this.dataMessage()}decompress(e){this._extensions[i.extensionName].decompress(e,this._fin,(e,t)=>{e?this.error(e,1009===e.closeCode?1009:1007):(this.pushFragment(t)&&this.dataMessage(),this.startLoop())})}dataMessage(){if(this._fin){const r=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){var e;e=\"nodebuffer\"===this._binaryType?m(n,r):\"arraybuffer\"===this._binaryType?0===(t=m(n,r)).byteOffset&&t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength):n,this.onmessage(e)}else{const e=m(n,r);if(!s(e))return void this.error(new Error(\"invalid utf8 sequence\"),1007);this.onmessage(e.toString())}}var t;this._state=f}controlMessage(e){if(8!==this._opcode)9===this._opcode?this.onping(e):this.onpong(e),this._state=f;else if(0===e.length)this.onclose(1e3,\"\"),this._loop=!1,this.cleanup(this._cleanupCallback);else if(1===e.length)this.error(new Error(\"invalid payload length\"),1002);else{const t=e.readUInt16BE(0,!0);if(!a.isValidErrorCode(t))return void this.error(new Error(`invalid status code: ${t}`),1002);const r=e.slice(2);if(!s(r))return void this.error(new Error(\"invalid utf8 sequence\"),1007);this.onclose(t,r.toString()),this._loop=!1,this.cleanup(this._cleanupCallback)}}error(e,t){this.onerror(e,t),this._hadError=!0,this._loop=!1,this.cleanup(this._cleanupCallback)}maxPayloadExceeded(e){if(0===e||this._maxPayload<1)return!1;const t=this._totalPayloadLength+e;return t<=this._maxPayload?(this._totalPayloadLength=t,!1):(this.error(new Error(\"max payload size exceeded\"),1009),!0)}pushFragment(e){if(0===e.length)return!0;const t=this._messageLength+e.length;return this._maxPayload<1||t<=this._maxPayload?(this._messageLength=t,this._fragments.push(e),!0):(this.error(new Error(\"max payload size exceeded\"),1009),!1)}cleanup(e){this._dead=!0,this._hadError||!this._loop&&this._state!==y?(this._extensions=null,this._fragments=null,this._buffers=null,this._mask=null,this._cleanupCallback=null,this.onmessage=null,this.onclose=null,this.onerror=null,this.onping=null,this.onpong=null,e&&e()):this._cleanupCallback=e}}},function(e,t,r){\"use strict\";const n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function i(e,t,r){Object.prototype.hasOwnProperty.call(e,t)?e[t].push(r):e[t]=[r]}e.exports={format:function(e){return Object.keys(e).map(t=>{var r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>[t].concat(Object.keys(e).map(t=>{var r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>!0===e?t:`${t}=${e}`).join(\"; \")})).join(\"; \")).join(\", \")}).join(\", \")},parse:function(e){const t={};if(void 0===e||\"\"===e)return t;for(var r,s,o={},a=!1,u=!1,c=!1,f=-1,l=-1,h=0;h<e.length;h++){const d=e.charCodeAt(h);if(void 0===r)if(-1===l&&1===n[d])-1===f&&(f=h);else if(32===d||9===d)-1===l&&-1!==f&&(l=h);else{if(59!==d&&44!==d)throw new Error(`unexpected character at index ${h}`);{if(-1===f)throw new Error(`unexpected character at index ${h}`);-1===l&&(l=h);const n=e.slice(f,l);44===d?(i(t,n,o),o={}):r=n,f=l=-1}}else if(void 0===s)if(-1===l&&1===n[d])-1===f&&(f=h);else if(32===d||9===d)-1===l&&-1!==f&&(l=h);else if(59===d||44===d){if(-1===f)throw new Error(`unexpected character at index ${h}`);-1===l&&(l=h),i(o,e.slice(f,l),!0),44===d&&(i(t,r,o),o={},r=void 0),f=l=-1}else{if(61!==d||-1===f||-1!==l)throw new Error(`unexpected character at index ${h}`);s=e.slice(f,h),f=l=-1}else if(u){if(1!==n[d])throw new Error(`unexpected character at index ${h}`);-1===f?f=h:a||(a=!0),u=!1}else if(c)if(1===n[d])-1===f&&(f=h);else if(34===d&&-1!==f)c=!1,l=h;else{if(92!==d)throw new Error(`unexpected character at index ${h}`);u=!0}else if(34===d&&61===e.charCodeAt(h-1))c=!0;else if(-1===l&&1===n[d])-1===f&&(f=h);else if(-1===f||32!==d&&9!==d){if(59!==d&&44!==d)throw new Error(`unexpected character at index ${h}`);if(-1===f)throw new Error(`unexpected character at index ${h}`);-1===l&&(l=h);var p=e.slice(f,l);a&&(p=p.replace(/\\\\/g,\"\"),a=!1),i(o,s,p),44===d&&(i(t,r,o),o={},r=void 0),s=void 0,f=l=-1}else-1===l&&(l=h)}if(-1===f||c)throw new Error(\"unexpected end of input\");-1===l&&(l=h);const d=e.slice(f,l);return void 0===r?i(t,d,{}):(void 0===s?i(o,d,!0):i(o,s,a?d.replace(/\\\\/g,\"\"):d),i(t,r,o)),t}}},function(e,t,r){\"use strict\";var n=Object.prototype.hasOwnProperty,i=0;function s(e){if(!(this instanceof s))return new s(e);this.id=i++,this.ee=e}s.prototype.on=function(e,t,r){return t.__ultron=this.id,this.ee.on(e,t,r),this},s.prototype.once=function(e,t,r){return t.__ultron=this.id,this.ee.once(e,t,r),this},s.prototype.remove=function(){var e,t=arguments,r=this.ee;if(1===t.length&&\"string\"==typeof t[0])t=t[0].split(/[, ]+/);else if(!t.length)if(r.eventNames)t=r.eventNames();else if(r._events){for(e in t=[],r._events)n.call(r._events,e)&&t.push(e);Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r._events)))}for(var i=0;i<t.length;i++)for(var s=r.listeners(t[i]),o=0;o<s.length;o++){if((e=s[o]).listener){if(e.listener.__ultron!==this.id)continue}else if(e.__ultron!==this.id)continue;r.removeListener(t[i],e)}return this},s.prototype.destroy=function(){return!!this.ee&&(this.remove(),this.ee=null,!0)},e.exports=s},function(e,t,r){\"use strict\";\n/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */const n=r(11),i=r(24),s=r(256),o=r(117),a=r(81),u=r(51),c=r(113),f=r(551),l=r(255),h=r(112),p=r(254),d=r(252),y=[8,13],m=3e4;class g extends n{constructor(e,t,r){super(),t?\"string\"==typeof t?t=[t]:Array.isArray(t)||(r=t,t=[]):t=[],this.readyState=g.CONNECTING,this.bytesReceived=0,this.extensions={},this.protocol=\"\",this._binaryType=h.BINARY_TYPES[0],this._finalize=this.finalize.bind(this),this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=\"\",this._closeTimer=null,this._finalized=!1,this._closeCode=1006,this._receiver=null,this._sender=null,this._socket=null,this._ultron=null,Array.isArray(e)?function(e,t,r){this.protocolVersion=r.protocolVersion,this._maxPayload=r.maxPayload,this.extensions=r.extensions,this.protocol=r.protocol,this._isServer=!0,this.setSocket(e,t)}.call(this,e[0],e[1],r):function(e,t,r){if(r=Object.assign({protocolVersion:y[1],protocol:t.join(\",\"),perMessageDeflate:!0,handshakeTimeout:null,localAddress:null,headers:null,family:null,origin:null,agent:null,host:null,checkServerIdentity:null,rejectUnauthorized:null,passphrase:null,ciphers:null,ecdhCurve:null,cert:null,key:null,pfx:null,ca:null},r),-1===y.indexOf(r.protocolVersion))throw new Error(`unsupported protocol version: ${r.protocolVersion} `+`(supported versions: ${y.join(\", \")})`);this.protocolVersion=r.protocolVersion,this._isServer=!1,this.url=e;const n=u.parse(e),s=\"ws+unix:\"===n.protocol;if(!(n.host||s&&n.path))throw new Error(\"invalid url\");const f=\"wss:\"===n.protocol||\"https:\"===n.protocol,p=i.randomBytes(16).toString(\"base64\"),d=f?o:a;var m;const v={port:n.port||(f?443:80),host:n.hostname,path:\"/\",headers:{\"Sec-WebSocket-Version\":r.protocolVersion,\"Sec-WebSocket-Key\":p,Connection:\"Upgrade\",Upgrade:\"websocket\"}};r.headers&&Object.assign(v.headers,r.headers);r.perMessageDeflate&&(m=new c(!0!==r.perMessageDeflate?r.perMessageDeflate:{},!1),v.headers[\"Sec-WebSocket-Extensions\"]=l.format({[c.extensionName]:m.offer()}));r.protocol&&(v.headers[\"Sec-WebSocket-Protocol\"]=r.protocol);r.origin&&(r.protocolVersion<13?v.headers[\"Sec-WebSocket-Origin\"]=r.origin:v.headers.Origin=r.origin);r.host&&(v.headers.Host=r.host);n.auth&&(v.auth=n.auth);r.localAddress&&(v.localAddress=r.localAddress);r.family&&(v.family=r.family);if(s){const e=n.path.split(\":\");v.socketPath=e[0],v.path=e[1]}else n.path&&(\"/\"!==n.path.charAt(0)?v.path=`/${n.path}`:v.path=n.path);var b=r.agent;(null!=r.rejectUnauthorized||r.checkServerIdentity||r.passphrase||r.ciphers||r.ecdhCurve||r.cert||r.key||r.pfx||r.ca)&&(r.passphrase&&(v.passphrase=r.passphrase),r.ciphers&&(v.ciphers=r.ciphers),r.ecdhCurve&&(v.ecdhCurve=r.ecdhCurve),r.cert&&(v.cert=r.cert),r.key&&(v.key=r.key),r.pfx&&(v.pfx=r.pfx),r.ca&&(v.ca=r.ca),r.checkServerIdentity&&(v.checkServerIdentity=r.checkServerIdentity),null!=r.rejectUnauthorized&&(v.rejectUnauthorized=r.rejectUnauthorized),b||(b=new d.Agent(v)));b&&(v.agent=b);this._req=d.get(v),r.handshakeTimeout&&this._req.setTimeout(r.handshakeTimeout,()=>{this._req.abort(),this.finalize(new Error(\"opening handshake has timed out\"))});this._req.on(\"error\",e=>{this._req.aborted||(this._req=null,this.finalize(e))}),this._req.on(\"response\",e=>{this.emit(\"unexpected-response\",this._req,e)||(this._req.abort(),this.finalize(new Error(`unexpected server response (${e.statusCode})`)))}),this._req.on(\"upgrade\",(e,t,n)=>{if(this.emit(\"headers\",e.headers,e),this.readyState!==g.CONNECTING)return;this._req=null;const s=i.createHash(\"sha1\").update(p+h.GUID,\"binary\").digest(\"base64\");if(e.headers[\"sec-websocket-accept\"]!==s)return t.destroy(),this.finalize(new Error(\"invalid server key\"));const o=e.headers[\"sec-websocket-protocol\"],a=(r.protocol||\"\").split(/, */);var u;if(!r.protocol&&o?u=\"server sent a subprotocol even though none requested\":r.protocol&&!o?u=\"server sent no subprotocol even though requested\":o&&-1===a.indexOf(o)&&(u=\"server responded with an invalid protocol\"),u)return t.destroy(),this.finalize(new Error(u));if(o&&(this.protocol=o),m)try{const r=l.parse(e.headers[\"sec-websocket-extensions\"]);r[c.extensionName]&&(m.accept(r[c.extensionName]),this.extensions[c.extensionName]=m)}catch(e){return t.destroy(),void this.finalize(new Error(\"invalid Sec-WebSocket-Extensions header\"))}this.setSocket(t,n)})}.call(this,e,t,r)}get CONNECTING(){return g.CONNECTING}get CLOSING(){return g.CLOSING}get CLOSED(){return g.CLOSED}get OPEN(){return g.OPEN}get bufferedAmount(){var e=0;return this._socket&&(e=this._socket.bufferSize+this._sender._bufferedBytes),e}get binaryType(){return this._binaryType}set binaryType(e){h.BINARY_TYPES.indexOf(e)<0||(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}setSocket(e,t){e.setTimeout(0),e.setNoDelay(),this._receiver=new p(this.extensions,this._maxPayload,this.binaryType),this._sender=new d(e,this.extensions),this._ultron=new s(e),this._socket=e,this._ultron.on(\"close\",this._finalize),this._ultron.on(\"error\",this._finalize),this._ultron.on(\"end\",this._finalize),t.length>0&&e.unshift(t),this._ultron.on(\"data\",e=>{this.bytesReceived+=e.length,this._receiver.add(e)}),this._receiver.onmessage=(e=>this.emit(\"message\",e)),this._receiver.onping=(e=>{this.pong(e,!this._isServer,!0),this.emit(\"ping\",e)}),this._receiver.onpong=(e=>this.emit(\"pong\",e)),this._receiver.onclose=((e,t)=>{this._closeFrameReceived=!0,this._closeMessage=t,this._closeCode=e,this._finalized||this.close(e,t)}),this._receiver.onerror=((e,t)=>{this._closeMessage=\"\",this._closeCode=t,this.readyState=g.CLOSING,this.emit(\"error\",e),this.finalize(!0)}),this.readyState=g.OPEN,this.emit(\"open\")}finalize(e){if(!this._finalized){if(this.readyState=g.CLOSING,this._finalized=!0,\"object\"==typeof e&&this.emit(\"error\",e),!this._socket)return this.emitClose();clearTimeout(this._closeTimer),this._closeTimer=null,this._ultron.destroy(),this._ultron=null,this._socket.on(\"error\",h.NOOP),e?this._socket.destroy():this._socket.end(),this._socket=null,this._sender=null,this._receiver.cleanup(()=>this.emitClose()),this._receiver=null}}emitClose(){this.readyState=g.CLOSED,this.emit(\"close\",this._closeCode,this._closeMessage),this.extensions[c.extensionName]&&this.extensions[c.extensionName].cleanup(),this.extensions=null,this.removeAllListeners()}pause(){if(this.readyState!==g.OPEN)throw new Error(\"not opened\");this._socket.pause()}resume(){if(this.readyState!==g.OPEN)throw new Error(\"not opened\");this._socket.resume()}close(e,t){if(this.readyState!==g.CLOSED)return this.readyState===g.CONNECTING?(this._req.abort(),void this.finalize(new Error(\"closed before the connection is established\"))):void(this.readyState!==g.CLOSING?(this.readyState=g.CLOSING,this._sender.close(e,t,!this._isServer,e=>{e||(this._closeFrameSent=!0,this._finalized||(this._closeFrameReceived&&this._socket.end(),this._closeTimer=setTimeout(this._finalize,m,!0)))})):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end())}ping(e,t,r){if(this.readyState!==g.OPEN){if(r)return;throw new Error(\"not opened\")}\"number\"==typeof e&&(e=e.toString()),void 0===t&&(t=!this._isServer),this._sender.ping(e||h.EMPTY_BUFFER,t)}pong(e,t,r){if(this.readyState!==g.OPEN){if(r)return;throw new Error(\"not opened\")}\"number\"==typeof e&&(e=e.toString()),void 0===t&&(t=!this._isServer),this._sender.pong(e||h.EMPTY_BUFFER,t)}send(e,t,r){if(\"function\"==typeof t&&(r=t,t={}),this.readyState!==g.OPEN){if(!r)throw new Error(\"not opened\");return void r(new Error(\"not opened\"))}\"number\"==typeof e&&(e=e.toString());const n=Object.assign({binary:\"string\"!=typeof e,mask:!this._isServer,compress:!0,fin:!0},t);this.extensions[c.extensionName]||(n.compress=!1),this._sender.send(e||h.EMPTY_BUFFER,n,r)}terminate(){if(this.readyState!==g.CLOSED)return this.readyState===g.CONNECTING?(this._req.abort(),void this.finalize(new Error(\"closed before the connection is established\"))):void this.finalize(!0)}}g.CONNECTING=0,g.OPEN=1,g.CLOSING=2,g.CLOSED=3,[\"open\",\"error\",\"close\",\"message\"].forEach(e=>{Object.defineProperty(g.prototype,`on${e}`,{get(){const t=this.listeners(e);for(var r=0;r<t.length;r++)if(t[r]._listener)return t[r]._listener},set(t){const r=this.listeners(e);for(var n=0;n<r.length;n++)r[n]._listener&&this.removeListener(e,r[n]);this.addEventListener(e,t)}})}),g.prototype.addEventListener=f.addEventListener,g.prototype.removeEventListener=f.removeEventListener,e.exports=g},function(e,t,r){\"use strict\";var n,i=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_\".split(\"\"),s=64,o={},a=0,u=0;function c(e){var t=\"\";do{t=i[e%s]+t,e=Math.floor(e/s)}while(e>0);return t}function f(){var e=c(+new Date);return e!==n?(a=0,n=e):e+\".\"+c(a++)}for(;u<s;u++)o[i[u]]=u;f.encode=c,f.decode=function(e){var t=0;for(u=0;u<e.length;u++)t=t*s+o[e.charAt(u)];return t},e.exports=f},function(e,t,r){var n=r(164),i=Object.prototype.toString,s=\"function\"==typeof Blob||\"undefined\"!=typeof Blob&&\"[object BlobConstructor]\"===i.call(Blob),o=\"function\"==typeof File||\"undefined\"!=typeof File&&\"[object FileConstructor]\"===i.call(File);e.exports=function e(t){if(!t||\"object\"!=typeof t)return!1;if(n(t)){for(var r=0,i=t.length;r<i;r++)if(e(t[r]))return!0;return!1}if(\"function\"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||\"function\"==typeof ArrayBuffer&&t instanceof ArrayBuffer||s&&t instanceof Blob||o&&t instanceof File)return!0;if(t.toJSON&&\"function\"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&e(t[a]))return!0;return!1}},function(e,t,r){var n=r(162),i=r(115),s=r(79),o=r(114),a=r(258),u=r(0)(\"engine.io-client:polling\");e.exports=f;var c=null!=new(r(163))({xdomain:!1}).responseType;function f(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),n.call(this,e)}o(f,n),f.prototype.name=\"polling\",f.prototype.doOpen=function(){this.poll()},f.prototype.pause=function(e){var t=this;function r(){u(\"paused\"),t.readyState=\"paused\",e()}if(this.readyState=\"pausing\",this.polling||!this.writable){var n=0;this.polling&&(u(\"we are currently polling - waiting to pause\"),n++,this.once(\"pollComplete\",function(){u(\"pre-pause polling complete\"),--n||r()})),this.writable||(u(\"we are currently writing - waiting to pause\"),n++,this.once(\"drain\",function(){u(\"pre-pause writing complete\"),--n||r()}))}else r()},f.prototype.poll=function(){u(\"polling\"),this.polling=!0,this.doPoll(),this.emit(\"poll\")},f.prototype.onData=function(e){var t=this;u(\"polling got data %s\",e);s.decodePayload(e,this.socket.binaryType,function(e,r,n){if(\"opening\"===t.readyState&&t.onOpen(),\"close\"===e.type)return t.onClose(),!1;t.onPacket(e)}),\"closed\"!==this.readyState&&(this.polling=!1,this.emit(\"pollComplete\"),\"open\"===this.readyState?this.poll():u('ignoring poll - transport state \"%s\"',this.readyState))},f.prototype.doClose=function(){var e=this;function t(){u(\"writing close packet\"),e.write([{type:\"close\"}])}\"open\"===this.readyState?(u(\"transport open - closing\"),t()):(u(\"transport not open - deferring close\"),this.once(\"open\",t))},f.prototype.write=function(e){var t=this;this.writable=!1;var r=function(){t.writable=!0,t.emit(\"drain\")};s.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,r)})},f.prototype.uri=function(){var e=this.query||{},t=this.secure?\"https\":\"http\",r=\"\";return!1!==this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&(\"https\"===t&&443!==Number(this.port)||\"http\"===t&&80!==Number(this.port))&&(r=\":\"+this.port),e.length&&(e=\"?\"+e),t+\"://\"+(-1!==this.hostname.indexOf(\":\")?\"[\"+this.hostname+\"]\":this.hostname)+r+this.path+e}},function(e,t,r){var n=r(163),i=r(559),s=r(555),o=r(554);t.polling=function(e){var t=!1,r=!1,o=!1!==e.jsonp;if(global.location){var a=\"https:\"===location.protocol,u=location.port;u||(u=a?443:80),t=e.hostname!==location.hostname||u!==e.port,r=e.secure!==a}if(e.xdomain=t,e.xscheme=r,\"open\"in new n(e)&&!e.forceJSONP)return new i(e);if(!o)throw new Error(\"JSONP disabled\");return new s(e)},t.websocket=o},function(e,t,r){var n=r(561),i=r(250),s=r(80),o=r(165),a=r(249),u=r(248),c=r(0)(\"socket.io-client:manager\"),f=r(251),l=r(547),h=Object.prototype.hasOwnProperty;function p(e,t){if(!(this instanceof p))return new p(e,t);e&&\"object\"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||\"/socket.io\",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new l({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState=\"closed\",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=t.parser||o;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=p,p.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},p.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},p.prototype.generateId=function(e){return(\"/\"===e?\"\":e+\"#\")+this.engine.id},s(p.prototype),p.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},p.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},p.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(e,t){if(c(\"readyState %s\",this.readyState),~this.readyState.indexOf(\"open\"))return this;c(\"opening %s\",this.uri),this.engine=n(this.uri,this.opts);var r=this.engine,i=this;this.readyState=\"opening\",this.skipReconnect=!1;var s=a(r,\"open\",function(){i.onopen(),e&&e()}),o=a(r,\"error\",function(t){if(c(\"connect_error\"),i.cleanup(),i.readyState=\"closed\",i.emitAll(\"connect_error\",t),e){var r=new Error(\"Connection error\");r.data=t,e(r)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var u=this._timeout;c(\"connect attempt will timeout after %d\",u);var f=setTimeout(function(){c(\"connect attempt timed out after %d\",u),s.destroy(),r.close(),r.emit(\"error\",\"timeout\"),i.emitAll(\"connect_timeout\",u)},u);this.subs.push({destroy:function(){clearTimeout(f)}})}return this.subs.push(s),this.subs.push(o),this},p.prototype.onopen=function(){c(\"open\"),this.cleanup(),this.readyState=\"open\",this.emit(\"open\");var e=this.engine;this.subs.push(a(e,\"data\",u(this,\"ondata\"))),this.subs.push(a(e,\"ping\",u(this,\"onping\"))),this.subs.push(a(e,\"pong\",u(this,\"onpong\"))),this.subs.push(a(e,\"error\",u(this,\"onerror\"))),this.subs.push(a(e,\"close\",u(this,\"onclose\"))),this.subs.push(a(this.decoder,\"decoded\",u(this,\"ondecoded\")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll(\"ping\")},p.prototype.onpong=function(){this.emitAll(\"pong\",new Date-this.lastPing)},p.prototype.ondata=function(e){this.decoder.add(e)},p.prototype.ondecoded=function(e){this.emit(\"packet\",e)},p.prototype.onerror=function(e){c(\"error\",e),this.emitAll(\"error\",e)},p.prototype.socket=function(e,t){var r=this.nsps[e];if(!r){r=new i(this,e,t),this.nsps[e]=r;var n=this;r.on(\"connecting\",s),r.on(\"connect\",function(){r.id=n.generateId(e)}),this.autoConnect&&s()}function s(){~f(n.connecting,r)||n.connecting.push(r)}return r},p.prototype.destroy=function(e){var t=f(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},p.prototype.packet=function(e){c(\"writing packet %j\",e);var t=this;e.query&&0===e.type&&(e.nsp+=\"?\"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(r){for(var n=0;n<r.length;n++)t.engine.write(r[n],e.options);t.encoding=!1,t.processPacketQueue()}))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},p.prototype.cleanup=function(){c(\"cleanup\");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){c(\"disconnect\"),this.skipReconnect=!0,this.reconnecting=!1,\"opening\"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState=\"closed\",this.engine&&this.engine.close()},p.prototype.onclose=function(e){c(\"onclose\"),this.cleanup(),this.backoff.reset(),this.readyState=\"closed\",this.emit(\"close\",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c(\"reconnect failed\"),this.backoff.reset(),this.emitAll(\"reconnect_failed\"),this.reconnecting=!1;else{var t=this.backoff.duration();c(\"will wait %dms before reconnect attempt\",t),this.reconnecting=!0;var r=setTimeout(function(){e.skipReconnect||(c(\"attempting reconnect\"),e.emitAll(\"reconnect_attempt\",e.backoff.attempts),e.emitAll(\"reconnecting\",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(c(\"reconnect attempt error\"),e.reconnecting=!1,e.reconnect(),e.emitAll(\"reconnect_error\",t.data)):(c(\"reconnect success\"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(r)}})}},p.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll(\"reconnect\",e)}},function(e,t){e.exports=function(e){return r&&global.Buffer.isBuffer(e)||n&&(e instanceof global.ArrayBuffer||i(e))};var r=\"function\"==typeof global.Buffer&&\"function\"==typeof global.Buffer.isBuffer,n=\"function\"==typeof global.ArrayBuffer,i=n&&\"function\"==typeof global.ArrayBuffer.isView?global.ArrayBuffer.isView:function(e){return e.buffer instanceof global.ArrayBuffer}},function(e,t){var r=/^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/,n=[\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"];e.exports=function(e){var t=e,i=e.indexOf(\"[\"),s=e.indexOf(\"]\");-1!=i&&-1!=s&&(e=e.substring(0,i)+e.substring(i,s).replace(/:/g,\";\")+e.substring(s,e.length));for(var o=r.exec(e||\"\"),a={},u=14;u--;)a[n[u]]=o[u]||\"\";return-1!=i&&-1!=s&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,\":\"),a.authority=a.authority.replace(\"[\",\"\").replace(\"]\",\"\").replace(/;/g,\":\"),a.ipv6uri=!0),a}},function(e,t,r){\"use strict\";const n=r(16),i=r(14),s=r(49),o=r(60);const a={string:e=>\"string\"==typeof e,object:e=>\"object\"==typeof e,multiaddr:e=>{if(a.string(e))try{return n(e),!0}catch(e){return!1}},function:e=>\"function\"==typeof e};function u(e,t){if(!Array.isArray(t))throw new Error(\"Data is not an array\");e.forEach((e,r)=>{if(!a[e])throw console.error(\"Type %s does not exist\",e),new Error(\"Type \"+e+\" does not exist\");if(!a[e](t[r]))throw new Error(\"Data at index \"+r+\" is invalid for type \"+e)})}(t=e.exports).cleanUrlSIO=function(e){const t=e.protos(),r=t[0].name,n=t[1].name,i=t[2].name,s=e.stringTuples(),o=s[1][1];if(\"tcp\"!==n||\"ws\"!==i&&\"wss\"!==i)throw new Error(\"invalid multiaddr: \"+e.toString());let a=s[0][1];\"ip6\"===r&&(a=\"[\"+a+\"]\");let u=\"ws\"===i&&80===o||\"wss\"===i&&443===o?\"\":o;return(\"wss\"===i?\"https\":\"http\")+\"://\"+a+(u?\":\"+u:\"\")},t.validate=u,t.Protocol=function(e){e||(e=(()=>{}));const t=this;t.requests={},t.addRequest=((e,r,n)=>{t.requests[e]={def:r,handle:n}}),t.handleSocket=(r=>{r.r={},Object.keys(t.requests).forEach(n=>{const i=t.requests[n];r.on(n,function(){const t=[...arguments];try{u(i.def,t),t.unshift(r),i.handle.apply(null,t)}catch(i){e(i),e(\"peer %s has sent invalid data for request %s\",r.id||\"<server>\",n,t)}})})})},t.getIdAndValidate=function(e,t,r){i.createFromPubKey(Buffer.from(e,\"hex\"),(n,i)=>n?r(new Error(\"Crypto error\")):i.toB58String()!==t?r(new Error(\"Id is not matching\")):r(null,s.keys.unmarshalPublicKey(Buffer.from(e,\"hex\"))))},t.validateMa=(e=>o.WebSocketStar.matches(n(e)))},function(e,t,r){var n=r(567),i=r(279),s=(r(51),r(81)),o=r(117),a=r(11).EventEmitter;e.exports=i.Server?function(e,t){var r=new a;function u(e,t){return e.on(t,function(){var e=[].slice.call(arguments);e.unshift(t),r.emit.apply(r,e)})}\"function\"==typeof e&&(t=e,e=null),e=e||{},t&&r.on(\"connection\",t);var c=e.server||(e.key&&e.cert?o.createServer(e):s.createServer()),f=new i.Server({server:c,perMessageDeflate:!1,verifyClient:e.verifyClient});return u(c,\"listening\"),u(c,\"request\"),u(c,\"close\"),f.on(\"connection\",function(e){var t=n(e);t.remoteAddress=e.upgradeReq.socket.remoteAddress,r.emit(\"connection\",t)}),r.listen=function(e,t){return t&&r.once(\"listening\",t),c.listen(e.port||e),r},r.close=function(e){return c.close(e),f.close(),r},r.address=c.address.bind(c),r}:null},function(e,t,r){var n=r(572),i=\"undefined\"!=typeof setImmediate?setImmediate:process.nextTick;e.exports=function(e,t){return function(r){var s=!1!==(t=t||{}).closeOnEnd,o=\"function\"==typeof t?t:t.onClose;r(null,function t(a,u){a?s&&e.readyState<=1&&(o&&e.addEventListener(\"close\",function(e){if(e.wasClean||1006===e.code)o();else{var t=new Error(\"ws error\");t.event=e,o(t)}}),e.close()):n(e,function(n){if(n)return r(n,function(){});e.send(u),i(function(){r(null,t)})})})}}},function(e,t,r){var n=r(8).Buffer;e.exports=function(e,t){var r,i,s=[],o=!1;return e.addEventListener(\"message\",function(e){var t,i=e.data;if(((t=i)instanceof ArrayBuffer||null!=t&&null!=t.constructor&&\"ArrayBuffer\"===t.constructor.name&&\"number\"==typeof t.byteLength)&&(i=n.from(i)),r)return r(null,i);s.push(i)}),e.addEventListener(\"close\",function(e){i||r&&r(i=!0)}),e.addEventListener(\"error\",function(e){i||(i=e,o||(o=!0,t&&t(e)),r&&r(i))}),e.addEventListener(\"open\",function(e){o||i||(o=!0)}),function(t,n){if(r=null,i)return n(i);t?(r=n,e.close()):s.length>0?n(null,s.shift()):r=n}}},function(e,t,r){var n=r(268),i=r(267);e.exports=function(e,t){var r=e.upgradeReq||{};t&&t.binaryType?e.binaryType=t.binaryType:t&&t.binary&&(e.binaryType=\"arraybuffer\");return{source:n(e,t&&t.onConnect),sink:i(e,t),headers:r.headers,url:r.url,upgrade:r.upgrade,method:r.method}}},function(e,t,r){var n=r(36);t.parse=function(e){var t={};return(e=e||\"\").split(\",\").forEach(function(e){var r=e.split(\";\"),n=r.shift().trim();if(void 0===t[n])t[n]=[];else if(!t.hasOwnProperty(n))return;var i={};r.forEach(function(e){var t=e.trim().split(\"=\"),r=t[0],n=t[1];void 0===n?n=!0:('\"'===n[0]&&(n=n.slice(1)),'\"'===n[n.length-1]&&(n=n.slice(0,n.length-1))),void 0===i[r]?i[r]=[n]:i.hasOwnProperty(r)&&i[r].push(n)}),t[n].push(i)}),t},t.format=function(e){return Object.keys(e).map(function(t){var r=e[t];return n.isArray(r)||(r=[r]),r.map(function(e){return[t].concat(Object.keys(e).map(function(t){var r=e[t];return n.isArray(r)||(r=[r]),r.map(function(e){return!0===e?t:t+\"=\"+e}).join(\"; \")})).join(\"; \")}).join(\", \")}).join(\", \")}},function(e,t,r){\n/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\nr(36);var n=r(579),i=r(274),s=r(577),o=r(273),a=r(116);function u(e,t){if(this instanceof u==!1)throw new TypeError(\"Classes can't be function-called\");\"number\"==typeof e&&(t=e,e={});var r=-1;this.fragmentedBufferPool=new s(1024,function(e,t){return e.used+t},function(e){return r=r>=0?Math.ceil((r+e.used)/2):e.used});var n=-1;this.unfragmentedBufferPool=new s(1024,function(e,t){return e.used+t},function(e){return n=n>=0?Math.ceil((n+e.used)/2):e.used}),this.extensions=e||{},this.maxPayload=t||0,this.currentPayloadLength=0,this.state={activeFragmentedOperation:null,lastFragment:!1,masked:!1,opcode:0,fragmentedOperation:!1},this.overflow=[],this.headerBuffer=new Buffer(10),this.expectOffset=0,this.expectBuffer=null,this.expectHandler=null,this.currentMessage=[],this.currentMessageLength=0,this.messageHandlers=[],this.expectHeader(2,this.processPacket),this.dead=!1,this.processing=!1,this.onerror=function(){},this.ontext=function(){},this.onbinary=function(){},this.onclose=function(){},this.onping=function(){},this.onpong=function(){}}function c(e){return(this[e]<<8)+this[e+1]}function f(e){return(this[e]<<24)+(this[e+1]<<16)+(this[e+2]<<8)+this[e+3]}function l(e,t,r,n){switch(e){default:t.copy(r,n,0,e);break;case 16:r[n+15]=t[15];case 15:r[n+14]=t[14];case 14:r[n+13]=t[13];case 13:r[n+12]=t[12];case 12:r[n+11]=t[11];case 11:r[n+10]=t[10];case 10:r[n+9]=t[9];case 9:r[n+8]=t[8];case 8:r[n+7]=t[7];case 7:r[n+6]=t[6];case 6:r[n+5]=t[5];case 5:r[n+4]=t[4];case 4:r[n+3]=t[3];case 3:r[n+2]=t[2];case 2:r[n+1]=t[1];case 1:r[n]=t[0]}}function h(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}e.exports=u,u.prototype.add=function(e){if(!this.dead){var t=e.length;if(0!=t)if(null!=this.expectBuffer){var r=Math.min(t,this.expectBuffer.length-this.expectOffset);for(l(r,e,this.expectBuffer,this.expectOffset),this.expectOffset+=r,r<t&&this.overflow.push(e.slice(r));this.expectBuffer&&this.expectOffset==this.expectBuffer.length;){var n=this.expectBuffer;this.expectBuffer=null,this.expectOffset=0,this.expectHandler.call(this,n)}}else this.overflow.push(e)}},u.prototype.cleanup=function(){this.dead=!0,this.overflow=null,this.headerBuffer=null,this.expectBuffer=null,this.expectHandler=null,this.unfragmentedBufferPool=null,this.fragmentedBufferPool=null,this.state=null,this.currentMessage=null,this.onerror=null,this.ontext=null,this.onbinary=null,this.onclose=null,this.onping=null,this.onpong=null},u.prototype.expectHeader=function(e,t){if(0!=e){this.expectBuffer=this.headerBuffer.slice(this.expectOffset,this.expectOffset+e),this.expectHandler=t;for(var r=e;r>0&&this.overflow.length>0;){var n=this.overflow.pop();r<n.length&&this.overflow.push(n.slice(r));var i=Math.min(n.length,r);l(i,n,this.expectBuffer,this.expectOffset),this.expectOffset+=i,r-=i}}else t(null)},u.prototype.expectData=function(e,t){if(0!=e){this.expectBuffer=this.allocateFromPool(e,this.state.fragmentedOperation),this.expectHandler=t;for(var r=e;r>0&&this.overflow.length>0;){var n=this.overflow.pop();r<n.length&&this.overflow.push(n.slice(r));var i=Math.min(n.length,r);l(i,n,this.expectBuffer,this.expectOffset),this.expectOffset+=i,r-=i}}else t(null)},u.prototype.allocateFromPool=function(e,t){return(t?this.fragmentedBufferPool:this.unfragmentedBufferPool).get(e)},u.prototype.processPacket=function(e){if(this.extensions[a.extensionName]){if(0!=(48&e[0]))return void this.error(\"reserved fields (2, 3) must be empty\",1002)}else if(0!=(112&e[0]))return void this.error(\"reserved fields must be empty\",1002);this.state.lastFragment=128==(128&e[0]),this.state.masked=128==(128&e[1]);var t=64==(64&e[0]),r=15&e[0];if(0===r){if(t)return void this.error(\"continuation frame cannot have the Per-message Compressed bits\",1002);if(this.state.fragmentedOperation=!0,this.state.opcode=this.state.activeFragmentedOperation,1!=this.state.opcode&&2!=this.state.opcode)return void this.error(\"continuation frame cannot follow current opcode\",1002)}else{if(r<3&&null!=this.state.activeFragmentedOperation)return void this.error(\"data frames after the initial data frame must have opcode 0\",1002);if(r>=8&&t)return void this.error(\"control frames cannot have the Per-message Compressed bits\",1002);this.state.compressed=t,this.state.opcode=r,!1===this.state.lastFragment?(this.state.fragmentedOperation=!0,this.state.activeFragmentedOperation=r):this.state.fragmentedOperation=!1}var n=p[this.state.opcode];void 0===n?this.error(\"no handler for opcode \"+this.state.opcode,1002):n.start.call(this,e)},u.prototype.endPacket=function(){this.dead||(this.state.fragmentedOperation?this.state.lastFragment&&this.fragmentedBufferPool.reset(!0):this.unfragmentedBufferPool.reset(!0),this.expectOffset=0,this.expectBuffer=null,this.expectHandler=null,this.state.lastFragment&&this.state.opcode===this.state.activeFragmentedOperation&&(this.state.activeFragmentedOperation=null),this.currentPayloadLength=0,this.state.lastFragment=!1,this.state.opcode=null!=this.state.activeFragmentedOperation?this.state.activeFragmentedOperation:0,this.state.masked=!1,this.expectHeader(2,this.processPacket))},u.prototype.reset=function(){this.dead||(this.state={activeFragmentedOperation:null,lastFragment:!1,masked:!1,opcode:0,fragmentedOperation:!1},this.fragmentedBufferPool.reset(!0),this.unfragmentedBufferPool.reset(!0),this.expectOffset=0,this.expectBuffer=null,this.expectHandler=null,this.overflow=[],this.currentMessage=[],this.currentMessageLength=0,this.messageHandlers=[],this.currentPayloadLength=0)},u.prototype.unmask=function(e,t,r){return null!=e&&null!=t&&o.unmask(t,e),r?t:null!=t?t.toString(\"utf8\"):\"\"},u.prototype.error=function(e,t){if(!this.dead)return this.reset(),\"string\"==typeof e?this.onerror(new Error(e),t):e.constructor==Error?this.onerror(e,t):this.onerror(new Error(\"An error occured\"),t),this},u.prototype.flush=function(){if(!this.processing&&!this.dead){var e=this.messageHandlers.shift();if(e){this.processing=!0;var t=this;e(function(){t.processing=!1,t.flush()})}}},u.prototype.applyExtensions=function(e,t,r,n){var i=this;r?this.extensions[a.extensionName].decompress(e,t,function(e,t){i.dead||(e?n(new Error(\"invalid compressed data\")):n(null,t))}):n(null,e)},u.prototype.maxPayloadExceeded=function(e){if(void 0===this.maxPayload||null===this.maxPayload||this.maxPayload<1)return!1;var t=this.currentPayloadLength+e;return t<this.maxPayload?(this.currentPayloadLength=t,!1):(this.error(\"payload cannot exceed \"+this.maxPayload+\" bytes\",1009),this.messageBuffer=[],this.cleanup(),!0)};var p={1:{start:function(e){var t=this,r=127&e[1];if(r<126){if(t.maxPayloadExceeded(r))return void t.error(\"Maximumpayload exceeded in compressed text message. Aborting...\",1009);p[1].getData.call(t,r)}else 126==r?t.expectHeader(2,function(e){var r=c.call(e,0);t.maxPayloadExceeded(r)?t.error(\"Maximumpayload exceeded in compressed text message. Aborting...\",1009):p[1].getData.call(t,r)}):127==r&&t.expectHeader(8,function(e){if(0==f.call(e,0)){var r=f.call(e,4);t.maxPayloadExceeded(r)?t.error(\"Maximumpayload exceeded in compressed text message. Aborting...\",1009):p[1].getData.call(t,f.call(e,4))}else t.error(\"packets with length spanning more than 32 bit is currently not supported\",1008)})},getData:function(e){var t=this;t.state.masked?t.expectHeader(4,function(r){var n=r;t.expectData(e,function(e){p[1].finish.call(t,n,e)})}):t.expectData(e,function(e){p[1].finish.call(t,null,e)})},finish:function(e,t){var r=this,i=this.unmask(e,t,!0)||new Buffer(0),s=h(this.state);this.messageHandlers.push(function(e){r.applyExtensions(i,s.lastFragment,s.compressed,function(t,i){if(t)return 1009===t.type?r.error(\"Maximumpayload exceeded in compressed text message. Aborting...\",1009):r.error(t.message,1007);if(null!=i){if(!(0==r.maxPayload||r.maxPayload>0&&r.currentMessageLength+i.length<r.maxPayload))return r.currentMessage=null,r.currentMessage=[],r.currentMessageLength=0,void r.error(new Error(\"Maximum payload exceeded. maxPayload: \"+r.maxPayload),1009);r.currentMessage.push(i),r.currentMessageLength+=i.length}if(s.lastFragment){var o=Buffer.concat(r.currentMessage);if(r.currentMessage=[],r.currentMessageLength=0,!n(o))return void r.error(\"invalid utf8 sequence\",1007);r.ontext(o.toString(\"utf8\"),{masked:s.masked,buffer:o})}e()})}),this.flush(),this.endPacket()}},2:{start:function(e){var t=this,r=127&e[1];if(r<126){if(t.maxPayloadExceeded(r))return void t.error(\"Max payload exceeded in compressed text message. Aborting...\",1009);p[2].getData.call(t,r)}else 126==r?t.expectHeader(2,function(e){var r=c.call(e,0);t.maxPayloadExceeded(r)?t.error(\"Max payload exceeded in compressed text message. Aborting...\",1009):p[2].getData.call(t,r)}):127==r&&t.expectHeader(8,function(e){if(0==f.call(e,0)){var r=f.call(e,4,!0);t.maxPayloadExceeded(r)?t.error(\"Max payload exceeded in compressed text message. Aborting...\",1009):p[2].getData.call(t,r)}else t.error(\"packets with length spanning more than 32 bit is currently not supported\",1008)})},getData:function(e){var t=this;t.state.masked?t.expectHeader(4,function(r){var n=r;t.expectData(e,function(e){p[2].finish.call(t,n,e)})}):t.expectData(e,function(e){p[2].finish.call(t,null,e)})},finish:function(e,t){var r=this,n=this.unmask(e,t,!0)||new Buffer(0),i=h(this.state);this.messageHandlers.push(function(e){r.applyExtensions(n,i.lastFragment,i.compressed,function(t,n){if(t)return 1009===t.type?r.error(\"Max payload exceeded in compressed binary message. Aborting...\",1009):r.error(t.message,1007);if(null!=n){if(!(0==r.maxPayload||r.maxPayload>0&&r.currentMessageLength+n.length<r.maxPayload))return r.currentMessage=null,r.currentMessage=[],r.currentMessageLength=0,void r.error(new Error(\"Maximum payload exceeded\"),1009);r.currentMessage.push(n),r.currentMessageLength+=n.length}if(i.lastFragment){var s=Buffer.concat(r.currentMessage);r.currentMessage=[],r.currentMessageLength=0,r.onbinary(s,{masked:i.masked,buffer:s})}e()})}),this.flush(),this.endPacket()}},8:{start:function(e){if(0!=this.state.lastFragment){var t=127&e[1];t<126?p[8].getData.call(this,t):this.error(\"control frames cannot have more than 125 bytes of data\",1002)}else this.error(\"fragmented close is not supported\",1002)},getData:function(e){var t=this;t.state.masked?t.expectHeader(4,function(r){var n=r;t.expectData(e,function(e){p[8].finish.call(t,n,e)})}):t.expectData(e,function(e){p[8].finish.call(t,null,e)})},finish:function(e,t){var r=this;t=r.unmask(e,t,!0);var s=h(this.state);this.messageHandlers.push(function(){if(t&&1==t.length)r.error(\"close packets with data must be at least two bytes long\",1002);else{var e=t&&t.length>1?c.call(t,0):1e3;if(i.isValidErrorCode(e)){var o=\"\";if(t&&t.length>2){var a=t.slice(2);if(!n(a))return void r.error(\"invalid utf8 sequence\",1007);o=a.toString(\"utf8\")}r.onclose(e,o,{masked:s.masked}),r.reset()}else r.error(\"invalid error code\",1002)}}),this.flush()}},9:{start:function(e){if(0!=this.state.lastFragment){var t=127&e[1];t<126?p[9].getData.call(this,t):this.error(\"control frames cannot have more than 125 bytes of data\",1002)}else this.error(\"fragmented ping is not supported\",1002)},getData:function(e){var t=this;t.state.masked?t.expectHeader(4,function(r){var n=r;t.expectData(e,function(e){p[9].finish.call(t,n,e)})}):t.expectData(e,function(e){p[9].finish.call(t,null,e)})},finish:function(e,t){var r=this;t=this.unmask(e,t,!0);var n=h(this.state);this.messageHandlers.push(function(e){r.onping(t,{masked:n.masked,binary:!0}),e()}),this.flush(),this.endPacket()}},10:{start:function(e){if(0!=this.state.lastFragment){var t=127&e[1];t<126?p[10].getData.call(this,t):this.error(\"control frames cannot have more than 125 bytes of data\",1002)}else this.error(\"fragmented pong is not supported\",1002)},getData:function(e){var t=this;this.state.masked?this.expectHeader(4,function(r){var n=r;t.expectData(e,function(e){p[10].finish.call(t,n,e)})}):this.expectData(e,function(e){p[10].finish.call(t,null,e)})},finish:function(e,t){var r=this;t=r.unmask(e,t,!0);var n=h(this.state);this.messageHandlers.push(function(e){r.onpong(t,{masked:n.masked,binary:!0}),e()}),this.flush(),this.endPacket()}}}},function(e,t){e.exports=require(\"zlib\")},function(e,t,r){\"use strict\";\n/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */var n;try{n=r(!function(){var e=new Error(\"Cannot find module 'bufferutil'\");throw e.code=\"MODULE_NOT_FOUND\",e}())}catch(e){n=r(580)}e.exports=n.BufferUtil||n},function(e,t){\n/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\ne.exports={isValidErrorCode:function(e){return e>=1e3&&e<=1011&&1004!=e&&1005!=e&&1006!=e||e>=3e3&&e<=4999},1000:\"normal\",1001:\"going away\",1002:\"protocol error\",1003:\"unsupported data\",1004:\"reserved\",1005:\"reserved for extensions\",1006:\"reserved for extensions\",1007:\"inconsistent or invalid data\",1008:\"policy violation\",1009:\"message too big\",1010:\"extension handshake missing\",1011:\"an unexpected condition prevented the request from being fulfilled\"}},function(e,t,r){\n/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\nvar n=r(11),i=r(36),s=r(24),o=(n.EventEmitter,r(274)),a=r(273),u=r(116);function c(e,t){if(this instanceof c==!1)throw new TypeError(\"Classes can't be function-called\");n.EventEmitter.call(this),this._socket=e,this.extensions=t||{},this.firstFragment=!0,this.compress=!1,this.messageHandlers=[],this.processing=!1}function f(e,t){this[t]=(65280&e)>>8,this[t+1]=255&e}function l(e,t){this[t]=(4278190080&e)>>24,this[t+1]=(16711680&e)>>16,this[t+2]=(65280&e)>>8,this[t+3]=255&e}function h(e){for(var t=new Uint8Array(e.buffer||e),r=e.byteLength||e.length,n=e.byteOffset||0,i=new Buffer(r),s=0;s<r;++s)i[s]=t[n+s];return i}i.inherits(c,n.EventEmitter),c.prototype.close=function(e,t,r,n){if(void 0!==e&&(\"number\"!=typeof e||!o.isValidErrorCode(e)))throw new Error(\"first argument must be a valid error code number\");e=e||1e3;var i=new Buffer(2+(t?Buffer.byteLength(t):0));f.call(i,e,0),i.length>2&&i.write(t,2);var s=this;this.messageHandlers.push(function(){s.frameAndSend(8,i,!0,r),\"function\"==typeof n&&n()}),this.flush()},c.prototype.ping=function(e,t){var r=t&&t.mask,n=this;this.messageHandlers.push(function(){n.frameAndSend(9,e||\"\",!0,r)}),this.flush()},c.prototype.pong=function(e,t){var r=t&&t.mask,n=this;this.messageHandlers.push(function(){n.frameAndSend(10,e||\"\",!0,r)}),this.flush()},c.prototype.send=function(e,t,r){var n=!t||!1!==t.fin,i=t&&t.mask,s=t&&t.compress,o=t&&t.binary?2:1;!1===this.firstFragment?(o=0,s=!1):(this.firstFragment=!1,this.compress=s),n&&(this.firstFragment=!0);var a=this.compress,u=this;this.messageHandlers.push(function(){e&&a?(u.processing=!0,u.applyExtensions(e,n,a,function(e,t){e?\"function\"==typeof r?r(e):u.emit(\"error\",e):(u.frameAndSend(o,t,n,i,s,r),u.processing=!1,u.flush())})):u.frameAndSend(o,e,n,i,s,r)}),this.flush()},c.prototype.frameAndSend=function(e,t,r,n,i,o){var u=!1;if(t){Buffer.isBuffer(t)||(u=!0,!t||void 0===t.byteLength&&void 0===t.buffer?(\"number\"==typeof t&&(t=t.toString()),t=new Buffer(t)):t=h(t));var c=t.length,p=n?6:2,d=c;c>=65536?(p+=8,d=127):c>125&&(p+=2,d=126);var y=c<32768||n&&!u,m=new Buffer(y?c+p:p);switch(m[0]=r?128|e:e,i&&(m[0]|=64),d){case 126:f.call(m,c,2);break;case 127:l.call(m,0,2),l.call(m,c,6)}if(n){m[1]=128|d;var g=s.randomBytes(4);if(m[p-4]=g[0],m[p-3]=g[1],m[p-2]=g[2],m[p-1]=g[3],y){a.mask(t,g,m,p,c);try{this._socket.write(m,\"binary\",o)}catch(e){\"function\"==typeof o?o(e):this.emit(\"error\",e)}}else{a.mask(t,g,t,0,c);try{this._socket.write(m,\"binary\"),this._socket.write(t,\"binary\",o)}catch(e){\"function\"==typeof o?o(e):this.emit(\"error\",e)}}}else if(m[1]=d,y){t.copy(m,p);try{this._socket.write(m,\"binary\",o)}catch(e){\"function\"==typeof o?o(e):this.emit(\"error\",e)}}else try{this._socket.write(m,\"binary\"),this._socket.write(t,\"binary\",o)}catch(e){\"function\"==typeof o?o(e):this.emit(\"error\",e)}}else try{this._socket.write(new Buffer([e|(r?128:0),0|(n?128:0)].concat(n?[0,0,0,0]:[])),\"binary\",o)}catch(e){\"function\"==typeof o?o(e):this.emit(\"error\",e)}},c.prototype.flush=function(){for(;!this.processing&&this.messageHandlers.length;)this.messageHandlers.shift()()},c.prototype.applyExtensions=function(e,t,r,n){(e.buffer||e)instanceof ArrayBuffer&&(e=h(e)),this.extensions[u.extensionName].compress(e,t,n)},e.exports=c},function(e,t,r){\n/*!\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\nvar n=r(52);e.exports=function(e){var t={},r=this.value={};Object.keys(e).forEach(function(n){t[n]=e[n],Object.defineProperty(r,n,{get:function(){return t[n]},configurable:!1,enumerable:!0})}),this.reset=function(){return Object.keys(e).forEach(function(r){t[r]=e[r]}),this},this.merge=function(e,r){if(e=e||{},\"[object Array]\"===Object.prototype.toString.call(r)){for(var n=[],i=0,s=r.length;i<s;++i){var o=r[i];o in e||n.push(o)}if(n.length>0)throw n.length>1?new Error(\"options \"+n.slice(0,n.length-1).join(\", \")+\" and \"+n[n.length-1]+\" must be defined\"):new Error(\"option \"+n[0]+\" must be defined\")}return Object.keys(e).forEach(function(r){r in t&&(t[r]=e[r])}),this},this.copy=function(t){var n={};return Object.keys(e).forEach(function(e){-1!==t.indexOf(e)&&(n[e]=r[e])}),n},this.read=function(e,t){if(\"function\"==typeof t){var r=this;n.readFile(e,function(e,n){if(e)return t(e);var i=JSON.parse(n);r.merge(i),t()})}else{var i=JSON.parse(n.readFileSync(e));this.merge(i)}return this},this.isDefined=function(e){return void 0!==r[e]},this.isDefinedAndNonNull=function(e){return void 0!==r[e]&&null!==r[e]},Object.freeze(r),Object.freeze(this)}},function(e,t){e.exports=require(\"stream\")},function(e,t,r){\"use strict\";\n/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */var n=r(51),i=r(36),s=r(81),o=r(117),a=r(24),u=r(277),c=r(581),f=r(276),l=r(275),h=r(271),p=r(576),d=r(575),y=r(270),m=r(116),g=r(11).EventEmitter,v=13;function b(e,t,r){if(this instanceof b==!1)return new b(e,t,r);g.call(this),t&&!Array.isArray(t)&&\"object\"==typeof t&&(r=t,t=null),\"string\"==typeof t&&(t=[t]),Array.isArray(t)||(t=[]),this._socket=null,this._ultron=null,this._closeReceived=!1,this.bytesReceived=0,this.readyState=null,this.supports={},this.extensions={},this._binaryType=\"nodebuffer\",Array.isArray(e)?function(e,t,r,n){n=new f({protocolVersion:v,protocol:null,extensions:{},maxPayload:0}).merge(n),this.protocol=n.value.protocol,this.protocolVersion=n.value.protocolVersion,this.extensions=n.value.extensions,this.supports.binary=\"hixie-76\"!==this.protocolVersion,this.upgradeReq=e,this.readyState=b.CONNECTING,this._isServer=!0,this.maxPayload=n.value.maxPayload,\"hixie-76\"===n.value.protocolVersion?_.call(this,d,p,t,r):_.call(this,h,l,t,r)}.apply(this,e.concat(r)):function(e,t,r){if(8!==(r=new f({origin:null,protocolVersion:v,host:null,headers:null,protocol:t.join(\",\"),agent:null,pfx:null,key:null,passphrase:null,cert:null,ca:null,ciphers:null,rejectUnauthorized:null,perMessageDeflate:!0,localAddress:null}).merge(r)).value.protocolVersion&&13!==r.value.protocolVersion)throw new Error(\"unsupported protocol version\");var i=n.parse(e),u=\"ws+unix:\"===i.protocol;if(!i.host&&!u)throw new Error(\"invalid url\");var c,p=\"wss:\"===i.protocol||\"https:\"===i.protocol,d=p?o:s,g=i.port||(p?443:80),k=i.auth,S={};r.value.perMessageDeflate&&(c=new m(!0!==typeof r.value.perMessageDeflate?r.value.perMessageDeflate:{},!1),S[m.extensionName]=c.offer());this._isServer=!1,this.url=e,this.protocolVersion=r.value.protocolVersion,this.supports.binary=\"hixie-76\"!==this.protocolVersion;var x=new Buffer(r.value.protocolVersion+\"-\"+Date.now()).toString(\"base64\"),A=a.createHash(\"sha1\");A.update(x+\"258EAFA5-E914-47DA-95CA-C5AB0DC85B11\");var B=A.digest(\"base64\"),C=r.value.agent,I=w(p,i.hostname,g),T={port:g,host:i.hostname,headers:{Connection:\"Upgrade\",Upgrade:\"websocket\",Host:I,\"Sec-WebSocket-Version\":r.value.protocolVersion,\"Sec-WebSocket-Key\":x}};k&&(T.headers.Authorization=\"Basic \"+new Buffer(k).toString(\"base64\"));r.value.protocol&&(T.headers[\"Sec-WebSocket-Protocol\"]=r.value.protocol);r.value.host&&(T.headers.Host=r.value.host);if(r.value.headers)for(var D in r.value.headers)r.value.headers.hasOwnProperty(D)&&(T.headers[D]=r.value.headers[D]);Object.keys(S).length&&(T.headers[\"Sec-WebSocket-Extensions\"]=y.format(S));(r.isDefinedAndNonNull(\"pfx\")||r.isDefinedAndNonNull(\"key\")||r.isDefinedAndNonNull(\"passphrase\")||r.isDefinedAndNonNull(\"cert\")||r.isDefinedAndNonNull(\"ca\")||r.isDefinedAndNonNull(\"ciphers\")||r.isDefinedAndNonNull(\"rejectUnauthorized\"))&&(r.isDefinedAndNonNull(\"pfx\")&&(T.pfx=r.value.pfx),r.isDefinedAndNonNull(\"key\")&&(T.key=r.value.key),r.isDefinedAndNonNull(\"passphrase\")&&(T.passphrase=r.value.passphrase),r.isDefinedAndNonNull(\"cert\")&&(T.cert=r.value.cert),r.isDefinedAndNonNull(\"ca\")&&(T.ca=r.value.ca),r.isDefinedAndNonNull(\"ciphers\")&&(T.ciphers=r.value.ciphers),r.isDefinedAndNonNull(\"rejectUnauthorized\")&&(T.rejectUnauthorized=r.value.rejectUnauthorized),C||(C=new d.Agent(T)));T.path=i.path||\"/\",C&&(T.agent=C);u&&(T.socketPath=i.pathname);r.value.localAddress&&(T.localAddress=r.value.localAddress);r.value.origin&&(r.value.protocolVersion<13?T.headers[\"Sec-WebSocket-Origin\"]=r.value.origin:T.headers.Origin=r.value.origin);var P=this,O=d.request(T);O.on(\"error\",function(e){P.emit(\"error\",e),E.call(P,e)}),O.once(\"response\",function(e){var t;P.emit(\"unexpected-response\",O,e)||(t=new Error(\"unexpected server response (\"+e.statusCode+\")\"),O.abort(),P.emit(\"error\",t)),E.call(P,t)}),O.once(\"upgrade\",function(e,t,n){if(P.readyState===b.CLOSED)return P.emit(\"close\"),P.removeAllListeners(),void t.end();var i=e.headers[\"sec-websocket-accept\"];if(void 0===i||i!==B)return P.emit(\"error\",\"invalid server key\"),P.removeAllListeners(),void t.end();var s=e.headers[\"sec-websocket-protocol\"],o=(r.value.protocol||\"\").split(/, */),a=null;if(!r.value.protocol&&s?a=\"server sent a subprotocol even though none requested\":r.value.protocol&&!s?a=\"server sent no subprotocol even though requested\":s&&-1===o.indexOf(s)&&(a=\"server responded with an invalid protocol\"),a)return P.emit(\"error\",a),P.removeAllListeners(),void t.end();s&&(P.protocol=s);var u=y.parse(e.headers[\"sec-websocket-extensions\"]);if(c&&u[m.extensionName]){try{c.accept(u[m.extensionName])}catch(e){return P.emit(\"error\",\"invalid extension parameter\"),P.removeAllListeners(),void t.end()}P.extensions[m.extensionName]=c}_.call(P,h,l,t,n),O.removeAllListeners(),O=null,C=null}),O.end(),this.readyState=b.CONNECTING}.apply(this,[e,t,r])}function w(e,t,r){var n=t;return t&&(e&&443!=r||!e&&80!=r)&&(n=n+\":\"+r),n}function _(e,t,r,n){var i=this._ultron=new c(r),s=!1,o=this;function a(e){s||o.readyState===b.CLOSED||(s=!0,r.removeListener(\"data\",a),i.on(\"data\",u),n&&n.length>0&&(u(n),n=null),e&&u(e))}function u(e){o.bytesReceived+=e.length,o._receiver.add(e)}r.setTimeout(0),r.setNoDelay(!0),this._receiver=new e(this.extensions,this.maxPayload),this._socket=r,i.on(\"end\",E.bind(this)),i.on(\"close\",E.bind(this)),i.on(\"error\",E.bind(this)),i.on(\"data\",a),process.nextTick(a),o._receiver.ontext=function(e,t){t=t||{},o.emit(\"message\",e,t)},o._receiver.onbinary=function(e,t){(t=t||{}).binary=!0,o.emit(\"message\",e,t)},o._receiver.onping=function(e,t){t=t||{},o.pong(e,{mask:!o._isServer,binary:!0===t.binary},!0),o.emit(\"ping\",e,t)},o._receiver.onpong=function(e,t){o.emit(\"pong\",e,t||{})},o._receiver.onclose=function(e,t,r){r=r||{},o._closeReceived=!0,o.close(e,t)},o._receiver.onerror=function(e,t){o.close(void 0!==t?t:1002,\"\"),o.emit(\"error\",e instanceof Error?e:new Error(e))},this._sender=new t(r,this.extensions),this._sender.on(\"error\",function(e){o.close(1002,\"\"),o.emit(\"error\",e)}),this.readyState=b.OPEN,this.emit(\"open\")}function k(e){e._queue=e._queue||[]}function S(e){var t=e._queue;if(void 0!==t){delete e._queue;for(var r=0,n=t.length;r<n;++r)t[r]()}}function E(e){if(this.readyState!==b.CLOSED){if(this.readyState=b.CLOSED,clearTimeout(this._closeTimer),this._closeTimer=null,!e&&this._closeReceived||(this._closeCode=1006),this.emit(\"close\",this._closeCode||1e3,this._closeMessage||\"\"),this._socket){this._ultron&&this._ultron.destroy(),this._socket.on(\"error\",function(){try{this.destroy()}catch(e){}});try{e?this._socket.destroy():this._socket.end()}catch(e){}this._socket=null,this._ultron=null}this._sender&&(this._sender.removeAllListeners(),this._sender=null),this._receiver&&(this._receiver.cleanup(),this._receiver=null),this.extensions[m.extensionName]&&this.extensions[m.extensionName].cleanup(),this.extensions=null,this.removeAllListeners(),this.on(\"error\",function(){}),delete this._queue}}i.inherits(b,g),[\"CONNECTING\",\"OPEN\",\"CLOSING\",\"CLOSED\"].forEach(function(e,t){b.prototype[e]=b[e]=t}),b.prototype.close=function(e,t){if(this.readyState!==b.CLOSED)if(this.readyState!==b.CONNECTING)if(this.readyState!==b.CLOSING){var r=this;try{this.readyState=b.CLOSING,this._closeCode=e,this._closeMessage=t;var n=!this._isServer;this._sender.close(e,t,n,function(e){e&&r.emit(\"error\",e),r._closeReceived&&r._isServer?r.terminate():(clearTimeout(r._closeTimer),r._closeTimer=setTimeout(E.bind(r,!0),3e4))})}catch(e){this.emit(\"error\",e)}}else this._closeReceived&&this._isServer&&this.terminate();else this.readyState=b.CLOSED},b.prototype.pause=function(){if(this.readyState!==b.OPEN)throw new Error(\"not opened\");return this._socket.pause()},b.prototype.ping=function(e,t,r){if(this.readyState!==b.OPEN){if(!0===r)return;throw new Error(\"not opened\")}void 0===(t=t||{}).mask&&(t.mask=!this._isServer),this._sender.ping(e,t)},b.prototype.pong=function(e,t,r){if(this.readyState!==b.OPEN){if(!0===r)return;throw new Error(\"not opened\")}void 0===(t=t||{}).mask&&(t.mask=!this._isServer),this._sender.pong(e,t)},b.prototype.resume=function(){if(this.readyState!==b.OPEN)throw new Error(\"not opened\");return this._socket.resume()},b.prototype.send=function(e,t,r){if(\"function\"==typeof t&&(r=t,t={}),this.readyState===b.OPEN)if(e||(e=\"\"),this._queue){var n=this;this._queue.push(function(){n.send(e,t,r)})}else{(t=t||{}).fin=!0,void 0===t.binary&&(t.binary=e instanceof ArrayBuffer||e instanceof Buffer||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array),void 0===t.mask&&(t.mask=!this._isServer),void 0===t.compress&&(t.compress=!0),this.extensions[m.extensionName]||(t.compress=!1);var i=\"function\"==typeof u.Readable?u.Readable:u.Stream;if(e instanceof i){k(this);n=this;!function(e,t,r,n){t.on(\"data\",function(t){e.readyState===b.OPEN?(r.fin=!1,e._sender.send(t,r)):\"function\"==typeof n?n(new Error(\"not opened\")):(delete e._queue,e.emit(\"error\",new Error(\"not opened\")))}),t.on(\"end\",function(){e.readyState===b.OPEN?(r.fin=!0,e._sender.send(null,r),\"function\"==typeof n&&n(null)):\"function\"==typeof n?n(new Error(\"not opened\")):(delete e._queue,e.emit(\"error\",new Error(\"not opened\")))})}(this,e,t,function(e){process.nextTick(function(){S(n)}),\"function\"==typeof r&&r(e)})}else this._sender.send(e,t,r)}else{if(\"function\"!=typeof r)throw new Error(\"not opened\");r(new Error(\"not opened\"))}},b.prototype.stream=function(e,t){\"function\"==typeof e&&(t=e,e={});var r=this;if(\"function\"!=typeof t)throw new Error(\"callback must be provided\");if(this.readyState===b.OPEN)this._queue?this._queue.push(function(){r.stream(e,t)}):(void 0===(e=e||{}).mask&&(e.mask=!this._isServer),void 0===e.compress&&(e.compress=!0),this.extensions[m.extensionName]||(e.compress=!1),k(this),process.nextTick(t.bind(null,null,function n(i,s){try{if(r.readyState!==b.OPEN)throw new Error(\"not opened\");e.fin=!0===s,r._sender.send(i,e),s?S(r):process.nextTick(t.bind(null,null,n))}catch(e){\"function\"==typeof t?t(e):(delete r._queue,r.emit(\"error\",e))}})));else{if(\"function\"!=typeof t)throw new Error(\"not opened\");t(new Error(\"not opened\"))}},b.prototype.terminate=function(){if(this.readyState!==b.CLOSED)if(this._socket){this.readyState=b.CLOSING;try{this._socket.end()}catch(e){return void E.call(this,!0)}this._closeTimer&&clearTimeout(this._closeTimer),this._closeTimer=setTimeout(E.bind(this,!0),3e4)}else this.readyState===b.CONNECTING&&E.call(this,!0)},Object.defineProperty(b.prototype,\"bufferedAmount\",{get:function(){var e=0;return this._socket&&(e=this._socket.bufferSize||0),e}}),Object.defineProperty(b.prototype,\"binaryType\",{get:function(){return this._binaryType},set:function(e){if(\"arraybuffer\"!==e&&\"nodebuffer\"!==e)throw new SyntaxError('unsupported binaryType: must be either \"nodebuffer\" or \"arraybuffer\"');this._binaryType=e}}),[\"open\",\"error\",\"close\",\"message\"].forEach(function(e){Object.defineProperty(b.prototype,\"on\"+e,{get:function(){var t=this.listeners(e)[0];return t?t._listener?t._listener:t:void 0},set:function(t){this.removeAllListeners(e),this.addEventListener(e,t)}})}),b.prototype.addEventListener=function(e,t){var r=this;function n(e,n){n.binary&&\"arraybuffer\"===this.binaryType&&(e=new Uint8Array(e).buffer),t.call(r,new function(e,t,r){this.type=\"message\",this.data=e,this.target=r,this.binary=t}(e,!!n.binary,r))}function i(e,n){t.call(r,new function(e,t,r){this.type=\"close\",this.wasClean=void 0===e||1e3===e,this.code=e,this.reason=t,this.target=r}(e,n,r))}function s(e){e.type=\"error\",e.target=r,t.call(r,e)}function o(){t.call(r,new function(e){this.type=\"open\",this.target=e}(r))}\"function\"==typeof t&&(\"message\"===e?(n._listener=t,this.on(e,n)):\"close\"===e?(i._listener=t,this.on(e,i)):\"error\"===e?(s._listener=t,this.on(e,s)):\"open\"===e?(o._listener=t,this.on(e,o)):this.on(e,t))},e.exports=b,e.exports.buildHostHeader=w},function(e,t,r){\"use strict\";\n/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */var n=e.exports=r(278);n.Server=r(574),n.Sender=r(275),n.Receiver=r(271),n.createServer=function(e,t){var r=new n.Server(e);return\"function\"==typeof t&&r.on(\"connection\",t),r},n.connect=n.createConnection=function(e,t){var r=new n(e);return\"function\"==typeof t&&r.on(\"open\",t),r}},function(e,t,r){\"use strict\";var n=r(582),i=r(269),s=r(571);function o(e){return\"function\"==typeof e}e.exports=function(e,t){o(t)&&(t={onConnect:t});var r=\"undefined\"==typeof window?{}:window.location,a=s(e,r),u=new n(a),c=i(u,t);return c.remoteAddress=a,c.close=function(e){o(e)&&u.addEventListener(\"close\",e),u.close()},u.addEventListener(\"open\",function(e){t&&o(t.onConnect)&&t.onConnect(null,c)}),c},e.exports.connect=e.exports},function(e,t,r){\"use strict\";var n=r(93).sprintf,i=t.spanAllZeroes=function(e){return e.replace(/(0+)/g,'<span class=\"zero\">$1</span>')};function s(e){return e.replace(/^(0+)/,'<span class=\"zero\">$1</span>')}t.spanAll=function(e,t){return void 0===t&&(t=0),e.split(\"\").map(function(e,r){return n('<span class=\"digit value-%s position-%d\">%s</span>',e,r+t,i(e))}).join(\"\")},t.spanLeadingZeroes=function(e){return e.split(\":\").map(function(e){return s(e)}).join(\":\")},t.simpleGroup=function(e,t){var r=e.split(\":\");return t||(t=0),r.map(function(e,r){return/group-v4/.test(e)?e:n('<span class=\"hover-group group-%d\">%s</span>',r+t,s(e))}).join(\":\")}},function(e,t){var r=1/0,n=9007199254740991,i=1.7976931348623157e308,s=NaN,o=\"[object Function]\",a=\"[object GeneratorFunction]\",u=\"[object Symbol]\",c=/^\\s+|\\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,h=/^0o[0-7]+$/i,p=/^(?:0|[1-9]\\d*)$/,d=parseInt,y=\"object\"==typeof global&&global&&global.Object===Object&&global,m=\"object\"==typeof self&&self&&self.Object===Object&&self,g=y||m||Function(\"return this\")(),v=Object.prototype.toString,b=g.Symbol,w=Math.floor,_=b?b.prototype:void 0,k=_?_.toString:void 0;function S(e,t,r){if(!E(r))return!1;var i=typeof t;return!!(\"number\"==i?function(e){return null!=e&&function(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!function(e){var t=E(e)?v.call(e):\"\";return t==o||t==a}(e)}(r)&&function(e,t){return!!(t=null==t?n:t)&&(\"number\"==typeof e||p.test(e))&&e>-1&&e%1==0&&e<t}(t,r.length):\"string\"==i&&t in r)&&function(e,t){return e===t||e!=e&&t!=t}(r[t],e)}function E(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}function x(e){return\"symbol\"==typeof e||function(e){return!!e&&\"object\"==typeof e}(e)&&v.call(e)==u}function A(e){return e?(e=function(e){if(\"number\"==typeof e)return e;if(x(e))return s;if(E(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=E(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(c,\"\");var r=l.test(e);return r||h.test(e)?d(e.slice(2),r?2:8):f.test(e)?s:+e}(e))===r||e===-r?(e<0?-1:1)*i:e==e?e:0:0===e?e:0}function B(e){return null==e?\"\":function(e){if(\"string\"==typeof e)return e;if(x(e))return k?k.call(e):\"\";var t=e+\"\";return\"0\"==t&&1/e==-r?\"-0\":t}(e)}e.exports=function(e,t,r){var i,s;return(r?S(e,t,r):void 0===t)?t=1:(i=A(t),s=i%1,t=i==i?s?i-s:i:0),function(e,t){var r=\"\";if(!e||t<1||t>n)return r;do{t%2&&(r+=e),(t=w(t/2))&&(e+=e)}while(t);return r}(B(e),t)}},function(e,t){var r,n=1/0,i=9007199254740991,s=1.7976931348623157e308,o=NaN,a=\"[object Symbol]\",u=/^\\s+|\\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,l=/^0o[0-7]+$/i,h=\"[\\\\ud800-\\\\udfff]\",p=\"[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23\\\\u20d0-\\\\u20f0]\",d=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",y=\"[^\\\\ud800-\\\\udfff]\",m=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",g=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",v=\"(?:\"+p+\"|\"+d+\")\"+\"?\",b=\"[\\\\ufe0e\\\\ufe0f]?\"+v+(\"(?:\\\\u200d(?:\"+[y,m,g].join(\"|\")+\")[\\\\ufe0e\\\\ufe0f]?\"+v+\")*\"),w=\"(?:\"+[y+p+\"?\",p,m,g,h].join(\"|\")+\")\",_=RegExp(d+\"(?=\"+d+\")|\"+w+b,\"g\"),k=RegExp(\"[\\\\u200d\\\\ud800-\\\\udfff\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23\\\\u20d0-\\\\u20f0\\\\ufe0e\\\\ufe0f]\"),S=parseInt,E=\"object\"==typeof global&&global&&global.Object===Object&&global,x=\"object\"==typeof self&&self&&self.Object===Object&&self,A=E||x||Function(\"return this\")(),B=(r=\"length\",function(e){return null==e?void 0:e[r]});function C(e){return k.test(e)}function I(e){return C(e)?function(e){var t=_.lastIndex=0;for(;_.test(e);)t++;return t}(e):B(e)}function€€